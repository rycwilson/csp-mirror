!function(r){r.fn.textfill=function(e){function f(){x.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function d(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function a(e,i,t,n,l,s){function h(e,i){var t=" / ";return i<e?t=" > ":e==i&&(t=" = "),t}f("[TextFill] "+e+" { font-size: "+i.css("font-size")+",Height: "+i.height()+"px "+h(i.height(),t)+t+"px,Width: "+i.width()+h(i.width(),n)+n+",minFontPixels: "+l+"px, maxFontPixels: "+s+"px }")}function u(e,i,t,n,l,s,h,c){for(a(e,i,l,s,h,c);h<c-1;){var o=Math.floor((h+c)/2);if(i.css("font-size",o),t.call(i)<=n){if(h=o,t.call(i)==n)break}else c=o;a(e,i,l,s,h,c)}return i.css("font-size",c),t.call(i)<=n&&a(e+"* ",i,l,s,h=c,c),h}var i={debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},x=r.extend(i,e);return f("[TextFill] Start Debug"),this.each(function(){var e=r(x.innerTag+":visible:first",this),i=x.explicitHeight||r(this).height(),t=x.explicitWidth||r(this).width(),n=e.css("font-size"),l=parseFloat(e.css("line-height"))/parseFloat(n);f("[TextFill] Inner text: "+e.text()),f("[TextFill] All options: ",x),f("[TextFill] Maximum sizes: { Height: "+i+"px, Width: "+t+"px }");var s=x.minFontPixels,h=x.maxFontPixels<=0?i:x.maxFontPixels,c=undefined;x.widthOnly||(c=u("Height",e,r.fn.height,i,i,t,s,h));var o=undefined;if(o=u("Width",e,r.fn.width,t,i,t,s,h),x.widthOnly)e.css({"font-size":o,"white-space":"nowrap"}),x.changeLineHeight&&e.parent().css("line-height",l*o+"px");else{var a=Math.min(c,o);e.css("font-size",a),x.changeLineHeight&&e.parent().css("line-height",l*a+"px")}f("[TextFill] Finished { Old font-size: "+n+", New font-size: "+e.css("font-size")+" }"),e.width()>t||e.height()>i&&!x.widthOnly?(e.css("font-size",n),x.fail&&x.fail(this),f("[TextFill] Failure { Current Width: "+e.width()+", Maximum Width: "+t+", Current Height: "+e.height()+", Maximum Height: "+i+" }")):x.success?x.success(this):x.callback&&(d("callback is deprecated, use success, instead"),x.callback(this))}),x.complete&&x.complete(this),f("[TextFill] End Debug"),this}}(window.jQuery);