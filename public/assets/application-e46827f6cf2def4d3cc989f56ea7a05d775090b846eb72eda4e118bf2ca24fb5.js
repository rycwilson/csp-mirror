function flashTimeout(){setTimeout(function(){$("#flash").slideUp()},3e3),setTimeout(function(){$("#flash").addClass("hidden").removeClass("alert-success alert-info alert-warning alert-danger").empty()},3500)}function flashDisplay(t,e,n){$("#flash").removeClass("hidden").addClass("alert-"+e).append(t).hide().append(flash).fadeIn("fast"),setTimeout(function(){$("#flash").slideUp(),n&&n()},3e3),setTimeout(function(){$("#flash").addClass("hidden").removeClass("alert-"+e),$("#flash div").empty(),$("#flash").css("display",""),$("#flash").html($("#flash").children())},3500)}function currentStory(){return $("body").hasClass("stories show")?app.stories.find(function(t){return t.csp_story_path===window.location.pathname}):$("body").hasClass("stories edit")?app.stories.find(function(t){return t.id===parseInt(window.location.pathname.match(/\/(\d+)\//)[1],10)}):null}function getQueryString(t,e){var n=e?e:window.location.href,i=new RegExp("[?&]"+t+"=([^&#]*)","i"),o=i.exec(n);return o?o[1]:null}function centerLogos(){$("#stories-gallery img, #more-stories-container img, #related-stories img").each(function(){var t=$(this).outerHeight(),e=parseInt($(this).css("max-height")),n=e-t;if(n&&!$(this).data("modified")){var i=n/2+parseInt($(this).css("margin-top"),10);$(this).css("margin-top",i),$(this).css("margin-bottom",n/2),$(this).data("modified",!0)}})}function moreStoriesScrollHandlers(){for(var t=$(".row-horizon"),e=$(".cs-pagination-row"),n=t.prop("scrollWidth"),i=(n-t.width(),Math.ceil(n/t.width())),o=Math.ceil(n/i),r=1,a=null,s=null,l=function(t,e,n,i){for(var o=1;o<=e;o++)if(t+i/2<n*o)return o},c=function(){a=l($(this).scrollLeft(),i,o,$(this).width()),a!==r&&(s=r,r=a,e.find("div:nth-of-type("+s.toString()+")").removeClass("cs-current-page-dot"),e.find("div:nth-of-type("+r.toString()+")").addClass("cs-current-page-dot"))},u=function(t,e,n){return function(i){var o=null;$(this).hasClass("cs-current-page-dot")&&i.preventDefault(),t.off("scroll",n),$(this).addClass("goto-page-dot"),$(".cs-current-page-dot").removeClass("cs-current-page-dot"),$(".cs-page-dot").each(function(t){if($(this).hasClass("goto-page-dot"))return o=t*e,$(this).addClass("cs-current-page-dot").removeClass("goto-page-dot"),!1}),t.animate({scrollLeft:o},1e3,function(){t.on("scroll",n)})}},d=function(t,e){return function(){var n=t.scrollLeft();$(".cs-page-dot").off("click",u),n>=e?t.animate({scrollLeft:"-="+e.toString()},1e3,function(){$(".cs-page-dot").on("click",u)}):t.animate({scrollLeft:"-="+n.toString()},1e3,function(){$(".cs-page-dot").on("click",u)})}},h=function(t,e,n){return function(){var i=t.scrollLeft(),o=n-(i+t.width());$(".cs-page-dot").off("click",u),o>=e?t.animate({scrollLeft:"+="+e.toString()},1e3,function(){$(".cs-page-dot").on("click",u)}):t.animate({scrollLeft:"+="+o.toString()},1e3,function(){$(".cs-page-dot").on("click",u)})}},p=0;p<i;p++)0===p?e.append("<div class='cs-page-dot cs-current-page-dot'></div>"):e.append("<div class='cs-page-dot'></div>");i>1?(t.on("scroll",c),$(".cs-scroll-left").on("click",d(t,o)),$(".cs-scroll-right").on("click",h(t,o,n)),$(".cs-page-dot").on("click",u(t,o,c))):$(".cs-pagination-row, .cs-scroll-left, .cs-scroll-right").css("visibility","hidden")}function yScrollBoundaries(){var t=null;$(document).on("wheel",".popover-content",function(e){t=$(this).prop("scrollHeight")-$(this).prop("offsetHeight"),($(this).prop("scrollTop")+e.originalEvent.deltaY<0||$(this).prop("scrollTop")+e.originalEvent.deltaY>t)&&(e.preventDefault(),$(this).prop("scrollTop",Math.max(0,Math.min(t,$(this).prop("scrollTop")+e.originalEvent.deltaY))))}),$(document).on("click",".popover-title + button.close",function(){$(this).closest(".popover").popover("hide")})}function xScrollBoundaries(){var t=null;$(document).on("wheel",".row-horizon",function(e){t=$(this).prop("scrollWidth")-$(this).prop("offsetWidth"),($(this).prop("scrollLeft")+e.originalEvent.deltaX<0||$(this).prop("scrollLeft")+e.originalEvent.deltaX>t)&&(e.preventDefault(),$(this).prop("scrollLeft",Math.max(0,Math.min(t,$(this).prop("scrollLeft")+e.originalEvent.deltaX))))})}function initS3Upload(){$(".directUpload").find("input:file").each(function(t,e){var n=$(e),i=$(n.parents("form:first")),o=i.find('input[type="submit"]'),r=$("<div class='bar'></div>");$("<div class='progress'></div>").append(r);n.fileupload({fileInput:n,url:i.data("url"),type:"POST",autoUpload:!0,formData:i.data("form-data"),paramName:"file",dataType:"XML",replaceFileInput:!1,progressall:function(t,e){var n=parseInt(e.loaded/e.total*100,10);r.css("width",n+"%")},submit:function(t){var e=$(t.target).val(),n=e.slice(e.lastIndexOf("/")+1,e.length);if(n.indexOf(" ")!==-1)return flashDisplay("File name can not contain spaces","danger"),$(".fileinput").fileinput("reset"),!1},start:function(){o.prop("disabled",!0),r.css("background","green").css("display","block").css("width","0%").text("Loading...")},done:function(t,e){o.prop("disabled",!1),r.text("Uploading done");var a=$(e.jqXHR.responseXML).find("Key").text(),s="https://"+i.data("host")+"/"+a,l=$("<input />",{type:"hidden",name:n.attr("name"),value:s});i.append(l),"customer-logo-form"===i.prop("id")&&$.ajax({url:i.attr("action"),method:"put",data:i.serialize(),success:function(t,e){console.log(t,e)}})},fail:function(){o.prop("disabled",!1),r.css("background","red").text("Failed")}})})}function BestInPlaceEditor(t){"use strict";this.element=t,this.initOptions(),this.bindForm(),this.initPlaceHolder(),jQuery(this.activator).bind("click",{editor:this},this.clickHandler)}function initSelect2(){$(".story-tags").select2({theme:"bootstrap",placeholder:"select tags"}),$(".curator-select, .category-select, .product-select").select2({theme:"bootstrap",width:"style"}),$(".new-contributor-role").select2({theme:"bootstrap"}),$(".new-contributor-referrer").select2({theme:"bootstrap",placeholder:"Who referred you to this contributor?"}),$(".company-tags").select2({theme:"bootstrap",tags:!0,placeholder:"add tags"}),$(".templates-select").select2({theme:"bootstrap",placeholder:"select template"}),$(".widget-filter-category").select2({theme:"bootstrap",placeholder:"select category",width:"style"}),$(".widget-filter-product").select2({theme:"bootstrap",placeholder:"select product",width:"style"}),$("#curate-panel").length&&($(".new-story-customer").length&&$(".new-story-customer").select2({theme:"bootstrap",tags:!0,placeholder:"select or create a new customer"}),$(".new-story-tags").select2({theme:"bootstrap",placeholder:"select tag(s)"})),$("select").each(function(){$(this).hasClass("stories-filter")&&(preSelect=$(this).data("pre-select"))&&$(this).val(preSelect.toString()).trigger("change.select2")}),$("#story-ctas-select").select2({theme:"bootstrap",placeholder:"select CTAs",tags:!0}),$("#charts-story-select, #visitors-story-select, #ads-preview-story-select").select2({theme:"bootstrap",width:"style"}),$(".new-success-customer").select2({theme:"bootstrap",tags:!0,placeholder:"select or create a new customer"})}function select2Listeners(){$(".select2").prev().on("select2:unselecting",function(){$(this).data("unselecting",!0)}).on("select2:open",function(){$(this).data("unselecting")&&($(this).removeData("unselecting"),$(this).select2("close"))})}function initLinkedIn(){$("body").hasClass("stories show")&&("lg"===app.screenSize?$(".linkedin-widget").not(".linkedin-widget-wide").remove():$(".linkedin-widget-wide").remove()),"object"!=typeof IN?$.getScript("//platform.linkedin.com/in.js",function(){}):IN.parse(),window.setTimeout(function(){$("#contribution-connections iframe").each(function(){$(this).prop("tabIndex","-1")})},1e3)}function initSummernote(){if($("#email-confirmation-editor").summernote({focus:!1,toolbar:[["font",["bold","italic","underline"]],["para",["ul","ol","paragraph"]]]}),$("#email-template-editor").summernote({toolbar:[["font",["bold","italic","underline"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["para",["ul","ol","paragraph"]],["height",["height"]],["insert",["link","picture","hr"]],["view",["codeview"]]]}),$("#story-content-editor").summernote({toolbar:[["style",["style"]],["font",["bold","italic","underline"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["codeview"]],["help",["help"]]]}),$("body").hasClass("stories edit")){var t=$("#story-content-editor"),e=t.next(),n=e.find(".note-editable"),i=e.find(".note-toolbar > .note-btn-group > button, .note-toolbar > .note-btn-group > .note-btn-group > button");n.attr("contenteditable","false").css({"background-color":"#f5f5f5","pointer-events":"none"}),i.css({"background-color":"#f5f5f5","pointer-events":"none"})}}function initTooltips(){$("[data-toggle='tooltip']").not("[class*='bip-clickable']").tooltip(),$("[data-toggle='tooltip'][class*='bip-clickable']").tooltip({delay:{show:1800,hide:100}}),$(document).on("click","[data-toggle='tooltip'][class*='bip-clickable']",function(){$(this).tooltip("hide")})}function initClicky(){"production"!==app.env||"undefined"!=typeof clicky||app.current_user||$.getScript("//static.getclicky.com/js",function(){try{clicky_custom=clicky_custom||{},clicky_custom.outbound_disable=1,clicky.init(100886848)}catch(t){}})}function initDataTables(){$("#measure-visitors-container").hasClass("active")&&$('a[href="#measure-visitors-container"]')[0].click(),$("#measure-stories-container").hasClass("active")&&$('a[href="#measure-stories-container"]')[0].click(),$("#customers-table").DataTable({paging:!1,columnDefs:[{orderable:!1,targets:[2]},{width:"160px",targets:2}]});var t=4,e=2,n=6;$("#successes-table").DataTable({paging:!0,pageLength:100,lengthChange:!1,order:[[e,"asc"]],columnDefs:[{visible:!1,targets:[e,t]},{orderable:!1,targets:[0,n-1]},{width:"5%",targets:0},{width:"50%",targets:1},{width:"0%",targets:2},{width:"35%",targets:3},{width:"0%",targets:4},{width:"10%",targets:5}],drawCallback:function(){var t=this.api(),i=t.rows({page:"current"}).nodes(),o=null;t.column(e,{page:"current"}).data().each(function(t,e){o!==t&&($(i).eq(e).before('<tr class="group" style="font-weight:600"><td colspan="'+(n-2).toString()+'">'+t+"</td></tr>"),o=t)})},initComplete:function(){var t=$("#successes-table_wrapper"),e=_.template($("#successes-table-header-template").html());t.children(".row:first-child").remove(),t.prepend(e({currentUser:app.current_user,curators:app.company.curators,curatorCol:$(this).data("curator-col"),customers:app.company.customers,customerCol:$(this).data("customer-col"),successes:app.company.successes,successCol:$(this).data("success-col"),selectWidth:250}));var n=t.find(".curator-select");n.select2({theme:"bootstrap",width:"style",minimumResultsForSearch:-1}),n.children("option").not("[value]").remove(),$("#successes-filter").select2({theme:"bootstrap",width:"style"}),$(this).css("visibility","visible")}}),initContributorsTable("crowdsource"),$("#curate-table").DataTable({paging:!1}),$("#sponsored-stories-table").DataTable({paging:!1,columnDefs:[{orderable:!1,targets:[2,4]}]}),$("#story_views-table:not(.short)").DataTable({order:[0,"desc"],columns:[{type:"datetime-moment"},null,null,null,null]}),$("#stories_published-table:not(.short)").DataTable({order:[0,"desc"],columns:[{type:"datetime-moment"},null,null,null]}),$("#contributions_submitted-table:not(.short)").DataTable({order:[0,"desc"],columns:[{type:"datetime-moment"},null,null,null]}),$("#contribution_requests_received-table:not(.short)").DataTable({order:[0,"desc"],columns:[{type:"datetime-moment"},null,null,null]}),$("#stories_logo_published-table:not(.short)").DataTable({order:[0,"desc"],columns:[{type:"datetime-moment"},null,null,null]}),$("#stories_created-table:not(.short)").DataTable({order:[0,"desc"],columns:[{type:"datetime-moment"},null,null,null]})}function initContributorsTable(t){var e=4,n=5,i=2,o=8;$('[id="'+t+'-contributors-table"]').DataTable({paging:!1,autoWidth:!1,order:[[i,"asc"]],columnDefs:[{visible:!1,targets:[i,e,n]},{orderable:!1,targets:[0,o-1]},{width:"5%",targets:0},{width:"30%",targets:1},{width:"0%",targets:2},{width:"30%",targets:3},{width:"0%",targets:4},{width:"0%",targets:5},{width:"25%",targets:6},{width:"10%",targets:7}],drawCallback:function(){var t=this.api(),e=t.rows({page:"current"}).nodes(),n=null;t.column(i,{page:"current"}).data().each(function(t,i){n!==t&&($(e).eq(i).before('<tr class="group"><td colspan="'+(o-3).toString()+'">'+t+"</td></tr>"),n=t)})},initComplete:function(){var e=$(this).closest('[id*="table_wrapper"]'),n=_.template($("#contributors-table-header-template").html());e.children(".row:first-child").remove(),"crowdsource"===t&&(e.prepend(n({currentUser:app.current_user,workflowState:t,curators:app.company.curators,curatorCol:$(this).data("curator-col"),successes:app.company.customers.successes,successCol:$(this).data("success-col"),customers:app.company.customers,customerCol:$(this).data("customer-col"),selectWidth:250})),e.find(".curator-select").select2({theme:"bootstrap",width:"style",minimumResultsForSearch:-1}),e.find(".curator-select > option").not("[value]").remove(),e.find(".contributors-filter").select2({theme:"bootstrap",width:"style"})),$(this).css("visibility","visible")}})}function initDateRangePicker(){if($("body").hasClass("companies show")){var t=moment().month(),e=moment().year(),n=moment().subtract(29,"days"),i=moment(),o=function(n){return t>=0&&t<3?"this"===n?[moment([e,0]),moment([e,2]).endOf("month")]:[moment([e-1,9]),moment([e-1,11]).endOf("month")]:t>=3&&t<6?"this"===n?[moment([e,3]),moment([e,5]).endOf("month")]:[moment([e,0]),moment([e,2]).endOf("month")]:t>=6&&t<9?"this"===n?[moment([e,6]),moment([e,8]).endOf("month")]:[moment([e,3]),moment([e,5]).endOf("month")]:t>=9&&t<12?"this"===n?[moment([e,9]),moment([e,11]).endOf("month")]:[moment([e,6]),moment([e,8]).endOf("month")]:void 0},r={"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"Last 90 Days":[moment().subtract(89,"days"),moment()],"This Quarter":o("this"),"Last Quarter":o("last"),"Last Year":[moment().subtract(1,"year").startOf("year"),moment().subtract(1,"year").endOf("year")]};$("#visitors-date-range-input").daterangepicker({startDate:n,endDate:i,ranges:r}),$("#charts-date-range-input").daterangepicker({startDate:n,endDate:i,ranges:r})}}function initGoogleCharts(t,e){var n=function(t){return function(){var e=new google.visualization.DataTable;e.addColumn("string","Referrer type"),e.addColumn("number","Views"),e.addRows(t);var n=new google.visualization.PieChart($("#referrer-type-pie-chart")[0]);n.draw(e,null)}},i=function(t){var e=0,n=[],i=null;return t.forEach(function(t){e+=t[1]}),1===t.length?i=0:t.length>1&&(i=moment.duration(new Date(t[1][0])-new Date(t[0][0])).asDays(),i<0&&(i+=365)),n=i<=1?["Day","Visitors"]:7===i?["Week starting","Visitors"]:["Month","Visitors"],t.length>0&&t.unshift(n),function(){var i=google.visualization.arrayToDataTable(t),o=new google.visualization.DataView(i),r={title:"Unique Visitors - "+e.toString(),hAxis:{title:n[0]},vAxis:{title:n[1],minValue:0},legend:{position:"none"}},a=new google.visualization.ColumnChart($("#visitors-bar-graph")[0]);a.draw(o,r)}},o=function(t){$("#referrer-type-pie-chart").empty(),$("#visitors-bar-graph").empty(),t.charts.setOnLoadCallback(n(e.referrerTypes)),t.charts.setOnLoadCallback(i(e.visitors))},r=function(e){e.charts.load("current",{packages:["corechart"]}),t===!0?o(e):$("#measure-panel").hasClass("active")&&$("#charts-filter-form").trigger("submit")};!$("body").hasClass("companies show")||"undefined"!=typeof google&&"undefined"!=typeof google.charts?$("body").hasClass("companies show")&&r(google):$.getScript("//www.gstatic.com/charts/loader.js",function(){r(google)})}function initXeditable(){$("td.sponsored-story-title a").each(function(){$(this).editable({type:"textarea",model:"adwords",name:"long_headline",url:"/stories/"+$(this).data("pk")+"/promote",pk:$(this).data("pk"),title:"Sponsored story title",mode:"inline",validate:function(t){if(t.length>90)return"Max 90 characters"},ajaxOptions:{type:"put",dataType:"json"},success:function(){$.ajax({url:"/stories/"+$(this).data("pk")+"/adwords",method:"put",data:{long_headline_changed:!0},dataType:"script"})},rows:3})})}function constructPlugins(){initSelect2(),initLinkedIn(),initDateRangePicker(),initGoogleCharts(!1,null),initDataTables(),initSummernote(),initTooltips(),initClicky(),initXeditable(),$(".best_in_place").best_in_place(),$(".bs-switch").bootstrapSwitch({size:"small"}),$("input[type='tel']").inputmask("999-999-9999"),$(".mini-colors").minicolors({theme:"bootstrap"}),$("#story-tags-form").dirtyFields(),$("#outbound-links-form").dirtyFields(),$("#activity-feed-btn").popover({title:"Last day's activity",placement:"right",html:"true",trigger:"manual",template:'<div class="popover activity-feed-popover" role="tooltip"><div class="arrow"></div><div style="position:relative"><h3 class="popover-title"></h3><button style="z-index:1;position:absolute;top:3px;right:8px" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="popover-content"></div></div>'})}function deconstructPlugins(){$("select").each(function(){$(this).hasClass("stories-filter")&&$(this)[0].setAttribute("data-pre-select",$(this).find(":selected").val()),$(this).data("select2")&&$(this).select2("destroy")}),$(".datatable").DataTable().destroy(),$("[data-provider='summernote']").summernote("destroy")}function slideDrawerPlugin(){var t={init:function(e,n){e.showDrawer===!0&&e.slideTimeout===!0?setTimeout(function(){t.slide(n,e.drawerHiddenHeight,e.slideSpeed)},e.slideTimeoutCount):"slide"===e.showDrawer?t.slide(n,e.drawerHiddenHeight,e.slideSpeed):e.showDrawer===!1&&t.hide(e,n),$(".cs-header").on("click",function(){"xs"===app.screenSize&&$(this).parent().hasClass("visible-xs-block")?t.toggle(e,n):"xs"!==app.screenSize&&$(this).parent().hasClass("hidden-xs")&&t.toggle(e,n)})},toggle:function(e,n){$(n).height()+e.borderHeight===e.drawerHeight?t.slide(n,e.drawerHiddenHeight,e.slideSpeed):t.slide(n,e.drawerHeight-e.borderHeight,e.slideSpeed)},slide:function(t,e,n){$(t).animate({height:e},n,"swing",function(){$('.cs-header i[class*="fa-chevron"]').toggle()})},hide:function(t,e){$(e).css("height",t.drawerHiddenHeight)}};$.fn.slideDrawer=function(e){var n=$("#more-stories-container .cs-drawer-content"),i=parseInt(n.css("border-top-width")),o=this.height()+i,r=n.outerHeight(),a=o-r-i,s={showDrawer:"slide",slideSpeed:700,slideTimeout:!0,slideTimeoutCount:5e3,drawerContentHeight:r,drawerHeight:o,drawerHiddenHeight:a,borderHeight:i},l=$.extend(s,e);return this.each(function(){t.init(l,this)})}}function companiesNew(){}function companiesNewListeners(){companyProfileListeners()}function companiesShow(){crowdsource(),curate(),$("dropdown.company-settings").removeClass("active"),$("dropdown.user-profile").removeClass("active"),$(".adwords-logo.image-requirements, .adwords-image.image-requirements").popover({html:!0,container:"body",template:'<div class="popover" style="max-width:500px" role="tooltip"><div class="arrow"></div><h3 class="popover-title label-secondary"></h3><div class="popover-content"></div></div>',content:function(){return"<ul><li><strong>Minimum dimensions</strong>: "+$(this).data("min")+" pixels</li><li><strong>Greater than minimum dimensions</strong>: Within 1% of the "+$(this).data("ratio")+" ratio</li><li><strong>Suggested dimensions</strong>: "+$(this).data("suggest")+" pixels</li><li><strong>Maximum size</strong>: 1MB (1,048,576 bytes)</li></ul>"}}),$("td .contribution, td .feedback").popover({container:"body",template:'<div class="popover" style="max-width:360px" role="tooltip"><div class="arrow"></div><h3 class="popover-title label-secondary"></h3><div class="popover-content"></div></div>'}),$("td.status-dropdown a.disabled").tooltip({container:"body"}),$("#promote-settings-form").validator({custom:{"image-requirements":function(t){var e=t.closest(".fileinput").find(".fileinput-exists img"),n=t.data("image-requirements").split("x")[0],i=t.data("image-requirements").split("x")[1],o=e[0].naturalWidth,r=e[0].naturalHeight,a=n/i===1?"logo":"landscape",s=o/r;return o<n||r<i?"Image too small":"landscape"===a&&(s<1.8909||s>1.929)||"logo"===a&&(s<.99||s>1.01)?"Bad aspect ratio":void 0}}}),$("#promote-settings-form").validator("validate"),$("#sponsored-stories-table").find('img[src=""]').each(function(){0===$("#adwords-image-select-modal li").length&&$(this).closest(".fileinput").tooltip({container:"body",placement:"top",title:"To assign an image to this Sponsored Story, upload images under Settings"})}),$(".curator-select").each(function(){$(this).val($(this).children('[value="'+app.current_user.id.toString()+'"]').val()).trigger("change",{auto:!0})})}function companiesShowListeners(){newStoryModalListeners(),crowdsourceListeners(),curateListeners(),promoteListeners(),measureCharts(),measureStories(),measureVisitors(),$(document).on("show.bs.collapse hidden.bs.collapse","#activity-groups .hiddenRow",function(){$(this).parent().prev().find("i").toggle()}).on("click",'a[href*="companies"], a[href*="profile"]',function(){var t=$(this).closest("li.dropdown"),e=t.parent().find("li.dropdown:not(.open)");t.addClass("active"),e.removeClass("active")}).on("click",'a[href="#promote-panel"]',function(){promote()})}function newStoryModalListeners(){$(document).on("click",'#new-story-modal input[type="submit"]',function(t){t.preventDefault(),$.rails.handleRemote($("#new-story-modal form"))}),$(document).on("change input","#new-story-modal",function(){$("#story_customer").val()&&$("#story_title").val()?$(this).find("[type='submit']").prop("disabled",!1):$(this).find("[type='submit']").prop("disabled",!0)}),$(document).on("hidden.bs.modal","#new-story-modal",function(){$(this).find("form")[0].reset(),$(".new-story-customer").select2("val",""),$(".new-story-tags").val("").trigger("change")})}function crowdsource(){}function crowdsourceListeners(){$(document).on("keyup",".select2-search",function(t){var e,n,i,o=$(this).find("input");$(this).next().find("#select2-successes-filter-results").length?e=$("#successes-table"):$(this).next().find("#select2-contributors-filter-results").length?e=$("#contributors-table"):t.preventDefault(),n=e.data("curator-col"),i=e.closest('[id*="table_wrapper"]').find(".crowdsource-curator-select").val(),e.DataTable().search("").columns().search("").columns(n).search("0"===i?"":i).columns(1,2,4,5).search(o.val()).draw()}).on("change",".crowdsource.curator-select, #successes-filter, #contributors-filter",function(t,e){var n=$(this).closest('div[id*="table_wrapper"]'),i=n.find("table"),o=i.DataTable(),r=n.find(".dt-filter"),a=n.find(".crowdsource-curator-select").val(),s=i.data("curator-col"),l=r.select2("data"),c=l[0].id,u=(l[0].text,$(l[0].element).data("col"));if($(this).hasClass(".curator-select")){var d="0"===a?app.company.successes:app.company.successes.filter(function(t){return t.curator_id==a}),h="0"===a?app.company.customers:app.company.customers.filter(function(t){return d.some(function(e){return e.customer_id===t.id})}),p=r.find('optgroup[label="Customer"]'),f=r.find('optgroup[label="Story Candidate"]');if(p.empty(),_.each(h,function(t){p.append('<option value="c'+t.id+'" data-col="'+i.data("customer-col")+'">'+t.name+"</option>")}),f.empty(),_.each(d,function(t){f.append('<option value="s'+t.id+'" data-col="'+i.data("success-col")+'">'+t.name+"</option>")}),r.val("0").trigger("change.select2"),o.search("").columns().search("").columns([s]).search("0"===a?"":a).draw(),!e||!e.auto){var m=$(".crowdsource.curator-select").not($(this));m.val($(this).val()).trigger("change",{auto:!0})}}else"0"===c?o.search("").columns().search("").columns([s]).search("0"===a?"":a).draw():o.search("").columns().search("").columns([s]).search("0"===a?"":a).columns([u]).search("^"+c+"(,|$)",!0).draw()}).on("click",".success-actions-dropdown a.contributors",function(){var t=$(this).closest("tr").data("success-id");$('a[href="#contributors-tab-pane"]').tab("show"),$("#contributors-filter").val("s"+t).trigger("change")}).on("click","#contributors-table a.success-name",function(){var t=$(this).closest("tr").next().data("success-id");$('a[href="#successes-tab-pane"]').tab("show"),$("#successes-filter").val("s"+t).trigger("change")}).on("change","#toggle-group-by-success, #toggle-group-by-customer",function(){toggleStriped("toggle-group-by-success"===$(this).attr("id")?$("#contributors-table"):$("#successes-table"))}).on("click","#successes-table tr.group",function(){var t=$("#successes-table").DataTable(),e=t.order()[0];1===e[0]&&"asc"===e[1]?t.order([1,"desc"]).draw():t.order([1,"asc"]).draw()}).on("click","#contributors-table tr.group",function(t){var e=$("#contributors-table").DataTable(),n=2,i=e.order()[0];$(t.target).is("a")||(i[0]===n&&"asc"===i[1]?e.order([n,"desc"]).draw():e.order([n,"asc"]).draw())}).on("click","#contributors-table td.contributor-details",function(){var t=$(this).closest("table").DataTable(),e=$(this).closest("tr"),n=t.row(e),i=_.template($("#contributor-template").html()),o=e.data("contribution-id"),r=app.contributions.find(function(t){return t.id===o});n.child.isShown()?(n.child.hide(),e.children().last().css("color","#666"),e.find("td.contributor-name > span").removeClass("shown"),e.removeClass("shown active")):(n.child(i({contribution:r})).show(),e.children().last().css("color","white"),e.find("td.contributor-name > span").addClass("shown"),r.contributor.linkedin_url&&(loadCspOrPlaceholderWidget(e.next(),r),loadLinkedinWidget(e.next(),r)),e.addClass("shown active")),$(this).children().toggle()}).on("click","td.success-details",function(){var t=$(this).closest("table").DataTable(),e=$(this).closest("tr"),n=t.row(e),i=_.template($("#success-details-template").html());n.child.isShown()?(n.child.hide(),e.children().last().css("color","#666"),e.removeClass("shown active")):(n.child(i({})).show(),e.children().last().css("color","white"),e.addClass("shown active")),$(this).children().toggle()}).on("shown.bs.dropdown",".actions-dropdown",function(){$(this).closest("tr").addClass("active")}).on("hidden.bs.dropdown",".actions-dropdown",function(){$(this).closest("tr").removeClass("active")})}function loadCspOrPlaceholderWidget(t,e){var n=400,i=_.template($("#csp-linkedin-widget-template").html());t.find(".csp-widget-container").append(i({contributor:e.contributor,widgetWidth:n})).imagesLoaded(function(){t.find(".csp-linkedin-widget").removeClass("hidden")}),t.find(".placeholder-widget-container").append(i({loading:!0,contributor:e.contributor,widgetWidth:n})).imagesLoaded(function(){t.find(".csp-linkedin-widget").removeClass("hidden")})}function loadLinkedinWidget(t,e){var n=400,i=t.find(".widget-container > .csp-widget-container").length;if(i)return!1;var o=t.find(".placeholder-widget-container"),r=t.find(".linkedin-widget-container"),a=$("<script type='IN/MemberProfile' data-id='"+e.contributor.linkedin_url+"' data-format='inline' data-related='false' data-width='"+n.toString()+"'></script>"),s="-"+o.css("height"),l=function(t){if($("body").hasClass("companies show")){var e=t.origin||t.originalEvent.origin;if("https://platform.linkedin.com"===e&&t.data.includes("widgetReady")){var n=r.find("iframe").attr("id"),i=t.data.match(/^(\w+)\s/)[1];n&&i===n.match(/^\w+(li_gen\w+)_provider/)[1]&&r.css("margin-top",s).removeClass("hidden")}}};r.append(a),window.addEventListener("message",l,!1),IN.parse(),setTimeout(function(){t.find(".widget-container").data("linkedin-widget-loaded")||o.find(".member-info > p").css("color","red").text("Profile data not available")},7e3),$(document).one("turbolinks:before-visit",function(){window.removeEventListener("message",l,!1)})}function toggleStriped(t){t.find("tr.group").toggle(),t.toggleClass("table-striped"),t.hasClass("table-striped")?(t.find("tr:not(.group)").each(function(t){$(this).removeClass("even odd"),$(this).addClass(t%2===0?"even":"odd"),$(this).hover(function(){$(this).css("background-color","#f5f5f5")},function(){$(this).css("background-color",t%2===0?"#fff":"#f9f9f9")})}),t.find("tr.even:not(.group)").css("background-color","#fff"),t.find("tr.odd:not(.group)").css("background-color","#f9f9f9")):(t.find("tr:not(.group)").css("background-color","#fff"),t.find("tr:not(.group)").each(function(){$(this).removeClass("even odd"),$(this).hover(function(){$(this).css("background-color","#f5f5f5")},function(){$(this).css("background-color","#fff")})}))}function curate(){}function curateListeners(){$(document).on("click","#curate-gallery a.logo-published, #curate-gallery a.pending-curation",function(t){t.preventDefault();var e=$(this).closest("li");selectStory(e),$.ajax({url:"/stories/"+e.data("story-id")+"/edit",method:"get",dataType:"html",success:function(t){$("#curate-panel .container").children().fadeOut({duration:150,easing:"linear",complete:function(){$("#curate-panel .container").append(t).fadeIn({duration:150,easing:"linear"})}}),initContributorsTable("curate");var e=$("#curate-contributors-table"),n=e.DataTable(),i=e.data("curator-col"),o=app.current_user.id,r=e.data("success-col"),a=$("#story-settings-tab-pane").data("success-id");n.columns(i).search(o).columns(r).search(a).draw()}})}).on("change",".curate.curator-select, .curate.category-select,.curate.product-select, .curate.published, .curate.logo-published,.curate.pending-curation",function(){filterCurateGallery()})}function filterCurateGallery(){var t=[],e=$("#curate-gallery"),n=_.template($("#stories-template").html()),i=$(".curate.curator-select").val(),o=$(".curate.category-select").val(),r=$(".curate.product-select").val(),a=$(".curate.published").prop("checked"),s=$(".curate.logo-published").prop("checked"),l=$(".curate.pending-curation").prop("checked");console.log("curator: ",i),console.log("category: ",o,typeof o),console.log("product: ",r),console.log("published: ",a),console.log("logo published: ",s),console.log("pending curation: ",l);var c="0"===i?_.pluck(app.stories,"id"):_.pluck(app.stories.filter(function(t){return t.success.curator_id==i}),"id");console.log(c);var u="0"===o?_.pluck(app.stories,"id"):_.pluck(app.stories.filter(function(t){return t.success.story_categories&&t.success.story_categories.some(function(t){return t.id==o})}),"id");console.log(u);var d="0"===r?_.pluck(app.stories,"id"):_.pluck(app.stories.filter(function(t){return t.success.products&&t.success.products.some(function(t){return t.id==r})}),"id");console.log(d);var h=_.pluck(app.stories.filter(function(t){return t.published}),"id"),p=_.pluck(app.stories.filter(function(t){return!t.published&&t.logo_published}),"id"),f=_.pluck(app.stories.filter(function(t){return!t.published&&!t.logo_published}),"id");storyIds=_.intersection(c,u,d),console.log("after intersection: ",storyIds),storyIds=a?storyIds:_.difference(storyIds,h),console.log("after removing published (if necessary): ",storyIds),storyIds=s?storyIds:_.difference(storyIds,p),console.log("after removing logo published (if necessary): ",storyIds),storyIds=l?storyIds:_.difference(storyIds,f),console.log("after removing pending (if necessary): ",storyIds),t=app.stories.filter(function(t){return storyIds.includes(t.id)}),console.log("results: ",t),e.empty().append($(n({stories:t,isCurator:!0}))).hide().show("fast")}function selectStory(t){t.addClass("selected"),$("#curate-gallery li").not(t).css("pointer-events","none"),t.find(".thumbnail-view-hover").css("transform","none"),t.find("img").css("opacity","0.1")}function promote(){}function promoteListeners(){$(document).on("mouseout","#promote-settings-tab-pane",function(){$('[data-toggle="tooltip"]').tooltip("hide")}).on("click","td.status-dropdown .dropdown-menu a.pause, td.status-dropdown .dropdown-menu a.enable",function(){var t=$(this).closest("tr").data("story-id");$(this).closest(".dropdown").find("a.dropdown-toggle").toggleClass("enabled paused").children(":first").toggleClass("fa-play fa-pause"),$(this).closest(".dropdown-menu").children("li").toggle(),$.ajax({url:"/stories/"+t+"/promote",method:"put",data:{adwords:{status:"enable"===$(this).attr("class")?"ENABLED":"PAUSED"}},dataType:"json",success:function(){$.ajax({url:"/stories/"+t+"/adwords",method:"put",data:{status_changed:!0},dataType:"script"})}})}).on("click","td.sponsored-story-image .thumbnail",function(){if($("#adwords-image-select-modal li").length<=1)return!1;var t=$("#adwords-image-select-modal"),e=$(this).closest("tr").data("story-id"),n=$(this).children("img").attr("src"),i=_.template($("#adwords-image-select-form-template").html());n.match(/\?\d+/)&&(n=n.slice(0,n.lastIndexOf("?"))),t.find('img[src="'+n+'"]').closest("li").addClass("hidden"),t.find(".modal-footer").empty().append(i({
storyId:e})),t.modal("show")}).on("ajax:success","#adwords-image-select-form",function(){$.ajax({url:"/stories/"+$(this).data("story-id")+"/adwords",method:"put",data:{image_changed:!0},dataType:"script"})}).on("click","#adwords-image-select-modal .thumbnail",function(){if($(this).hasClass("selected"))return!1;var t=$(this).closest("li").data("image-id");$(this).closest(".modal-content").find('button[type="submit"]').prop("disabled",!1),$(this).addClass("selected"),$(this).closest(".modal-content").find('.modal-footer input[type="hidden"]').val(t),$("#adwords-image-select-modal .thumbnail").each(function(){$(this).closest("li").data("image-id")!==t&&$(this).removeClass("selected")})}).on("hidden.bs.modal","#adwords-image-select-modal",function(){$(this).find(".modal-footer").empty(),$(this).find(".thumbnail").removeClass("selected"),$(this).find("li").removeClass("hidden"),$(this).find('button[type="submit"]').prop("disabled",!0)}).on("click",".preview-window a",function(){var t=$(this).closest("tr").data("story-id");window.open("/stories/"+t+"/sponsored_story_preview","_blank")}).on("click",".new-adwords-image-icon:not(.disabled)",function(){var t=$("ul.adwords-images"),e=_.template($("#adwords-image-template").html());t.append(e({image_index:t.find("li").length})),initS3Upload(),$('li.new-adwords-image input[type="file"]')[0].click()}).on("change.bs.fileinput",".adwords-default.adwords-image, .adwords-default.adwords-logo",function(){var t,e=$(this),n=function(){return e.find(".fileinput-exists img")[0].complete?(window.clearTimeout(t),void $("#promote-settings-form").validator("validate")):"false"};"false"===n()&&(t=window.setTimeout(n,100))}).on("change.bs.fileinput","li.new-adwords-image",function(){var t,e=$(this),n=$(this).find("img")[0],i=function(t){var e=600,n=314,i=t.naturalWidth/t.naturalHeight;return!(t.naturalWidth<e||t.naturalHeight<n||i<1.8909||i>1.929)},o=function(){return n.complete?(window.clearTimeout(t),void(i(n)?e.removeClass("hidden new-adwords-image").find('input[type="file"]').addClass("hidden"):(e.remove(),flashDisplay("Image doesn't meet size requirements","danger")))):"false"};"false"==o()&&(t=window.setTimeout(o,100))}).on("click",".adwords-default .change-image",function(){var t=$(this).closest(".fileinput").find(".fileinput-preview img");t.attr("src")?$(this).closest(".fileinput").find(".thumbnail")[1].click():$(this).closest(".fileinput").find(".thumbnail")[0].click()}).on("change",'li.adwords-image input[name*="company_default"]',function(){var t=$(this),e=$('li.adwords-image input[name*="company_default"]');e.each(function(){$(this).is(t)||$(this).prop("checked",!1)})}).on("click","li.adwords-image .remove-image, li.adwords-image .cancel-remove-image",function(){var t=$(this).closest(".adwords-image"),e=(t.find(".adwords-image-form-control-top"),t.find(".adwords-image-form-control-bottom")),n=t.find(":checkbox.hidden");$(this).hasClass("remove-image")?(t.addClass("to-be-removed"),n.prop("checked",!0),e.html('<span>Save changes below or <a class="cancel-remove-image">Cancel</a></span>')):(t.removeClass("to-be-removed"),n.prop("checked",!1),e.html(""))}).on("click","li.adwords-image .cancel-add-image",function(){var t=$("ul.adwords-images li"),e=$(this).closest("li"),n=parseInt(e.find('input[type="file"]').attr("name").match(/\]\[(\d+)\]\[/)[1],10);e.next().length&&(t.slice(n+1).each(function(){var t=$(this).find('input[name*="company_default"][value="true"]'),e=$(this).find('input[name*="company_default"][value="false"]'),n=$(this).find('input[type="file"]');t.attr({id:t.attr("id").replace(/_(\d+)_/,function(t,e){return"_"+(parseInt(e,10)-1).toString()+"_"}),name:t.attr("name").replace(/\]\[(\d+)\]\[/,function(t,e){return"]["+(parseInt(e,10)-1).toString()+"]["})}),e.attr({name:e.attr("name").replace(/\]\[(\d+)\]\[/,function(t,e){return"]["+(parseInt(e,10)-1).toString()+"]["})}),n.attr({id:n.attr("id").replace(/_(\d+)_/,function(t,e){return"_"+(parseInt(e,10)-1).toString()+"_"}),name:n.attr("name").replace(/\]\[(\d+)\]\[/,function(t,e){return"]["+(parseInt(e,10)-1).toString()+"]["})})}),$('input[type="hidden"][name*="image_url"]').slice(n-t.not(".to-be-added").length+1).each(function(){$(this).attr({name:$(this).attr("name").replace(/\]\[(\d+)\]\[/,function(t,e){return"]["+(parseInt(e,10)-1).toString()+"]["})})})),e.remove(),$('input[type="hidden"][name*="]['+n.toString()+'][image_url]"]').first().remove()}).on("submit","#promote-settings-form, #adwords-image-select-form, #adwords-sync-form",function(t){$(this).find('button[type="submit"]').hasClass("disabled")?t.preventDefault():$(this).find(".submit-toggle").toggle()})}function measureCharts(){var t=function(t){$.get({url:"/analytics/charts",data:{story_id:$("#charts-story-select").val(),date_range:$("#charts-date-range-input").val(),initial_load:t},success:function(t){initGoogleCharts(!0,t.charts)},dataType:"json"})};$(document).on("click",'a[href="#measure-panel"]',function(){return 0!==$("#measure-summary-container").length&&void(0===$("#visitors-bar-graph").children().length&&t(!0))}).on("submit","#charts-filter-form",function(e){e.preventDefault(),t(!1)})}function measureStories(){var t=function(t,e){t.DataTable({data:e,columns:[{title:"Customer"},{title:"Title"},{title:"Publish Date"},{title:"Unique Visitors"},{title:"Landing"}],paging:!1,info:!1,order:[[3,"desc"]]}),t.css("visibility","visible")},e=function(){var e=$("#measure-stories-table");$.get({url:"/analytics/stories",success:function(n){t(e,n.data)},dataType:"json"})};$(document).on("click",'a[href="#measure-stories-container"]',function(){$.fn.DataTable.isDataTable($("#measure-stories-table"))||e()})}function measureVisitors(){var t=function(t,e){var n="<tbody>",i=function(t,e){var n=t.find("td:nth-of-type("+e.toString()+")").css("width"),i=t.find("td:nth-of-type("+e.toString()+")").css("padding"),o=t.find("td:nth-of-type("+e.toString()+")").css("line-height");return 1!==e&&3!==e||(n=(parseInt(n,10)-parseInt(i,10)).toString()+"px"),"width:"+n+";padding:"+i+";line-height:"+o};return t[3].forEach(function(o,r){n+='<tr style="'+(r<t[3].length-1?"border-bottom:1px solid #ddd":"")+'"><td style="'+i(e,1)+'"></td>',o.forEach(function(t,o){n+='<td style="'+i(e,o+2)+'">'+t+"</td>"}),n+="</tr>"}),n+="</tbody>",'<table cellpadding="5" cellspacing="0" border="0">'+n+"</table>"},e=function(t,e){t.DataTable({data:e,columns:[{className:"details-control",orderable:!1,data:null,defaultContent:'<i class="fa fa-chevron-right"></i><i class="fa fa-chevron-down"></i>'},{title:"Organization"},{title:"Unique Visitors"}],order:[[1,"asc"]]}),t.css("visibility","visible")},n=function(t,e){t.DataTable().clear(),t.DataTable().rows.add(e),t.DataTable().draw()},i=function(t){var i=$("#measure-visitors-table");$.get({url:"/analytics/visitors",data:{story_id:$("#visitors-story-select").val(),date_range:$("#visitors-date-range-input").val(),initial_load:t},success:function(t){$.fn.DataTable.isDataTable(i)?n(i,t.data):e(i,t.data)},dataType:"json"})};$(document).on("submit","#visitors-filter-form",function(t){t.preventDefault(),i(!1)}).on("click",'a[href="#measure-visitors-container"]',function(){$.fn.DataTable.isDataTable($("#measure-visitors-table"))||i(!0)}).on("click","td.details-control",function(){var e=$("#measure-visitors-table").DataTable(),n=$(this).closest("tr"),i=e.row(n);i.child.isShown()?(i.child.hide(),n.removeClass("shown")):(i.child(t(i.data(),n)).show(),n.addClass("shown")),n.find("i").toggle()})}function companiesEdit(){$(".dropdown.company-settings").addClass("active"),$(document).one("turbolinks:before-visit",function(){$(".dropdown.company-settings").hasClass("active")&&$(".dropdown.company-settings").removeClass("active")}).one("click",".workflow-tabs-list",function(){$(".dropdown.company-settings").hasClass("active")&&$(".dropdown.company-settings").removeClass("active")})}function companiesEditListeners(){companyProfileListeners(),templateEditorListeners(),storyTagsListeners(),storyCTAsListeners(),widgetConfigListeners()}function widgetConfigListeners(){$(document).on("change",'[name="widget[show]"]',function(){"true"===$(this).val()?($(".row.widget-show-freq").removeClass("disabled"),$(".row.widget-show-delay").removeClass("disabled"),$(".row.widget-hide").removeClass("disabled"),$("#widget_show_delay").prop("disabled",!1),$("#widget_show_freq").prop("disabled",!1),$('[name="widget[hide]"]').prop("disabled",!1)):($(".row.widget-show-freq").addClass("disabled"),$(".row.widget-show-delay").addClass("disabled"),$(".row.widget-hide").addClass("disabled"),$(".row.widget-hide-delay").addClass("disabled"),$("#widget_show_delay").prop("disabled",!0),$("#widget_show_freq").prop("disabled",!0),$("#widget_hide_false").click(),$('[name="widget[hide]"]').prop("disabled",!0),$("#widget_hide_delay").prop("disabled",!0))}).on("change",'[name="widget[hide]"]',function(){"true"===$(this).val()?($(".row.widget-hide-delay").removeClass("disabled"),$("#widget_hide_delay").prop("disabled",!1)):($(".row.widget-hide-delay").addClass("disabled"),$("#widget_hide_delay").prop("disabled",!0))}).on("change",'[name="widget[filter]"]',function(){"none"===$(this).val()?$('[id^="widget-filter"]').hide():"category"===$(this).val()?($('[id="widget-filter-category-container"]').show(),$('[id="widget-filter-product-container"]').hide()):"product"===$(this).val()&&($('[id="widget-filter-product-container"]').show(),$('[id="widget-filter-category-container"]').hide())}).on("click",".spinner .btn:first-of-type",function(){var t=$(this).parent().prev().attr("id"),e="widget_hide_delay"===t&&$("#widget_hide_delay").prop("disabled")===!0||"widget_show_delay"===t&&$("#widget_show_delay").prop("disabled")===!0||"widget_show_freq"===t&&$("#widget_show_freq").prop("disabled")===!0;if(e)return!1;var n=$(this),i="widget_show_freq"===t?1:100,o=n.closest(".spinner").find("input");void 0===o.attr("max")||parseInt(o.val())<parseInt(o.attr("max"))?o.val(parseInt(o.val(),10)+i):n.next("disabled",!0)}).on("click",".spinner .btn:last-of-type",function(){var t=$(this).parent().prev().attr("id"),e="widget_hide_delay"===t&&$("#widget_hide_delay").prop("disabled")===!0||"widget_show_delay"===t&&$("#widget_show_delay").prop("disabled")===!0||"widget_show_freq"===t&&$("#widget_show_freq").prop("disabled")===!0;if(e)return!1;var n=$(this),i="widget_show_freq"===t?1:100,o=n.closest(".spinner").find("input");void 0===o.attr("min")||parseInt(o.val())>parseInt(o.attr("min"))?o.val(parseInt(o.val(),10)-i):n.prev("disabled",!0)}).on("click","#widget-html-btn",function(){var t=function(t){return"category"===t&&"category"===$('[name="widget[filter]"]:checked').val()?$(".widget-filter-category").find(":selected").data("slug"):"product"===t&&"product"===$('[name="widget[filter]"]:checked').val()?$(".widget-filter-product").find(":selected").data("slug"):""};$("#widget-html").text($("#widget-html").text().replace(/data-category='.*?'/,"data-category='"+t("category")+"'").replace(/data-product='.*?'/,"data-product='"+t("product")+"'")).css("visibility","visible"),$("#widget-html").parent().find("i").css("visibility","visible")}).on("click","#html-to-clipboard",function(){var t=$(this).parent().find("textarea").text();$temp=$("<textarea></textarea>"),$("body").append($temp),$temp.text(t).select(),document.execCommand("copy"),$temp.remove()})}function storyTagsListeners(){$(document).on("change",".company-tags",function(){$("#company-tags-submit, #company-tags-reset").prop("disabled",!1)})}function storyCTAsListeners(){var t=function(){return""!==$("#new_cta_link_description").val()&&""!==$("#new_cta_link_display_text").val()&&""!==$("#new_cta_link_url").val()||""!==$("#new_cta_form_description").val()&&""!==$("#new_cta_form_display_text").val()&&""!==$("#new_cta_form_html").val()};$(document).on("input","#new-cta-inputs",function(){t()?$("#new-cta-submit, #new-cta-reset").prop("disabled",!1):$("#new-cta-submit, #new-cta-reset").prop("disabled",!0)}).on("click","#new-cta-form .btn-group input",function(){$(".link-input,.html-input").toggle(),$(".link-input,.html-input").val("")}).on("input","#new-cta-form",function(){return $(this).find('button[type="submit"]').prop("disabled")!==!1&&($linkRadio=$(this).find(".btn-group input:first"),$formRadio=$(this).find(".btn-group input:last"),void($linkRadio.prop("checked")&&$.makeArray($(".link-input")).every(function(t){return""!==t.value})?$(this).find('button[type="submit"]').prop("disabled",!1):$formRadio.prop("checked")&&$.makeArray($(".html-input")).every(function(t){return""!==t.value})&&$(this).find('button[type="submit"]').prop("disabled",!1)))}).on("click","#story-ctas .glyphicon-remove",function(){var t=$(this).closest("li").data("cta-id");$.ajax({url:"/ctas/"+t,method:"delete",success:function(t){t.isPrimary?($("#primary-cta li").empty().append("<span>Add a primary CTA</span>"),$('input[type="checkbox"][id="is_primary"]').prop("disabled",!1)):$('li[data-cta-id="'+t.id+'"]').remove()}})})}function templateEditorListeners(){$(document).on("change",".templates-select",function(){return null!==$(this).val()&&void $.get("/email_templates/"+$(this).val(),function(t){$(".note-editable").attr("contenteditable","true"),$("#template_subject").val(t.subject),$(".note-editable").html(t.body),$("#email-templates-form").attr("action","/email_templates/"+t.id),$(".note-editable").trigger("loadTemplate")})}),$(document).on("loadTemplate",".note-editable",function(){$("#restore-current-template").parent().removeClass("disabled"),$("#test-template").prop("disabled",!1),$(this).closest("form").find("[type=submit]").prop("disabled",!0),$("#cancel-template").prop("disabled",!0)}),$(document).on("input summernote.change","#template_subject, #email-template-editor",function(){$(this).text().length>0||$(this).val().length>0?($("#save-template").prop("disabled",!1),$("#test-template").prop("disabled",!1),$("#cancel-template").prop("disabled",!1)):($("#save-template").prop("disabled",!0),$("#test-template").prop("disabled",!0))}),$(document).on("click","#restore-current-template",function(){if($(this).parent().hasClass("disabled"))return!1;var t=$(this);$.ajax({url:"/email_templates/"+$("#email-templates-form").find("select:first").val(),method:"put",data:{restore:!0},success:function(e){$("#template-subject").text(e.template.subject),$(".note-editable").html(e.template.body),t.closest("form").find("[type=submit]").prop("disabled",!0),$("#cancel-template").prop("disabled",!0),flashDisplay(e.flash,"success")}})}),$(document).on("click","#restore-all-templates",function(){var t,e=$("#email-templates-form").find("select:first").val(),n="";""===e&&(e=0),$.ajax({url:"/email_templates/"+e,method:"put",data:{restore_all:!0},success:function(e){t=(e.current_template||{id:0}).id,e.templates_select.forEach(function(e,i){n+=0===i&&0===t?"<option value></option>":e[1]===t?"<option selected='selected' value='"+e[1]+"'>"+e[0]+"</option>":"<option value='"+e[1]+"'>"+e[0]+"</option>"}),$(".templates-select").html(n).change(),flashDisplay(e.flash,"success")}})}),$(document).on("click","#test-template",function(){var t={subject:$("#template_subject").val(),body:$(".note-editable").html()};$.post("/email_templates/"+$(".templates-select").val()+"/test",t,function(t){flashDisplay(t.flash,"info")})}),$(document).on("click","#cancel-template",function(){$(".templates-select").trigger("change")})}function companyProfileListeners(){var t="background:linear-gradient(45deg, #FBFBFB 0%, #85CEE6 100%);color:#333333;",e="#fbfbfb",n="#333333";$(document).on("click","#test-colors-btn",function(){var t=$("input#company_header_color_1").val(),e=$("input#company_header_color_2").val(),n=$("input#company_header_text_color").val();$(".navbar, .logo-upload .thumbnail").css("background","linear-gradient(45deg, "+t+" 0%, "+e+" 100%)"),$(".navbar").css("color",n)}).on("select2:open","#company-profile",function(){$(".select2-container--bootstrap .select2-results > .select2-results__options").css("max-height",0)}).on("click","#restore-colors-btn, #profile-form-reset",function(){var i=app.company?app.company.header_style:t,o=app.company?app.company.header_color_1:e,r=app.company?app.company.header_color_2:defaultColorRight,a=app.company?app.company.header_text_color:n;"restore-colors-btn"===this.id&&$(".navbar, .logo-upload .thumbnail").attr("style",i),$("#company_header_color_1").minicolors("value",o),$("#company_header_color_2").minicolors("value",r),$("#company_header_text_color").minicolors("value",a)})}function attachCompaniesListeners(){companiesNewListeners(),companiesShowListeners(),companiesEditListeners()}function storiesIndex(){$("#stories-gallery"),$("[name='category_select']"),getQueryString("category"),$("[name='product_select']"),getQueryString("product"),_.template($("#stories-template").html()),getQueryString("preview");initGridPreviews({},function(){gon.preview_story&&($('li[data-story-id="'+gon.preview_story.toString()+'"] > a')[0].click(),delete gon.preview_story)})}function storiesIndexListeners(){$(document).on("change",".stories-filter",function(){var t=$("[name='category_select']"),e=$("[name='product_select']"),n=$(this).attr("name").replace("_select",""),i=$(this).val(),o=$(this).find("option[value='"+i+"']").data("slug"),r=_.template($("#stories-template").html());updateGallery($(r({stories:filterStories(n,i,o),isCurator:app.current_user&&app.current_user.is_curator}))),replaceStateStoriesIndex(n,i,o),mutuallyExcludeFilters(n,i,t,e)})}function filterStories(t,e,n){var i=app.current_user&&app.current_user.is_curator;return"0"===e||null===n?i?app.stories:app.stories.filter(function(t){return t.logo_published||t.preview_published}):app.stories.filter(function(o){return"category"===t?i?o.success.story_categories.some(function(t){return t.id==e||t.slug==n}):(o.preview_published||o.logo_published)&&o.success.story_categories.some(function(t){return t.id==e||t.slug==n}):"product"===t?i?o.success.products.some(function(t){return t.id==e||t.slug==n}):(o.preview_published||o.logo_published)&&o.success.products.some(function(t){return t.id==e||t.slug==n}):void 0})}function mutuallyExcludeFilters(t,e,n,i){"category"===t&&i.length?i.val("0").trigger("change.select2"):"product"===t&&n.length&&n.val("0").trigger("change.select2")}function selectBoxesTrackQueryString(t,e,n,i){var o=null;e?(o=t.find("option[data-slug='"+e+"']").val(),t.val(o).trigger("change.select2"),n.length&&n.val("0").trigger("change.select2")):i?(o=n.find("option[data-slug='"+i+"']").val(),n.val(o).trigger("change.select2"),t.length&&t.val("0").trigger("change.select2")):(t.val("0").trigger("change.select2"),n.val("0").trigger("change.select2")),$("[name='category_select'] + span").find(".select2-selection").each(function(){$(this).blur()}),$("[name='product_select'] + span").find(".select2-selection").each(function(){$(this).blur()})}function updateGallery(t){var e=$("#stories-gallery");t.imagesLoaded(function(){e.empty().append(t).hide().show("fast",function(){initGridPreviews()})})}function replaceStateStoriesIndex(t,e,n){"0"===e?history.replaceState({turbolinks:!0},null,"/"):"category"===t?history.replaceState({turbolinks:!0},null,"/?category="+n):"product"===t&&history.replaceState({turbolinks:!0},null,"/?product="+n)}function storiesShow(){loadVideoThumbnail(),widgetsMonitor(),clickyListeners(),initMoreStories()}function initMoreStories(){var t=null,e=null;$(".cs-header").on("click",function(n,i){var o=i&&i.isAuto;o||(t&&clearTimeout(t),e&&clearTimeout(e))}),slideDrawerPlugin(),$("#more-stories-container").imagesLoaded(function(){moreStoriesScrollHandlers(),app.company.widget.show&&!Cookies.get(app.company.subdomain+"-hide-widget")&&(t=setTimeout(function(){$(".cs-header").trigger("click",{isAuto:!0}),app.company.widget.hide&&(e=setTimeout(function(){$(".cs-header").trigger("click",{isAuto:!0})},app.company.widget.hide_delay))},app.company.widget.show_delay),Cookies.set(app.company.subdomain+"-hide-widget","1",{expires:app.company.widget.show_freq})),$(".cs-thumbnail.published").hover(function(){$(this).css("border-color",app.company.widget.tab_color)},function(){$(this).css("border-color","rgba(0, 0, 0, 0.7)")}),$(".cs-thumbnail.logo-published").hover(function(){$(this).css("border-color","#ccc")},function(){$(this).css("border-color","rgba(0, 0, 0, 0.7)")}),$(".cs-section").slideDrawer().css({opacity:0,visibility:"visible"}).animate({opacity:1},200)})}function clickyListeners(){var t=function(t){if("undefined"!=typeof clicky){var e="";if("cta-form"===t.data.type)e=$(this).data("target");else{if("social-share"===t.data.type)return e="http:"+$(this).attr("href").split("http")[0],void clicky.log(e,t.data.title,"outbound");"linkedin"===t.data.type?(e=t.data.href,window.setTimeout(function(){this.focus()},200)):e=$(this).attr("href")}clicky.log(e,$("title").text(),"outbound")}};$(document).on("click",".company-logo-clicky",{type:"logo"},t).on("click",".cta-link",{type:"cta-link"},t).on("click",".cta-form",{type:"cta-form"},t).on("click",".linkedin-share, .twitter-share, .facebook-share",{type:"social-share",title:$("title").text()},t).on("click",".linkedin-share",function(t){$(this).socialSharePopup(t,550,544)}).on("click",".twitter-share",function(t){$(this).socialSharePopup(t,500,260)}).on("click",".facebook-share",function(t){$(this).socialSharePopup(t,600,424)}).on("mouseover",".linkedin-widget",function(){window.focus(),$(window).on("blur",{type:"linkedin",href:$(this).data("linkedin-url")},t)}).on("mouseout",".linkedin-widget",function(){$(window).off("blur",t)})}function widgetsMonitor(){var t=app.stories.find(function(t){return t.csp_story_path===window.location.pathname}).published_contributors,e=!1,n=null,i=null,o=null,r=1e4,a=1e4,s=function(r){if($("body").hasClass("stories show")){r.origin||r.originalEvent.origin;"https://platform.linkedin.com"===r.origin&&r.data.includes("-ready")&&null===n?n=parseInt(r.data.match(/\w+_(\d+)-ready/)[1],10):"https://platform.linkedin.com"===r.origin&&r.data.includes("widgetReady")&&(i=parseInt(r.data.match(/\w+_(\d+)\s/)[1],10),o=i-n,void 0===t[o],t[o].widget_loaded=!0,e?t[o].widget_loaded=!0:(e=!0,setWidgetTimeout(a,s)))}};setWidgetTimeout(r,s),window.addEventListener("message",s,!1),$(document).one("turbolinks:before-visit",function(){window.removeEventListener("message",s,!1),t.forEach(function(t){t.widget_loaded=!1})})}function setWidgetTimeout(t,e){setTimeout(function(){if($("body").hasClass("stories show")){var t=app.stories.find(function(t){return t.csp_story_path===window.location.pathname});if(t&&t.published_contributors){var n=!1;t.published_contributors.forEach(function(t,e){t.widget_loaded||(n=!0,t.widget_loaded=addCspWidget(t,e))}),n&&$(".linkedin-widgets").imagesLoaded(function(){$(".csp-linkedin-widget").removeClass("hidden")})}window.removeEventListener("message",e,!1)}else window.removeEventListener("message",e,!1)},t)}function addCspWidget(t,e){var n=_.template($("#csp-linkedin-widget-template").html()),i="lg"===app.screenSize?420:340;return!!(t.linkedin_photo_url&&t.linkedin_title&&t.linkedin_company)&&($(".linkedin-widget").eq(e).empty().append(n({contributor:t,widgetWidth:i})),!0)}function storiesEdit(){loadVideoThumbnail()}function storiesEditListeners(){$(document).on("shown.bs.collapse",".contribution-card",function(){return 0!==$(this).find(".linkedin-container").length&&!$(this).find(".linkedin-checkbox-and-widget").hasClass("hidden")&&void loadLIWidget($(this))}),storiesEditBIPListeners(),storiesEditSettingsListeners(),storiesEditVideoInputHandler(),storiesEditCTAsListeners(),storiesEditTagsListeners(),storiesEditNewContributorListeners(),storiesEditResultsListeners(),storiesEditPromptsListeners(),storiesEditContributionsListeners(),storiesEditContentEditorListeners()}function loadCspOrPlaceholderWidgets(){var t=322,e=_.template($("#csp-linkedin-widget-template").html());$(".csp-widget-container").each(function(){var n=$(this),i={};i.first_name=n.data("first-name"),i.last_name=n.data("last-name"),i.linkedin_url=n.data("linkedin-url"),i.linkedin_title=n.data("linkedin-title"),i.linkedin_company=n.data("linkedin-company"),i.linkedin_photo_url=n.data("linkedin-photo-url"),i.linkedin_location=n.data("linkedin-location"),n.append(e({contributor:i,widgetWidth:t})).imagesLoaded(function(){n.find(".csp-linkedin-widget").removeClass("hidden")})}),$(".placeholder-widget-container").each(function(){var n=$(this),i={};i.first_name=n.data("first-name"),i.last_name=n.data("last-name"),i.linkedin_url=n.data("linkedin-url"),n.append(e({loading:!0,contributor:i,widgetWidth:t})).imagesLoaded(function(){n.find(".csp-linkedin-widget").removeClass("hidden")})})}function loadLIWidget(t){var e=t.find(".widget-container").data("linkedin-widget-loaded")||t.find(".csp-linkedin-widget");if(e)return!1;var n=t.find(".linkedin-widget-container"),i=t.find(".placeholder-widget-container"),o=n.data("url"),r=322,a="-"+t.find(".placeholder-widget-container").outerHeight().toString()+"px",s=$("<script type='IN/MemberProfile' data-id='"+o+"' data-format='inline' data-related='false' data-width='"+r.toString()+"'></script>"),l=function(){if($("body").hasClass("stories edit")){var t=event.origin||event.originalEvent.origin,e=n.find("iframe").attr("id").match(/^\w+(li_gen\w+)_provider/)[1];if("https://platform.linkedin.com"===t&&event.data.includes("widgetReady")){var i=event.data.match(/^(\w+)\s/)[1];i===e&&n.css("margin-top",a).removeClass("hidden").closest(".widget-container").data("linkedin-widget-loaded",!0)}}};n.append(s),window.addEventListener("message",l,!1),IN.parse(),setTimeout(function(){t.find(".widget-container").data("linkedin-widget-loaded")||i.find(".member-info > p").css("color","red").text("Profile data not available")},7e3),$(document).one("turbolinks:before-visit",function(){window.removeEventListener("message",l,!1)})}function storiesEditBIPListeners(){$(document).on("best_in_place:error",function(t,e){var n=JSON.parse(e.responseText);flashDisplay(n.join(", "),"danger")}),$(document).on("focus","a.accordion-toggle",function(){var t=$(this);window.setTimeout(function(){t.blur()},200)})}function storiesEditSettingsListeners(){$(document).on("switchChange.bootstrapSwitch",".bs-switch",function(){$(this).parent().submit(),$(this).closest("form").find("input.bs-switch").bootstrapSwitch("disabled",!0)}),$(document).on("ajax:success","#story-publish-form",function(t,e){var n=$("#story_published"),i=$("#story_logo_published"),o=function(t){return!(!t.published||!t.previous_changes.published)},r=function(t){return!(!t.previous_changes.published||t.published)};e.published||n.bootstrapSwitch("state")!==!0?e.logo_published&&i.bootstrapSwitch("state")===!1&&i.bootstrapSwitch("state",!0):n.bootstrapSwitch("state",!1),o(e)?$.post({url:"/stories/"+e.id+"/promote",success:function(){$.post({url:"/stories/"+e.id+"/adwords",dataType:"script"})}}):r(e)&&$.ajax({url:"/stories/"+e.id+"/adwords",method:"delete",dataType:"json",success:function(){$.ajax({url:"/stories/"+e.id+"/promote",method:"delete",dataType:"script",success:function(){setTimeout(function(){$("input.bs-switch").bootstrapSwitch("disabled",!1)},3e3)}})}})}),$(document).on("click","#approval-pdf-btn",function(t){var e=$(this).data("missing-curator-info");if(e.length){t.preventDefault();var n="Can't generate document because the following Curator fields are missing: "+e.join(", ");flashDisplay(n,"danger")}})}function storiesEditVideoInputHandler(){$(document).on("ajax:success",".best_in_place[data-bip-attribute='embed_url']",function(t,e){var n=JSON.parse(e),i=n.video_info.provider,o=n.embed_url,r=n.video_info.id,a=$("<img src='"+$(".video-container").data("placeholder")+"'>"),s="Video URL (YouTube, Vimeo, or Wistia)",l=_.template($("#video-template").html());o?"wistia"===i?("undefined"==typeof Wistia&&$.getScript("//fast.wistia.com/assets/external/E-v1.js"),$(".video-container").empty().append(l({provider:i,videoId:r}))):($(".video-container").empty().append(l({provider:i,videoId:r,videoUrl:o})),loadVideoThumbnail()):$(".video-container").empty().append(a),$(".best_in_place[data-bip-attribute='embed_url']").text(o||s)})}function storiesEditCTAsListeners(){$(document).on("change","#story-ctas-select",function(){$("#story-ctas-submit, #story-ctas-reset").prop("disabled",!1)})}function storiesEditTagsListeners(){$(document).on("change",".story-tags",function(){$("#story-tags-submit, #story-tags-reset").prop("disabled",!1)})}function storiesEditNewContributorListeners(){$(document).on("shown.bs.modal",".modal",function(){$(this).find("#contributor_first_name").focus()}),$(document).on("hidden.bs.modal","#new-contributor-modal",function(){$(this).find("form")[0].reset(),$(".new-contributor-role").val("customer"),$(".new-contributor-referrer").val("").trigger("change")}),$(document).on("focus","#new-contributor-button",function(){var t=$(this);window.setTimeout(function(){t.blur()},220)})}function storiesEditResultsListeners(){$(document).on("input","#new-result",function(){$(this).val().length>0?$(this).closest("form").find("button").prop("disabled",!1):$(this).closest("form").find("button").prop("disabled",!0)}),$(document).on("click",".delete-result",function(){var t=$(this);$.ajax({url:t.data("action"),method:"delete",success:function(){t.closest(".row").next("br").remove(),t.closest(".row").remove()}})})}function storiesEditPromptsListeners(){$(document).on("input","#new-prompt",function(){$(this).val().length>0?$(this).closest("form").find("button").prop("disabled",!1):$(this).closest("form").find("button").prop("disabled",!0)}),$(document).on("click",".delete-prompt",function(){var t=$(this);$.ajax({url:t.data("action"),method:"delete",success:function(){t.closest(".row").next("br").remove(),t.closest(".row").remove()}})})}function storiesEditContributionsListeners(){$(document).on("click",'#new-contributor-modal input[type="submit"]',function(t){t.preventDefault(),$.rails.handleRemote($("#new-contributor-modal form"))}),$(document).on("submit","#confirm-email-form",function(){$(this).closest(".modal-content").find(".modal-title").addClass("hidden"),$(this).closest(".modal-content").find(".progress").removeClass("hidden")}),$(document).on("ajax:success",".best_in_place[data-bip-attribute='linkedin_url']",function(){var t=$(this),e=$(this).text(),n=322,i=function(e){return e.html()!==t.attr("data-bip-placeholder")},o=_.template($("#csp-linkedin-widget-template").html()),r=$(this).closest(".contribution-card"),a=r.find(".linkedin-checkbox-and-widget"),s=r.find(".widget-container"),l=r.find(".research"),c=$("<div class='placeholder-widget-container text-center'style='min-height:128px'></div>"),u=$("<div class='linkedin-widget-container hidden text-center' style='min-height:128px;position:relative'><script type='IN/MemberProfile' data-id='"+e+"' data-format='inline' data-related='false' data-width='"+n.toString()+"'></script></div>"),d={first_name:r.find(".contributor-name").text().trim().split(" ")[0],last_name:r.find(".contributor-name").text().trim().split(" ")[1],linkedin_url:e},h=function(t){return function(e){if($("body").hasClass("stories edit")){var n=e.origin||e.originalEvent.origin,i=t.find("iframe").attr("id").match(/^\w+(li_gen\w+)_provider/)[1];if("https://platform.linkedin.com"===n&&e.data.includes("widgetReady")){var o=e.data.match(/^(\w+)\s/)[1];o===i&&t.css("margin-top","-128px").removeClass("hidden").closest(".widget-container").data("linkedin-widget-loaded",!0)}}}};s.empty(),s.data("linkedin-widget-loaded",!1),i(t)?(a.removeClass("hidden"),s.append(c).append(u).find(".placeholder-widget-container").append(o({loading:!0,contributor:d,widgetWidth:n})).imagesLoaded(function(){$(".csp-linkedin-widget.hidden").removeClass("hidden")}),window.addEventListener("message",h(u),!1),IN.parse(),setTimeout(function(){window.removeEventListener("message",h,!1),s.data("linkedin-widget-loaded")||c.find(".member-info > p").css("color","red").text("Profile data not available")},8e3),l.attr("href",e),l.html("<i class='fa fa-linkedin-square bip-clickable-fa'>")):(a.addClass("hidden"),$.get("/contributions/"+r.data("contribution-id"),function(t){"customer"==t.role?l.attr("href","//google.com/search?q="+t.contributor.first_name+"+"+t.contributor.last_name+"+"+t.success.customer.name):l.attr("href","//google.com/search?q="+t.contributor.first_name+"+"+t.contributor.last_name+"+")},"json"),l.html("<i class='glyphicon glyphicon-user bip-clickable'></i>"))}),$(document).on("change",".curator-linkedin-checkbox",function(){$(this).submit()}),$(document).on("ajax:success",".curator-linkedin-checkbox",function(){var t=$(this);t.next().removeClass("hidden"),setTimeout(function(){t.next().addClass("hidden")},2e3)}),$(document).on("click",".contribution-card.accordion-toggle",function(){if($(this).attr("href").match(/info/)){
var t=$(this).closest(".accordion").find("div.accordion-body[id*='submission']");t.hasClass("in")&&t.removeClass("in")}else if($(this).attr("href").match(/submission/)){var e=$(this).closest(".accordion").find("div.accordion-body[id*='info']");e.hasClass("in")&&e.removeClass("in")}}),$(document).on("ajax:success",".best_in_place[data-bip-attribute='notes']",function(){var t=$(this),e=$(this).attr("id").match(/_(\d+)_notes$/)[1];$(".best_in_place[id*='"+e+"_notes']").each(function(){if(!$(this).is(t)){var e=$(this).clone();e.html(t.html()),e.attr("data-bip-value",t.html()),e.attr("data-bip-original-content",t.html()),$(this).parent().empty().append(e),e.best_in_place()}})}),$(document).on("ajax:success",".best_in_place[data-bip-attribute='phone']",function(){var t=$(this),e=$(this).attr("id").match(/_(\d+)_phone$/)[1];$(".best_in_place[id*='"+e+"_phone']").each(function(){if(!$(this).is(t)){var e=$(this).clone();e.html(t.html()),e.attr("data-bip-value",t.html()),e.attr("data-bip-original-content",t.html()),$(this).parent().empty().append("<span>Phone:&nbsp;&nbsp;</span>",e),e.best_in_place()}})})}function storiesEditContentEditorListeners(){$(document).on("click","#edit-story-content",function(){var t=$("#story-content-editor"),e=t.next(),n=e.find(".note-editable"),i=($("[type='submit'][form='story-content-form']"),$("[form='story-content-form']")),o=e.find(".note-toolbar > .note-btn-group > button, .note-toolbar > .note-btn-group > .note-btn-group > button");$(this).css({"pointer-events":"none",color:"#e3e3e3"}),n.attr("contenteditable","true").css({"background-color":"white","pointer-events":"auto"}),o.css({"background-color":"white","pointer-events":"auto"}),i.removeClass("hidden")}),$(document).on("reset","#story-content-form",function(){var t=$("#story-content-editor"),e=$("[type='submit'][form='story-content-form']");t.summernote("code",t.text()),e.click()}),$(document).on("click",".note-view",function(){var t=$("[form='story-content-form']");t.prop("disabled")?t.prop("disabled",!1):t.prop("disabled",!0)})}function initGridPreviews(t,e){$grid=$("#stories-gallery"),$items=$grid.children("li"),current=-1,previewPos=-1,scrollExtra=0,marginExpanded=10,$window=$(window),$body=$("html, body"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},transEndEventName=transEndEventNames[Modernizr.prefixed("transition")],support=Modernizr.csstransitions,settings={minHeight:500,speed:350,easing:"ease"},settings=$.extend(!0,{},settings,t),$grid.imagesLoaded(function(){saveItemInfo(!0),getWinSize(),initEvents(e)})}function saveItemInfo(t){$items.each(function(){var e=$(this);e.data("offsetTop",e.offset().top),t&&e.data("height",e.height())})}function getWinSize(){winsize={width:$window.width(),height:$window.height()}}function initEvents(t){$items.on("click","span.og-close",function(){return hidePreview(),!1}).children("a.preview-published").on("click",function(){var t=$(this).parent();return current===t.index()?hidePreview():showPreview(t),!1}),$window.on("debouncedresize",function(){scrollExtra=0,previewPos=-1,saveItemInfo(),getWinSize();var t=$.data(this,"preview");"undefined"!=typeof t&&hidePreview()}),t&&t()}function showPreview(t){var e=$.data(this,"preview"),n=t.data("offsetTop");if(scrollExtra=0,"undefined"!=typeof e){if(previewPos===n)return e.update(t),!1;n>previewPos&&(scrollExtra=e.height),hidePreview()}previewPos=n,e=$.data(this,"preview",new Preview(t)),e.open()}function hidePreview(){current=-1;var t=$.data(this,"preview");t.close(),$.removeData(this,"preview")}function Preview(t){this.$item=t,this.expandedIdx=this.$item.index(),this.create(),this.update()}function attachStoriesListeners(){storiesIndexListeners(),storiesEditListeners(),storiesPlayVideoListener(),$(document).on("click",".cta-form",function(){$("#outbound-form-modal").modal("show")})}function loadVideoThumbnail(){var t=$(".video-thumb-container"),e=t.data("provider"),n=t.data("video-id"),i=(t.data("video-url"),"");return 0!==t.length&&void("youtube"===e?(i="//i1.ytimg.com/vi/"+n+"/hqdefault.jpg",t.append("<div><img class='video-thumb' src='"+i+"'></div>"),t.find("img").one("load",function(){$(this).after("<div class='play-button'><i class='fa fa-2x fa-inverse fa-play'></i></div>")})):"vimeo"===e&&$.getJSON("//vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+n,function(e){i=e.thumbnail_url_with_play_button,t.append("<div><img class='video-thumb' src='"+i+"'></div>")}))}function storiesPlayVideoListener(){$(document).on("click",".video-thumb-container img, .video-thumb-container .play-button",function(t){var e=$(".video-thumb-container"),n=$("#story-video-modal"),i=e.data("provider"),o=(e.data("video-id"),e.data("video-url")),r=n.find("iframe")[0].contentWindow,a=function(){"youtube"===i?r.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):"vimeo"===i&&r.postMessage('{"method":"pause"}',"*")};"youtube"===i?videoQuery="/?autoplay=1&enablejsapi=1&controls=0&iv_load_policy=3&showinfo=0&rel=0":"vimeo"===i&&(videoQuery="/?autoplay=1"),$(document).width()<600?(t.stopPropagation(),$(this).parent().replaceWith($("<iframe src='"+o+videoQuery+"'frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>"))):(r.location.replace(o+videoQuery),n.find("button.close").on("click",function(){a()}),n.one("hide.bs.modal",function(){a()}),n.one("hidden.bs.modal",function(){}))})}function attachContributionsListeners(){$(document).on("click","#contribution-submission-prompts",function(){var t=$(this).find("a");"helpful pointers"==t.text()?t.text("hide pointers"):t.text("helpful pointers")})}function profileEdit(){app.current_user.is_curator||($("header").css("background-color","white"),$("header").css("border-color","#dddddd")),$(".dropdown.user-profile").addClass("active"),$(document).one("turbolinks:before-visit",function(){$(".dropdown.user-profile").hasClass("active")&&$(".dropdown.user-profile").removeClass("active")}).one("click",".workflow-tabs-list",function(){$(".dropdown.user-profile").hasClass("active")&&$(".dropdown.user-profile").removeClass("active")})}function attachProfileListeners(){$(document).on("click",".btn.linkedin-edit",function(){$(".linkedin-connect").toggle()}).on("click","#remove-li-profile-modal .btn-ok",function(){$(".linkedin-url").toggleClass("url-present url-absent"),$("#user_linkedin_url").val(""),$(".linkedin-container").css("opacity","0.5").css("pointer-events","none"),$("#remove-li-profile-modal").modal("hide")}).on("shown.bs.tab",'.nav-stacked a[data-toggle="tab"]',function(){"#password-tab"==$(this).attr("href")?sessionStorage.setItem("lastProfileTab","#profile-tab"):sessionStorage.setItem("lastProfileTab",$(this).attr("href"))}).on("change",".contributor-linkedin-checkbox",function(){$(this).find("#contribution_publish_contributor").prop("checked")?$(this).find("#contribution_contributor_unpublished").val(!1):$(this).find("#contribution_contributor_unpublished").val(!0),$(this).submit()}).on("focus",".contributor-linkedin-checkbox",function(){$(this).blur()})}function setAppData(){window.gon,app.company=window.gon&&gon.company||app.company||null,app.contributions=window.gon&&JSON.parse(gon.contributions)||app.contributions||null,app.storyCandidates=window.gon&&gon.storyCandidates||app.storyCandidates||null,app.stories=window.gon&&gon.stories||app.stories||null,app.current_user=window.gon&&gon.current_user||app.current_user||null,app.env=window.gon&&gon.env||app.env||null,app.charts=window.gon&&gon.charts||app.charts||null,getScreenSize()}function attachAppListeners(){xScrollBoundaries(),yScrollBoundaries(),$(document).on("click","#workflow-tabs-list a",function(){if($("body").hasClass("companies show"))return!1;var t=$(this).attr("href").substr(1,$(this).attr("href").indexOf("-")-1);Cookies.set("workflow_tab",t),Turbolinks.visit("/companies/"+app.company.id.toString())}),$(document).on("turbolinks:click",function(){}).on("turbolinks:before-visit",function(){}).on("turbolinks:request-start",function(){}).on("turbolinks:visit",function(){}).on("turbolinks:request-end",function(){}).on("turbolinks:before-cache",function(){deconstructPlugins()}).on("turbolinks:before-render",function(){}).on("turbolinks:render",function(){document.documentElement.hasAttribute("data-turbolinks-preview")&&($("body").hasClass("not:companies not:show")&&$("#workflow-tabs-list").find(".active").removeClass("active"),constructPlugins())})}function getScreenSize(){!function(t,e){e.is("xs")?app.screenSize="xs":e.is("sm")?app.screenSize="sm":e.is("md")?app.screenSize="md":e.is("lg")&&(app.screenSize="lg")}(jQuery,ResponsiveBootstrapToolkit)}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=rt.type(t);return"function"!==n&&!rt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(rt.isFunction(e))return rt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return rt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(mt.test(e))return rt.filter(e,t,n);e=rt.filter(e,t)}return rt.grep(t,function(t){return Z.call(e,t)>-1!==n})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e={};return rt.each(t.match(kt)||[],function(t,n){e[n]=!0}),e}function a(){Q.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a),rt.ready()}function s(){this.expando=rt.expando+s.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace($t,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Tt.test(n)?rt.parseJSON(n):n)}catch(t){}Dt.set(t,e,n)}else n=void 0;return n}function c(t,e,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return rt.css(t,e,"")},l=s(),c=n&&n[3]||(rt.cssNumber[e]?"":"px"),u=(rt.cssNumber[e]||"px"!==c&&+l)&&At.exec(rt.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do r=r||".5",u/=r,rt.style(t,e,u+c);while(r!==(r=s()/l)&&1!==r&&--a)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function u(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],n):n}function d(t,e){for(var n=0,i=t.length;n<i;n++)St.set(t[n],"globalEval",!e||St.get(e[n],"globalEval"))}function h(t,e,n,i,o){for(var r,a,s,l,c,h,p=e.createDocumentFragment(),f=[],m=0,g=t.length;m<g;m++)if(r=t[m],r||0===r)if("object"===rt.type(r))rt.merge(f,r.nodeType?[r]:r);else if(jt.test(r)){for(a=a||p.appendChild(e.createElement("div")),s=(Ft.exec(r)||["",""])[1].toLowerCase(),l=Ot[s]||Ot._default,a.innerHTML=l[1]+rt.htmlPrefilter(r)+l[2],h=l[0];h--;)a=a.lastChild;rt.merge(f,a.childNodes),a=p.firstChild,a.textContent=""}else f.push(e.createTextNode(r));for(p.textContent="",m=0;r=f[m++];)if(i&&rt.inArray(r,i)>-1)o&&o.push(r);else if(c=rt.contains(r.ownerDocument,r),a=u(p.appendChild(r),"script"),c&&d(a),n)for(h=0;r=a[h++];)Lt.test(r.type||"")&&n.push(r);return p}function p(){return!0}function f(){return!1}function m(){try{return Q.activeElement}catch(t){}}function g(t,e,n,i,o,r){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)g(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=f;else if(!o)return t;return 1===r&&(a=o,o=function(t){return rt().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=rt.guid++)),t.each(function(){rt.event.add(this,e,o,i,n)})}function v(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){var n,i,o,r,a,s,l,c;if(1===e.nodeType){if(St.hasData(t)&&(r=St.access(t),a=St.set(e,r),c=r.events)){delete a.handle,a.events={};for(o in c)for(n=0,i=c[o].length;n<i;n++)rt.event.add(e,o,c[o][n])}Dt.hasData(t)&&(s=Dt.access(t),l=rt.extend({},s),Dt.set(e,l))}}function k(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Mt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function x(t,e,n,i){e=X.apply([],e);var o,r,a,s,l,c,d=0,p=t.length,f=p-1,m=e[0],g=rt.isFunction(m);if(g||p>1&&"string"==typeof m&&!it.checkClone&&zt.test(m))return t.each(function(o){var r=t.eq(o);g&&(e[0]=m.call(this,o,r.html())),x(r,e,n,i)});if(p&&(o=h(e,t[0].ownerDocument,!1,t,i),r=o.firstChild,1===o.childNodes.length&&(o=r),r||i)){for(a=rt.map(u(o,"script"),y),s=a.length;d<p;d++)l=o,d!==f&&(l=rt.clone(l,!0,!0),s&&rt.merge(a,u(l,"script"))),n.call(t[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,rt.map(a,b),d=0;d<s;d++)l=a[d],Lt.test(l.type||"")&&!St.access(l,"globalEval")&&rt.contains(c,l)&&(l.src?rt._evalUrl&&rt._evalUrl(l.src):rt.globalEval(l.textContent.replace(qt,"")))}return t}function C(t,e,n){for(var i,o=e?rt.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||rt.cleanData(u(i)),i.parentNode&&(n&&rt.contains(i.ownerDocument,i)&&d(u(i,"script")),i.parentNode.removeChild(i));return t}function _(t,e){var n=rt(e.createElement(t)).appendTo(e.body),i=rt.css(n[0],"display");return n.detach(),i}function S(t){var e=Q,n=Vt[t];return n||(n=_(t,e),"none"!==n&&n||(Yt=(Yt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Yt[0].contentDocument,e.write(),e.close(),n=_(t,e),Yt.detach()),Vt[t]=n),n}function D(t,e,n){var i,o,r,a,s=t.style;return n=n||Kt(t),a=n?n.getPropertyValue(e)||n[e]:void 0,""!==a&&void 0!==a||rt.contains(t.ownerDocument,t)||(a=rt.style(t,e)),n&&!it.pixelMarginRight()&&Qt.test(a)&&Gt.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r),void 0!==a?a+"":a}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function $(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function E(t,e,n){var i=At.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function A(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=rt.css(t,n+It[r],!0,o)),i?("content"===n&&(a-=rt.css(t,"padding"+It[r],!0,o)),"margin"!==n&&(a-=rt.css(t,"border"+It[r]+"Width",!0,o))):(a+=rt.css(t,"padding"+It[r],!0,o),"padding"!==n&&(a+=rt.css(t,"border"+It[r]+"Width",!0,o)));return a}function I(e,n,i){var o=!0,r="width"===n?e.offsetWidth:e.offsetHeight,a=Kt(e),s="border-box"===rt.css(e,"boxSizing",!1,a);if(Q.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(r=Math.round(100*e.getBoundingClientRect()[n])),r<=0||null==r){if(r=D(e,n,a),(r<0||null==r)&&(r=e.style[n]),Qt.test(r))return r;o=s&&(it.boxSizingReliable()||r===e.style[n]),r=parseFloat(r)||0}return r+A(e,n,i||(s?"border":"content"),o,a)+"px"}function P(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)i=t[a],i.style&&(r[a]=St.get(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Pt(i)&&(r[a]=St.access(i,"olddisplay",S(i.nodeName)))):(o=Pt(i),"none"===n&&o||St.set(i,"olddisplay",o?n:rt.css(i,"display"))));for(a=0;a<s;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function M(t,e,n,i,o){return new M.prototype.init(t,e,n,i,o)}function F(){return t.setTimeout(function(){oe=void 0}),oe=rt.now()}function L(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)n=It[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function O(t,e,n){for(var i,o=(N.tweeners[e]||[]).concat(N.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function j(t,e,n){var i,o,r,a,s,l,c,u,d=this,h={},p=t.style,f=t.nodeType&&Pt(t),m=St.get(t,"fxshow");n.queue||(s=rt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,rt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=rt.css(t,"display"),u="none"===c?St.get(t,"olddisplay")||S(t.nodeName):c,"inline"===u&&"none"===rt.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],ae.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||rt.style(t,i)}else c=void 0;if(rt.isEmptyObject(h))"inline"===("none"===c?S(t.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=St.access(t,"fxshow",{}),r&&(m.hidden=!f),f?rt(t).show():d.done(function(){rt(t).hide()}),d.done(function(){var e;St.remove(t,"fxshow");for(e in h)rt.style(t,e,h[e])});for(i in h)a=O(f?m[i]:0,i,d),i in m||(m[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function R(t,e){var n,i,o,r,a;for(n in t)if(i=rt.camelCase(n),o=e[i],r=t[n],rt.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),a=rt.cssHooks[i],a&&"expand"in a){r=a.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function N(t,e,n){var i,o,r=0,a=N.prefilters.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=oe||F(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,r=1-i,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(r);return s.notifyWith(t,[c,r,n]),r<1&&l?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{},easing:rt.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||F(),duration:n.duration,tweens:[],createTween:function(e,n){var i=rt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(R(u,c.opts.specialEasing);r<a;r++)if(i=N.prefilters[r].call(c,t,u,c.opts))return rt.isFunction(i.stop)&&(rt._queueHooks(c.elem,c.opts.queue).stop=rt.proxy(i.stop,i)),i;return rt.map(u,O,c),rt.isFunction(c.opts.start)&&c.opts.start.call(t,c),rt.fx.timer(rt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(t){return t.getAttribute&&t.getAttribute("class")||""}function B(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(kt)||[];if(rt.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function W(t,e,n,i){function o(s){var l;return r[s]=!0,rt.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=t===De;return o(e.dataTypes[0])||!r["*"]&&o("*")}function z(t,e){var n,i,o=rt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&rt.extend(!0,t,i),t}function U(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}function q(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function Y(t,e,n,i){var o;if(rt.isArray(e))rt.each(e,function(e,o){n||Ae.test(t)?i(t,o):Y(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==rt.type(e))i(t,e);else for(o in e)Y(t+"["+o+"]",e[o],n,i)}function V(t){return rt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var G=[],Q=t.document,K=G.slice,X=G.concat,J=G.push,Z=G.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},ot="2.2.3",rt=function(t,e){return new rt.fn.init(t,e)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,ct=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:ot,constructor:rt,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return rt.each(this,t)},map:function(t){return this.pushStack(rt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:G.sort,splice:G.splice},rt.extend=rt.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||rt.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(c&&i&&(rt.isPlainObject(i)||(o=rt.isArray(i)))?(o?(o=!1,r=n&&rt.isArray(n)?n:[]):r=n&&rt.isPlainObject(n)?n:{},a[e]=rt.extend(c,r,i)):void 0!==i&&(a[e]=i));return a},rt.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!rt.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==rt.type(t)||t.nodeType||rt.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=rt.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(st,"ms-").replace(lt,ct)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,o=0;if(n(t))for(i=t.length;o<i&&e.call(t[o],o,t[o])!==!1;o++);else for(o in t)if(e.call(t[o],o,t[o])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(at,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?rt.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Z.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],r=0,a=t.length,s=!n;r<a;r++)i=!e(t[r],r),i!==s&&o.push(t[r]);return o},map:function(t,e,i){var o,r,a=0,s=[];if(n(t))for(o=t.length;a<o;a++)r=e(t[a],a,i),null!=r&&s.push(r);else for(a in t)r=e(t[a],a,i),null!=r&&s.push(r);return X.apply([],s)},guid:1,proxy:function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),rt.isFunction(t))return i=K.call(arguments,2),o=function(){return t.apply(e||this,i.concat(K.call(arguments)))},o.guid=t.guid=t.guid||rt.guid++,o},now:Date.now,support:it}),"function"==typeof Symbol&&(rt.fn[Symbol.iterator]=G[Symbol.iterator]),rt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,n,i){var o,r,a,s,l,c,d,p,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!i&&((e?e.ownerDocument||e:H)!==P&&I(e),e=e||P,F)){if(11!==m&&(c=vt.exec(t)))if(o=c[1]){if(9===m){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(f&&(a=f.getElementById(o))&&R(e,a)&&a.id===o)return n.push(a),n}else{if(c[2])return J.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&k.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(o)),n}if(k.qsa&&!q[t+" "]&&(!L||!L.test(t))){if(1!==m)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=N),d=S(t),r=d.length,l=ht.test(s)?"#"+s:"[id='"+s+"']";r--;)d[r]=l+" "+h(d[r]);p=d.join(","),f=yt.test(t)&&u(e.parentNode)||e}if(p)try{return J.apply(n,f.querySelectorAll(p)),n}catch(t){}finally{s===N&&e.removeAttribute("id")}}}return T(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[N]=!0,t}function o(t){var e=P.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=W++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,a){var s,l,c,u=[B,r];if(a){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(c=e[N]||(e[N]={}),l=c[e.uniqueID]||(c[e.uniqueID]={}),(s=l[i])&&s[0]===B&&s[1]===r)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var o=0,r=n.length;o<r;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function v(t,e,n,o,r,a){return o&&!o[N]&&(o=v(o)),r&&!r[N]&&(r=v(r,a)),i(function(i,a,s,l){var c,u,d,h=[],p=[],f=a.length,v=i||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:g(v,h,t,s,l),b=n?r||(i?t:f||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(c=g(b,p),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(y[p[u]]=d));if(i){if(r||t){if(r){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);r(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=r?tt(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else b=g(b===a?b.splice(f,b.length):b),r?r(null,a,b,l):J.apply(a,b)})}function y(t){for(var e,n,i,o=t.length,r=x.relative[t[0].type],a=r||x.relative[" "],s=r?1:0,l=p(function(t){return t===e},a,!0),c=p(function(t){return tt(e,t)>-1},a,!0),u=[function(t,n,i){var o=!r&&(i||n!==$)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,o}];s<o;s++)if(n=x.relative[t[s].type])u=[p(f(u),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[N]){for(i=++s;i<o&&!x.relative[t[i].type];i++);return v(s>1&&f(u),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&y(t.slice(s,i)),i<o&&y(t=t.slice(i)),i<o&&h(t))}u.push(n)}return f(u)}function b(t,n){var o=n.length>0,r=t.length>0,a=function(i,a,s,l,c){var u,d,h,p=0,f="0",m=i&&[],v=[],y=$,b=i||r&&x.find.TAG("*",c),w=B+=null==y?1:Math.random()||.1,k=b.length;for(c&&($=a===P||a||c);f!==k&&null!=(u=b[f]);f++){if(r&&u){for(d=0,a||u.ownerDocument===P||(I(u),s=!F);h=t[d++];)if(h(u,a||P,s)){l.push(u);break}c&&(B=w)}o&&((u=!h&&u)&&p--,i&&m.push(u))}if(p+=f,o&&f!==p){for(d=0;h=n[d++];)h(m,v,a,s);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}J.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(B=w,$=y),m};return o?i(a):a}var w,k,x,C,_,S,D,T,$,E,A,I,P,M,F,L,O,j,R,N="sizzle"+1*new Date,H=t.document,B=0,W=0,z=n(),U=n(),q=n(),Y=function(t,e){return t===e&&(A=!0),0},V=1<<31,G={}.hasOwnProperty,Q=[],K=Q.pop,X=Q.push,J=Q.push,Z=Q.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),ht=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),kt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){I()};try{J.apply(Q=Z.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(t){J={apply:Q.length?function(t,e){X.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}k=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,M=P.documentElement,F=!_(P),(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),k.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),k.getElementsByTagName=o(function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=gt.test(P.getElementsByClassName),k.getById=o(function(t){return M.appendChild(t).id=N,!P.getElementsByName||!P.getElementsByName(N).length}),k.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&F){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=k.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):k.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=k.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&F)return e.getElementsByClassName(t);
},O=[],L=[],(k.qsa=gt.test(P.querySelectorAll))&&(o(function(t){M.appendChild(t).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+N+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+N+"+*").length||L.push(".#.+[+~]")}),o(function(t){var e=P.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(k.matchesSelector=gt.test(j=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(t){k.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),O.push("!=",rt)}),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),e=gt.test(M.compareDocumentPosition),R=e||gt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!k.sortDetached&&e.compareDocumentPosition(t)===n?t===P||t.ownerDocument===H&&R(H,t)?-1:e===P||e.ownerDocument===H&&R(H,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,s=[t],l=[e];if(!o||!r)return t===P?-1:e===P?1:o?-1:r?1:E?tt(E,t)-tt(E,e):0;if(o===r)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===H?-1:l[i]===H?1:0},P):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&I(t),n=n.replace(ut,"='$1']"),k.matchesSelector&&F&&!q[n+" "]&&(!O||!O.test(n))&&(!L||!L.test(n)))try{var i=j.call(t,n);if(i||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&I(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&I(t);var n=x.attrHandle[e.toLowerCase()],i=n&&G.call(x.attrHandle,e.toLowerCase())?n(t,e,!F):void 0;return void 0!==i?i:k.attributes||!F?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(A=!k.detectDuplicates,E=!k.sortStable&&t.slice(0),t.sort(Y),A){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return E=null,t},C=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,kt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,kt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,kt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:!n||(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,p,f,m=r!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(r){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(h=g,d=h[N]||(h[N]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[t]||[],p=c[0]===B&&c[1],b=p&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[B,p,b];break}}else if(y&&(h=e,d=h[N]||(h[N]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[t]||[],p=c[0]===B&&c[1],b=p),b===!1)for(;(h=++p&&h&&h[m]||(b=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[N]||(h[N]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[t]=[B,b]),h!==e)););return b-=o,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var o,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[N]?r(n):r.length>1?(o=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),a=o.length;a--;)i=tt(t,o[a]),t[i]=!(e[i]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=D(t.replace(st,"$1"));return o[N]?i(function(t,e,n,i){for(var r,a=o(t,null,i,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,kt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,kt).toLowerCase(),function(e){var n;do if(n=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,S=e.tokenize=function(t,n){var i,o,r,a,s,l,c,u=U[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=x.preFilter;s;){i&&!(o=lt.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),i=!1,(o=ct.exec(s))&&(i=o.shift(),r.push({value:i,type:o[0].replace(st," ")}),s=s.slice(i.length));for(a in x.filter)!(o=pt[a].exec(s))||c[a]&&!(o=c[a](o))||(i=o.shift(),r.push({value:i,type:a,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):U(t,l).slice(0)},D=e.compile=function(t,e){var n,i=[],o=[],r=q[t+" "];if(!r){for(e||(e=S(t)),n=e.length;n--;)r=y(e[n]),r[N]?i.push(r):o.push(r);r=q(t,b(o,i)),r.selector=t}return r},T=e.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,d=!i&&S(t=c.selector||t);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&k.getById&&9===e.nodeType&&F&&x.relative[r[1].type]){if(e=(x.find.ID(a.matches[0].replace(wt,kt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=pt.needsContext.test(t)?0:r.length;o--&&(a=r[o],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(wt,kt),yt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),t=i.length&&h(r),!t)return J.apply(n,i),n;break}}return(c||D(t,d))(i,e,!F,n,!e||yt.test(t)&&u(e.parentNode)||e),n},k.sortStable=N.split("").sort(Y).join("")===N,k.detectDuplicates=!!A,I(),k.sortDetached=o(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),k.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.uniqueSort=rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var dt=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&rt(t).is(n))break;i.push(t)}return i},ht=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},pt=rt.expr.match.needsContext,ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mt=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?rt.find.matchesSelector(i,t)?[i]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,n=this.length,i=[],o=this;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;e<n;e++)if(rt.contains(o[e],this))return!0}));for(e=0;e<n;e++)rt.find(t,o[e],i);return i=this.pushStack(n>1?rt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&pt.test(t)?rt(t):t||[],!1).length}});var gt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=rt.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||gt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),ft.test(i[1])&&rt.isPlainObject(e))for(i in e)rt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return o=Q.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?void 0!==n.ready?n.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};yt.prototype=rt.fn,gt=rt(Q);var bt=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};rt.fn.extend({has:function(t){var e=rt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(rt.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=pt.test(t)||"string"!=typeof t?rt(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?rt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?Z.call(rt(t),this[0]):Z.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.uniqueSort(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return dt(t,"parentNode")},parentsUntil:function(t,e,n){return dt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return dt(t,"nextSibling")},prevAll:function(t){return dt(t,"previousSibling")},nextUntil:function(t,e,n){return dt(t,"nextSibling",n)},prevUntil:function(t,e,n){return dt(t,"previousSibling",n)},siblings:function(t){return ht((t.parentNode||{}).firstChild,t)},children:function(t){return ht(t.firstChild)},contents:function(t){return t.contentDocument||rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(n,i){var o=rt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=rt.filter(i,o)),this.length>1&&(wt[t]||rt.uniqueSort(o),bt.test(t)&&o.reverse()),this.pushStack(o)}});var kt=/\S+/g;rt.Callbacks=function(t){t="string"==typeof t?r(t):rt.extend({},t);var e,n,i,o,a=[],s=[],l=-1,c=function(){for(o=t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,o&&(a=n?[]:"")},u={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function e(n){rt.each(n,function(n,i){rt.isFunction(i)?t.unique&&u.has(i)||a.push(i):i&&i.length&&"string"!==rt.type(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return rt.each(arguments,function(t,e){for(var n;(n=rt.inArray(e,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(t){return t?rt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||(a=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(n){rt.each(e,function(e,r){var a=rt.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,i):i}},o={};return i.pipe=i.then,rt.each(e,function(t,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=K.call(arguments),a=r.length,s=1!==a||t&&rt.isFunction(t.promise)?a:0,l=1===s?t:rt.Deferred(),c=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?K.call(arguments):o,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);o<a;o++)r[o]&&rt.isFunction(r[o].promise)?r[o].promise().progress(c(o,n,e)).done(c(o,i,r)).fail(l.reject):--s;return s||l.resolveWith(i,r),l.promise()}});var xt;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){(t===!0?--rt.readyWait:rt.isReady)||(rt.isReady=!0,t!==!0&&--rt.readyWait>0||(xt.resolveWith(Q,[rt]),rt.fn.triggerHandler&&(rt(Q).triggerHandler("ready"),rt(Q).off("ready"))))}}),rt.ready.promise=function(e){return xt||(xt=rt.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?t.setTimeout(rt.ready):(Q.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a))),xt.promise(e)},rt.ready.promise();var Ct=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===rt.type(n)){o=!0;for(s in n)Ct(t,e,s,n[s],!0,r,a)}else if(void 0!==i&&(o=!0,rt.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(rt(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},_t=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};s.uid=1,s.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!_t(t))return{};var e=t[this.expando];return e||(e={},_t(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[e]=n;else for(i in e)o[i]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,rt.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,o,r=t[this.expando];if(void 0!==r){if(void 0===e)this.register(t);else{rt.isArray(e)?i=e.concat(e.map(rt.camelCase)):(o=rt.camelCase(e),e in r?i=[e,o]:(i=o,i=i in r?[i]:i.match(kt)||[])),n=i.length;for(;n--;)delete r[i[n]]}(void 0===e||rt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!rt.isEmptyObject(e)}};var St=new s,Dt=new s,Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$t=/[A-Z]/g;rt.extend({hasData:function(t){return Dt.hasData(t)||St.hasData(t)},data:function(t,e,n){return Dt.access(t,e,n)},removeData:function(t,e){Dt.remove(t,e)},_data:function(t,e,n){return St.access(t,e,n)},_removeData:function(t,e){St.remove(t,e)}}),rt.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=Dt.get(r),1===r.nodeType&&!St.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(r,i,o[i])));St.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Dt.set(this,t)}):Ct(this,function(e){var n,i;if(r&&void 0===e){if(n=Dt.get(r,t)||Dt.get(r,t.replace($t,"-$&").toLowerCase()),void 0!==n)return n;if(i=rt.camelCase(t),n=Dt.get(r,i),void 0!==n)return n;if(n=l(r,i,void 0),void 0!==n)return n}else i=rt.camelCase(t),this.each(function(){var n=Dt.get(this,i);Dt.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Dt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Dt.remove(this,t)})}}),rt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=St.get(t,e),n&&(!i||rt.isArray(n)?i=St.access(t,e,rt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=rt.queue(t,e),i=n.length,o=n.shift(),r=rt._queueHooks(t,e),a=function(){rt.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return St.get(t,n)||St.access(t,n,{empty:rt.Callbacks("once memory").add(function(){St.remove(t,[e+"queue",n])})})}}),rt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?rt.queue(this[0],t):void 0===e?this:this.each(function(){var n=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=rt.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=St.get(r[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,At=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),It=["Top","Right","Bottom","Left"],Pt=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},Mt=/^(?:checkbox|radio)$/i,Ft=/<([\w:-]+)/,Lt=/^$|\/(?:java|ecma)script/i,Ot={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ot.optgroup=Ot.option,Ot.tbody=Ot.tfoot=Ot.colgroup=Ot.caption=Ot.thead,Ot.th=Ot.td;var jt=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Rt=/^key/,Nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ht=/^([^.]*)(?:\.(.+)|)/;rt.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,p,f,m,g=St.get(t);if(g)for(n.handler&&(r=n,n=r.handler,o=r.selector),n.guid||(n.guid=rt.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return"undefined"!=typeof rt&&rt.event.triggered!==e.type?rt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(kt)||[""],c=e.length;c--;)s=Ht.exec(e[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p&&(d=rt.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=rt.event.special[p]||{},u=rt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&rt.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,f,a)!==!1||t.addEventListener&&t.addEventListener(p,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),rt.event.global[p]=!0)},remove:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,p,f,m,g=St.hasData(t)&&St.get(t);if(g&&(l=g.events)){for(e=(e||"").match(kt)||[""],c=e.length;c--;)if(s=Ht.exec(e[c])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(d=rt.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)u=h[r],!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));a&&!h.length&&(d.teardown&&d.teardown.call(t,f,g.handle)!==!1||rt.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)rt.event.remove(t,p+e[c],n,i,!0);rt.isEmptyObject(l)&&St.remove(t,"handle events")}},dispatch:function(t){t=rt.event.fix(t);var e,n,i,o,r,a=[],s=K.call(arguments),l=(St.get(this,"events")||{})[t.type]||[],c=rt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=rt.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,i=((rt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;n<s;n++)r=e[n],o=r.selector+" ",void 0===i[o]&&(i[o]=r.needsContext?rt(o,this).index(l)>-1:rt.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,i=n.documentElement,o=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[rt.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Nt.test(o)?this.mouseHooks:Rt.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new rt.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&rt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},rt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?p:f):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={constructor:rt.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=p,t&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===i||rt.contains(i,o))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),rt.fn.extend({on:function(t,e,n,i){return g(this,t,e,n,i)},one:function(t,e,n,i){return g(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,rt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=f),this.each(function(){rt.event.remove(this,t,n,e)})}});var Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Wt=/<script|<style|<link/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;rt.extend({htmlPrefilter:function(t){return t.replace(Bt,"<$1></$2>")},clone:function(t,e,n){var i,o,r,a,s=t.cloneNode(!0),l=rt.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(a=u(s),r=u(t),i=0,o=r.length;i<o;i++)k(r[i],a[i]);if(e)if(n)for(r=r||u(t),a=a||u(s),i=0,o=r.length;i<o;i++)w(r[i],a[i]);else w(t,s);return a=u(s,"script"),a.length>0&&d(a,!l&&u(t,"script")),s},cleanData:function(t){for(var e,n,i,o=rt.event.special,r=0;void 0!==(n=t[r]);r++)if(_t(n)){if(e=n[St.expando]){if(e.events)for(i in e.events)o[i]?rt.event.remove(n,i):rt.removeEvent(n,i,e.handle);n[St.expando]=void 0}n[Dt.expando]&&(n[Dt.expando]=void 0)}}}),rt.fn.extend({domManip:x,detach:function(t){return C(this,t,!0)},remove:function(t){return C(this,t)},text:function(t){return Ct(this,function(t){return void 0===t?rt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(rt.cleanData(u(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return Ct(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Wt.test(t)&&!Ot[(Ft.exec(t)||["",""])[1].toLowerCase()]){t=rt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(rt.cleanData(u(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;rt.inArray(this,t)<0&&(rt.cleanData(u(this)),n&&n.replaceChild(e,this))},t)}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var n,i=[],o=rt(t),r=o.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),rt(o[a])[e](n),J.apply(i,n.get());return this.pushStack(i)}});var Yt,Vt={HTML:"block",BODY:"block"},Gt=/^margin/,Qt=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),Kt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Xt=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=a[r];return o},Jt=Q.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Jt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,r="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",o="4px"===e.marginRight,Jt.removeChild(a)}var n,i,o,r,a=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),rt.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),
i},pixelMarginRight:function(){return null==i&&e(),o},reliableMarginLeft:function(){return null==i&&e(),r},reliableMarginRight:function(){var e,n=s.appendChild(Q.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Jt.appendChild(a),e=!parseFloat(t.getComputedStyle(n).marginRight),Jt.removeChild(a),s.removeChild(n),e}}))}();var Zt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=Q.createElement("div").style;rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=rt.camelCase(e),l=t.style;return e=rt.cssProps[s]||(rt.cssProps[s]=$(s)||s),a=rt.cssHooks[e]||rt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:l[e]:(r=typeof n,"string"===r&&(o=At.exec(n))&&o[1]&&(n=c(t,e,o),r="number"),null!=n&&n===n&&("number"===r&&(n+=o&&o[3]||(rt.cssNumber[s]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var o,r,a,s=rt.camelCase(e);return e=rt.cssProps[s]||(rt.cssProps[s]=$(s)||s),a=rt.cssHooks[e]||rt.cssHooks[s],a&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=D(t,e,i)),"normal"===o&&e in ee&&(o=ee[e]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,n,i){if(n)return Zt.test(rt.css(t,"display"))&&0===t.offsetWidth?Xt(t,te,function(){return I(t,e,i)}):I(t,e,i)},set:function(t,n,i){var o,r=i&&Kt(t),a=i&&A(t,e,i,"border-box"===rt.css(t,"boxSizing",!1,r),r);return a&&(o=At.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=rt.css(t,e)),E(t,n,a)}}}),rt.cssHooks.marginLeft=T(it.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Xt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),rt.cssHooks.marginRight=T(it.reliableMarginRight,function(t,e){if(e)return Xt(t,{display:"inline-block"},D,[t,"marginRight"])}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[t+It[i]+e]=r[i]||r[i-2]||r[0];return o}},Gt.test(t)||(rt.cssHooks[t+e].set=E)}),rt.fn.extend({css:function(t,e){return Ct(this,function(t,e,n){var i,o,r={},a=0;if(rt.isArray(e)){for(i=Kt(t),o=e.length;a<o;a++)r[e[a]]=rt.css(t,e[a],!1,i);return r}return void 0!==n?rt.style(t,e,n):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Pt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=M,M.prototype={constructor:M,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||rt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(rt.cssNumber[n]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,n=M.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[rt.cssProps[t.prop]]&&!rt.cssHooks[t.prop]?t.elem[t.prop]=t.now:rt.style(t.elem,t.prop,t.now+t.unit)}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},rt.fx=M.prototype.init,rt.fx.step={};var oe,re,ae=/^(?:toggle|show|hide)$/,se=/queueHooks$/;rt.Animation=rt.extend(N,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return c(n.elem,t,At.exec(e),n),n}]},tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.match(kt);for(var n,i=0,o=t.length;i<o;i++)n=t[i],N.tweeners[n]=N.tweeners[n]||[],N.tweeners[n].unshift(e)},prefilters:[j],prefilter:function(t,e){e?N.prefilters.unshift(t):N.prefilters.push(t)}}),rt.speed=function(t,e,n){var i=t&&"object"==typeof t?rt.extend({},t):{complete:n||!n&&e||rt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!rt.isFunction(e)&&e};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Pt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=rt.isEmptyObject(t),r=rt.speed(e,n,i),a=function(){var e=N(this,rt.extend({},t),r);(o||St.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=rt.timers,a=St.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&se.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=St.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=rt.timers,a=i?i.length:0;for(n.finish=!0,rt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var n=rt.fn[e];rt.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,i,o)}}),rt.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),rt.timers=[],rt.fx.tick=function(){var t,e=0,n=rt.timers;for(oe=rt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||rt.fx.stop(),oe=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){re||(re=t.setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){t.clearInterval(re),re=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,n){return e=rt.fx?rt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var le,ce=rt.expr.attrHandle;rt.fn.extend({attr:function(t,e){return Ct(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?rt.prop(t,e,n):(1===r&&rt.isXMLDoc(t)||(e=e.toLowerCase(),o=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void rt.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:(i=rt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(kt);if(r&&1===t.nodeType)for(;n=r[o++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),le={set:function(t,e,n){return e===!1?rt.removeAttr(t,n):t.setAttribute(n,n),n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ce[e]||rt.find.attr;ce[e]=function(t,e,i){var o,r;return i||(r=ce[e],ce[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,ce[e]=r),o}});var ue=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return Ct(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[rt.propFix[t]||t]})}}),rt.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&rt.isXMLDoc(t)||(e=rt.propFix[e]||e,o=rt.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):ue.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),it.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this});var he=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,n,i,o,r,a,s,l=0;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(kt)||[];n=this[l++];)if(o=H(n),i=1===n.nodeType&&(" "+o+" ").replace(he," ")){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=rt.trim(i),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,o,r,a,s,l=0;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(kt)||[];n=this[l++];)if(o=H(n),i=1===n.nodeType&&(" "+o+" ").replace(he," ")){for(a=0;r=e[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");s=rt.trim(i),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(n){rt(this).toggleClass(t.call(this,n,H(this),e),e)}):this.each(function(){var e,i,o,r;if("string"===n)for(i=0,o=rt(this),r=t.match(kt)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=H(this),e&&St.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":St.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(he," ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g,fe=/[\x20\t\r\n\f]+/g;rt.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=rt.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,rt(this).val()):t,null==o?o="":"number"==typeof o?o+="":rt.isArray(o)&&(o=rt.map(o,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=rt.valHooks[o.type]||rt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(pe,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:rt.trim(rt.text(t)).replace(fe," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(n=i[l],(n.selected||l===o)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!rt.nodeName(n.parentNode,"optgroup"))){if(e=rt(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=rt.makeArray(e),a=o.length;a--;)i=o[a],(i.selected=rt.inArray(rt.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){if(rt.isArray(e))return t.checked=rt.inArray(rt(t).val(),e)>-1}},it.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var me=/^(?:focusinfocus|focusoutblur)$/;rt.extend(rt.event,{trigger:function(e,n,i,o){var r,a,s,l,c,u,d,h=[i||Q],p=nt.call(e,"type")?e.type:e,f=nt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!me.test(p+rt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[rt.expando]?e:new rt.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:rt.makeArray(n,[e]),d=rt.event.special[p]||{},o||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!o&&!d.noBubble&&!rt.isWindow(i)){for(l=d.delegateType||p,me.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(i.ownerDocument||Q)&&h.push(s.defaultView||s.parentWindow||t)}for(r=0;(a=h[r++])&&!e.isPropagationStopped();)e.type=r>1?l:d.bindType||p,u=(St.get(a,"events")||{})[e.type]&&St.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&_t(a)&&(e.result=u.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!_t(i)||c&&rt.isFunction(i[p])&&!rt.isWindow(i)&&(s=i[c],s&&(i[c]=null),rt.event.triggered=p,i[p](),rt.event.triggered=void 0,s&&(i[c]=s)),e.result}},simulate:function(t,e,n){var i=rt.extend(new rt.Event,n,{type:t,isSimulated:!0});rt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}}),rt.fn.extend({trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return rt.event.trigger(t,e,n,!0)}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){rt.event.simulate(e,t.target,rt.event.fix(t))};rt.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=St.access(i,e);o||i.addEventListener(t,n,!0),St.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=St.access(i,e)-1;o?St.access(i,e,o):(i.removeEventListener(t,n,!0),St.remove(i,e))}}});var ge=t.location,ve=rt.now(),ye=/\?/;rt.parseJSON=function(t){return JSON.parse(t+"")},rt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+e),n};var be=/#.*$/,we=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ce=/^(?:GET|HEAD)$/,_e=/^\/\//,Se={},De={},Te="*/".concat("*"),$e=Q.createElement("a");$e.href=ge.href,rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:xe.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Te,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,rt.ajaxSettings),e):z(rt.ajaxSettings,t)},ajaxPrefilter:B(Se),ajaxTransport:B(De),ajax:function(e,n){function i(e,n,i,s){var c,d,y,b,k,C=n;2!==w&&(w=2,l&&t.clearTimeout(l),o=void 0,a=s||"",x.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(b=U(h,x,i)),b=q(h,b,x,c),c?(h.ifModified&&(k=x.getResponseHeader("Last-Modified"),k&&(rt.lastModified[r]=k),k=x.getResponseHeader("etag"),k&&(rt.etag[r]=k)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,y=b.error,c=!y)):(y=C,!e&&C||(C="error",e<0&&(e=0))),x.status=e,x.statusText=(n||C)+"",c?m.resolveWith(p,[d,C,x]):m.rejectWith(p,[x,C,y]),x.statusCode(v),v=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[x,h,c?d:y]),g.fireWith(p,[x,C]),u&&(f.trigger("ajaxComplete",[x,h]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var o,r,a,s,l,c,u,d,h=rt.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?rt(p):rt.event,m=rt.Deferred(),g=rt.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,k="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!s)for(s={};e=ke.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||k;return o&&o.abort(e),i(0,e),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||ge.href)+"").replace(be,"").replace(_e,ge.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=rt.trim(h.dataType||"*").toLowerCase().match(kt)||[""],null==h.crossDomain){c=Q.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=$e.protocol+"//"+$e.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=rt.param(h.data,h.traditional)),W(Se,h,n,x),2===w)return x;u=rt.event&&h.global,u&&0===rt.active++&&rt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ce.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(ye.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=we.test(r)?r.replace(we,"$1_="+ve++):r+(ye.test(r)?"&":"?")+"_="+ve++)),h.ifModified&&(rt.lastModified[r]&&x.setRequestHeader("If-Modified-Since",rt.lastModified[r]),rt.etag[r]&&x.setRequestHeader("If-None-Match",rt.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Te+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===w))return x.abort();k="abort";for(d in{success:1,error:1,complete:1})x[d](h[d]);if(o=W(De,h,n,x)){if(x.readyState=1,u&&f.trigger("ajaxSend",[x,h]),2===w)return x;h.async&&h.timeout>0&&(l=t.setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,o.send(y,i)}catch(t){if(!(w<2))throw t;i(-1,t)}}else i(-1,"No Transport");return x},getJSON:function(t,e,n){return rt.get(t,e,n,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,n,i,o){return rt.isFunction(n)&&(o=o||i,i=n,n=void 0),rt.ajax(rt.extend({url:t,type:e,dataType:o,data:n,success:i},rt.isPlainObject(t)&&t))}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){var e;return rt.isFunction(t)?this.each(function(e){rt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=rt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(n){rt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return!rt.expr.filters.visible(t)},rt.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ee=/%20/g,Ae=/\[\]$/,Ie=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var n,i=[],o=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){o(this.name,this.value)});else for(n in t)Y(n,t[n],e,o);return i.join("&").replace(Ee,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Me.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Mt.test(t))}).map(function(t,e){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}}):{name:e.name,value:n.replace(Ie,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Fe={0:200,1223:204},Le=rt.ajaxSettings.xhr();it.cors=!!Le&&"withCredentials"in Le,it.ajax=Le=!!Le,rt.ajaxTransport(function(e){var n,i;if(it.cors||Le&&!e.crossDomain)return{send:function(o,r){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Fe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=rt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Oe=[],je=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Oe.pop()||rt.expando+"_"+ve++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,a,s=e.jsonp!==!1&&(je.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&je.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(je,"$1"+o):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||rt.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},i.always(function(){void 0===r?rt(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,Oe.push(o)),a&&rt.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),rt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var i=ft.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=h([t],e,o),o&&o.length&&rt(o).remove(),rt.merge([],i.childNodes))};var Re=rt.fn.load;rt.fn.load=function(t,e,n){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return s>-1&&(i=rt.trim(t.slice(s)),t=t.slice(0,s)),rt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&rt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?rt("<div>").append(rt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length},rt.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c,u=rt.css(t,"position"),d=rt(t),h={};"static"===u&&(t.style.position="relative"),s=d.offset(),r=rt.css(t,"top"),l=rt.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(i=d.position(),a=i.top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),rt.isFunction(e)&&(e=e.call(t,n,rt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+o),"using"in e?e.using.call(t,h):d.css(h)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;if(r)return e=r.documentElement,rt.contains(e,i)?(o=i.getBoundingClientRect(),n=V(r),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===rt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(i=t.offset()),i.top+=rt.css(t[0],"borderTopWidth",!0),i.left+=rt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-rt.css(n,"marginTop",!0),left:e.left-i.left-rt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||Jt})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;rt.fn[t]=function(i){return Ct(this,function(t,i,o){var r=V(t);return void 0===o?r?r[e]:t[i]:void(r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):t[i]=o)},t,i,arguments.length)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=T(it.pixelPosition,function(t,n){if(n)return n=D(t,e),Qt.test(n)?rt(t).position()[e]+"px":n})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){rt.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return Ct(this,function(e,n,i){var o;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?rt.css(e,n,a):rt.style(e,n,i,a)},e,r?i:void 0,r,null)}})}),rt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var Ne=t.jQuery,He=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=He),e&&t.jQuery===rt&&(t.jQuery=Ne),rt},e||(t.jQuery=t.$=rt),rt}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(i){var o,r,a,s,l,c;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.data("ujs:submit-button-formmethod")||i.attr("method"),r=i.data("ujs:submit-button-formaction")||i.attr("action"),a=t(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(a.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),a=i.data("params")||null);return c={type:o||"GET",data:a,dataType:l,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!!n.fire(i,"ajax:beforeSend",[t,o])&&void i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(r)},s&&(c.xhrFields={withCredentials:s}),r&&(c.url=r),n.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host);
}catch(t){return!0}},handleMethod:function(i){var o=n.href(i),r=i.data("method"),a=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l===e||s===e||n.isCrossDomain(o)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",i=t.data("disable-with"),i!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),o=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{o=n.confirm(i)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,n,i){var o,r,a,s,l=t(),c=n||"input,textarea",u=e.find(c),d={};return u.each(function(){o=t(this),o.is("input[type=radio]")?(s=o.attr("name"),d[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=e.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),d[s]=s)):(r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),r===i&&(l=l.add(o)))}),!!l.length&&l},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(e){var i=t(this),o=i.data("method"),r=i.data("params"),a=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!o||"GET"===o)&&!r)return!0;var s=n.handleRemote(i);return s===!1?n.enableElement(i):s.fail(function(){n.enableElement(i)}),!1}return o?(n.handleMethod(i),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var o=n.handleRemote(i);return o===!1?n.enableFormElement(i):o.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var o,r,a=t(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if(o=n.blankInputs(a,n.requiredInputSelector,!1),o&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",e);if(s){if(r=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=t("#"+i.attr("form"))),a.data("ujs:submit-button",r),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame}(),visit:function(e,n){return t.controller.visit(e,n)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,n;t.copyObject=function(t){var e,n,i;n={};for(e in t)i=t[e],n[e]=i;return n},t.closest=function(t,n){return e.call(t,n)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&n.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.dispatch=function(t,e){var n,i,o,r,a;return r=null!=e?e:{},a=r.target,n=r.cancelable,i=r.data,o=document.createEvent("Events"),o.initEvent(t,!0,n===!0),o.data=null!=i?i:{},(null!=a?a:document).dispatchEvent(o),o},t.match=function(t,e){return n.call(t,e)},n=function(){var t,e,n,i;return t=document.documentElement,null!=(e=null!=(n=null!=(i=t.matchesSelector)?i:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){t.Location=function(){function t(t){var e,n;null==t&&(t=""),n=document.createElement("a"),n.href=t.toString(),this.absoluteURL=n.href,e=n.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function n(n,i,o){this.delegate=n,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(i).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},n.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},n.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},n.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var i,o,r,a;return a=t.HttpRequest,i=a.NETWORK_FAILURE,r=a.TIMEOUT_FAILURE,o=500,n.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},n.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},n.prototype.visitRequestCompleted=function(t){return t.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case i:case r:return this.reload();default:return t.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(t){return t.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,o)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var e,n=function(t,e){return function(){return t.apply(e,arguments)}};e=!1,addEventListener("load",function(){return t.defer(function(){return e=!0})},!1),t.History=function(){function i(t){this.delegate=t,this.onPopState=n(this.onPopState,this)}return i.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),this.started=!0)},i.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),this.started=!1):void 0},i.prototype.push=function(e,n){return e=t.Location.wrap(e),this.update("push",e,n)},i.prototype.replace=function(e,n){return e=t.Location.wrap(e),this.update("replace",e,n)},i.prototype.onPopState=function(e){var n,i,o,r;return this.shouldHandlePopState()&&(r=null!=(i=e.state)?i.turbolinks:void 0)?(n=t.Location.wrap(window.location),o=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,o)):void 0},i.prototype.shouldHandlePopState=function(){return e===!0},i.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},i}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,n;return n=null!=(e=this.getSetting("root"))?e:"/",new t.Location(n)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector("[id='"+t+"']")}catch(t){}},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,n;return n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=n[n.length-1],null!=e?e.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,i,o;return i=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],o=function(t,e,n){n.prototype=t.prototype;var i=new n,o=t.apply(i,e);return Object(o)===o?o:i}(this,t,function(){}),o.delegate=i,o.render(n),o},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,n(e,t),e)},n=function(t,e){var n,i,o,r,a,s,l;for(r=e.attributes,s=[],n=0,i=r.length;i>n;n++)a=r[n],o=a.name,l=a.value,s.push(t.setAttribute(o,l));return s},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,n,r,a,s,l,c;for(this.element=t,this.elements={},c=this.element.childNodes,a=0,l=c.length;l>a;a++)r=c[a],r.nodeType===Node.ELEMENT_NODE&&(s=r.outerHTML,n=null!=(e=this.elements)[s]?e[s]:e[s]={type:o(r),tracked:i(r),elements:[]},n.elements.push(r))}var e,n,i,o;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var n,i;n=this.elements,i=[];for(t in n)e=n[t].tracked,e&&i.push(t);return i}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,o,r,a,s;o=this.elements,a=[];for(i in o)r=o[i],s=r.type,n=r.elements,s!==t||e.hasElementWithKey(i)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,i,o,r,a;n=[],i=this.elements;for(e in i)o=i[e],a=o.type,r=o.tracked,t=o.elements,null!=a||r?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},o=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},i=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){var e;return e=t.tagName.toLowerCase(),"script"===e},n=function(t){var e;return e=t.tagName.toLowerCase(),"style"===e||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.SnapshotRenderer=function(n){function i(e,n){this.currentSnapshot=e,this.newSnapshot=n,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(i,n),i.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},i.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},i.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},i.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},i.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,o;for(i=this.getNewHeadStylesheetElements(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(document.head.appendChild(t));return o},i.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,o;for(i=this.getNewHeadScriptElements(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},i.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,o;for(i=this.getCurrentHeadProvisionalElements(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(document.head.removeChild(t));return o},i.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,o;for(i=this.getNewHeadProvisionalElements(),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(document.head.appendChild(t));return o},i.prototype.importBodyPermanentElements=function(){var t,e,n,i,o,r;for(i=this.getNewBodyPermanentElements(),r=[],e=0,n=i.length;n>e;e++)o=i[e],(t=this.findCurrentBodyPermanentElement(o))?r.push(o.parentNode.replaceChild(t,o)):r.push(void 0);return r},i.prototype.activateBodyScriptElements=function(){var t,e,n,i,o,r;for(i=this.getNewBodyScriptElements(),r=[],e=0,n=i.length;n>e;e++)o=i[e],t=this.createScriptElement(o),r.push(o.parentNode.replaceChild(t,o));return r},i.prototype.assignNewBody=function(){return document.body=this.newBody},i.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},i.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},i.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},i.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},i.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},i.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},i.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},i.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},i.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},i}(t.Renderer)}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.ErrorRenderer=function(t){function n(t){this.html=t}return e(n,t),n.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},n.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},n.prototype.activateBodyScriptElements=function(){var t,e,n,i,o,r;for(i=this.getScriptElements(),r=[],e=0,n=i.length;n>e;e++)o=i[e],t=this.createScriptElement(o),r.push(o.parentNode.replaceChild(t,o));return r},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var n,i,o;return o=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=o?this.renderSnapshot(o,e):this.renderError(n,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,n){return t.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,n){return t.ErrorRenderer.render(this.delegate,n,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var n;return e.prototype.has=function(t){var e;return e=n(t),e in this.snapshots},e.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=n(t),this.snapshots[e]},e.prototype.write=function(t,e){var i;return i=n(t),this.snapshots[i]=e},e.prototype.touch=function(t){var e,i;return i=n(t),e=this.keys.indexOf(i),e>-1&&this.keys.splice(e,1),this.keys.unshift(i),this.trim()},e.prototype.trim=function(){var t,e,n,i,o;for(i=this.keys.splice(this.size),o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(delete this.snapshots[e]);return o},n=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function n(n,i,o){this.controller=n,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(i),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var i;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=i(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(e,n){return this.response=e,null!=n&&(this.redirectedToLocation=t.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},n.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},i=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function n(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return n.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,
this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},n.prototype.visit=function(e,n){var i,o;return null==n&&(n={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(i=null!=(o=n.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,i)):window.location=e:void 0},n.prototype.startVisitToLocationWithAction=function(e,n,i){var o;return t.supported?(o=this.getRestorationDataForIdentifier(i),this.startVisit(e,n,{restorationData:o})):window.location=e},n.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,n){var i;return this.restorationIdentifier=n,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},n.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},n.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},n.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},n.prototype.render=function(t,e){return this.view.render(t,e)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var n;return n=this.notifyApplicationAfterClickingLinkToLocation(t,e),!n.defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,n){return t.dispatch("turbolinks:click",{target:e,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},n.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},n.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},n.prototype.createVisit=function(e,n,i){var o,r,a,s,l;return r=null!=i?i:{},s=r.restorationIdentifier,a=r.restorationData,o=r.historyChanged,l=new t.Visit(this,e,n),l.restorationIdentifier=null!=s?s:t.uuid(),l.restorationData=t.copyObject(a),l.historyChanged=o,l.referrer=this.location,l},n.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},n.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target])"):void 0},n.prototype.getVisitableLocationForLink=function(e){var n;return n=new t.Location(e.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},n.prototype.nodeIsVisitable=function(e){var n;return!(n=t.closest(e,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},n}()}.call(this),function(){var e,n,i;t.start=function(){return n()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=t),i()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},i=function(){return window.Turbolinks===t},i()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(){function t(t){function e(e,n,i,o,r,a){for(;r>=0&&r<a;r+=t){var s=o?o[r]:r;i=n(i,e[s],s,e)}return i}return function(n,i,o,r){i=b(i,r,4);var a=!D(n)&&y.keys(n),s=(a||n).length,l=t>0?0:s-1;return arguments.length<3&&(o=n[a?a[l]:l],l+=t),e(n,i,o,a,l,s)}}function e(t){return function(e,n,i){n=w(n,i);for(var o=S(e),r=t>0?0:o-1;r>=0&&r<o;r+=t)if(n(e[r],r,e))return r;return-1}}function n(t,e,n){return function(i,o,r){var a=0,s=S(i);if("number"==typeof r)t>0?a=r>=0?r:Math.max(r+s,a):s=r>=0?Math.min(r+1,s):r+s+1;else if(n&&r&&s)return r=n(i,o),i[r]===o?r:-1;if(o!==o)return r=e(u.call(i,a,s),y.isNaN),r>=0?r+a:-1;for(r=t>0?a:s-1;r>=0&&r<s;r+=t)if(i[r]===o)return r;return-1}}function i(t,e){var n=I.length,i=t.constructor,o=y.isFunction(i)&&i.prototype||s,r="constructor";for(y.has(t,r)&&!y.contains(e,r)&&e.push(r);n--;)r=I[n],r in t&&t[r]!==o[r]&&!y.contains(e,r)&&e.push(r)}var o=this,r=o._,a=Array.prototype,s=Object.prototype,l=Function.prototype,c=a.push,u=a.slice,d=s.toString,h=s.hasOwnProperty,p=Array.isArray,f=Object.keys,m=l.bind,g=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):o._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var k=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],a=t(r),s=a.length,l=0;l<s;l++){var c=a[l];e&&void 0!==n[c]||(n[c]=r[c])}return n}},x=function(t){if(!y.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},_=Math.pow(2,53)-1,S=C("length"),D=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=_};y.each=y.forEach=function(t,e,n){e=b(e,n);var i,o;if(D(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else{var r=y.keys(t);for(i=0,o=r.length;i<o;i++)e(t[r[i]],r[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!D(t)&&y.keys(t),o=(i||t).length,r=Array(o),a=0;a<o;a++){var s=i?i[a]:a;r[a]=e(t[s],s,t)}return r},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(i=D(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},y.filter=y.select=function(t,e,n){var i=[];return e=w(e,n),y.each(t,function(t,n,o){e(t,n,o)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!D(t)&&y.keys(t),o=(i||t).length,r=0;r<o;r++){var a=i?i[r]:r;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!D(t)&&y.keys(t),o=(i||t).length,r=0;r<o;r++){var a=i?i[r]:r;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return D(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=u.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var o=i?e:t[e];return null==o?o:o.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,o,r=-(1/0),a=-(1/0);if(null==e&&null!=t){t=D(t)?t:y.values(t);for(var s=0,l=t.length;s<l;s++)i=t[s],i>r&&(r=i)}else e=w(e,n),y.each(t,function(t,n,i){o=e(t,n,i),(o>a||o===-(1/0)&&r===-(1/0))&&(r=t,a=o)});return r},y.min=function(t,e,n){var i,o,r=1/0,a=1/0;if(null==e&&null!=t){t=D(t)?t:y.values(t);for(var s=0,l=t.length;s<l;s++)i=t[s],i<r&&(r=i)}else e=w(e,n),y.each(t,function(t,n,i){o=e(t,n,i),(o<a||o===1/0&&r===1/0)&&(r=t,a=o)});return r},y.shuffle=function(t){for(var e,n=D(t)?t:y.values(t),i=n.length,o=Array(i),r=0;r<i;r++)e=y.random(0,r),e!==r&&(o[r]=o[e]),o[e]=n[r];return o},y.sample=function(t,e,n){return null==e||n?(D(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,i){var o={};return n=w(n,i),y.each(e,function(i,r){var a=n(i,r,e);t(o,i,a)}),o}};y.groupBy=T(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=T(function(t,e,n){t[n]=e}),y.countBy=T(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?u.call(t):D(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:D(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var i=[],o=[];return y.each(t,function(t,n,r){(e(t,n,r)?i:o).push(t)}),[i,o]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var $=function(t,e,n,i){for(var o=[],r=0,a=i||0,s=S(t);a<s;a++){var l=t[a];if(D(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=$(l,e,n));var c=0,u=l.length;for(o.length+=u;c<u;)o[r++]=l[c++]}else n||(o[r++]=l)}return o};y.flatten=function(t,e){return $(t,e,!1)},y.without=function(t){return y.difference(t,u.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var o=[],r=[],a=0,s=S(t);a<s;a++){var l=t[a],c=n?n(l,a,t):l;e?(a&&r===c||o.push(l),r=c):n?y.contains(r,c)||(r.push(c),o.push(l)):y.contains(o,l)||o.push(l)}return o},y.union=function(){return y.uniq($(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,o=S(t);i<o;i++){var r=t[i];if(!y.contains(e,r)){for(var a=1;a<n&&y.contains(arguments[a],r);a++);a===n&&e.push(r)}}return e},y.difference=function(t){var e=$(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,S).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,o=S(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var o=n(e),r=0,a=S(t);r<a;){var s=Math.floor((r+a)/2);n(t[s])<o?r=s+1:a=s}return r},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),r=0;r<i;r++,t+=n)o[r]=t;return o};var E=function(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var r=x(t.prototype),a=t.apply(r,o);return y.isObject(a)?a:r};y.bind=function(t,e){if(m&&t.bind===m)return m.apply(t,u.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return E(t,i,e,this,n.concat(u.call(arguments)))};return i},y.partial=function(t){var e=u.call(arguments,1),n=function(){for(var i=0,o=e.length,r=Array(o),a=0;a<o;a++)r[a]=e[a]===y?arguments[i++]:e[a];for(;i<arguments.length;)r.push(arguments[i++]);return E(t,n,this,this,r)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var o=n.cache,r=""+(e?e.apply(this,arguments):i);return y.has(o,r)||(o[r]=t.apply(this,arguments)),o[r]};return n.cache={},n},y.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,o,r,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:y.now(),a=null,r=t.apply(i,o),a||(i=o=null)};return function(){var c=y.now();s||n.leading!==!1||(s=c);var u=e-(c-s);return i=this,o=arguments,u<=0||u>e?(a&&(clearTimeout(a),a=null),s=c,r=t.apply(i,o),a||(i=o=null)):a||n.trailing===!1||(a=setTimeout(l,u)),r}},y.debounce=function(t,e,n){var i,o,r,a,s,l=function(){var c=y.now()-a;c<e&&c>=0?i=setTimeout(l,e-c):(i=null,n||(s=t.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,a=y.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(s=t.apply(r,o),r=o=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return A&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return A&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,o=y.keys(t),r=o.length,a={},s=0;s<r;s++)i=o[s],a[i]=e(t[i],i,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=k(y.allKeys),y.extendOwn=y.assign=k(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,o=y.keys(t),r=0,a=o.length;r<a;r++)if(i=o[r],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,o,r={},a=t;if(null==a)return r;y.isFunction(e)?(o=y.allKeys(a),i=b(e,n)):(o=$(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,l=o.length;s<l;s++){var c=o[s],u=a[c];i(u,c,a)&&(r[c]=u)}return r},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map($(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=k(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var o=Object(t),r=0;r<i;r++){var a=n[r];if(e[a]!==o[a]||!(a in o))return!1}return!0};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var o=d.call(t);if(o!==d.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var r="[object Array]"===o;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),r){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!P(t[l],e[l],n,i))return!1}else{var c,u=y.keys(t);if(l=u.length,y.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!y.has(e,c)||!P(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return P(t,e)},y.isEmpty=function(t){return null==t||(D(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return o._=r,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=y.invert(M),L=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}};y.escape=L(M),y.unescape=L(F),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var O=0;y.uniqueId=function(t){var e=++O+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g,H=function(t){return"\\"+R[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||j).source,(e.interpolate||j).source,(e.evaluate||j).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(i,function(e,n,i,a,s){return r+=t.slice(o,s).replace(N,H),o=s+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(e.variable||"obj","_",r)}catch(t){throw t.source=r,t}var s=function(t){return a.call(this,t,y)},l=e.variable||"obj";return s.source="function("+l+"){\n"+r+"}",s},y.chain=function(t){var e=y(t);return e._chain=!0,e};var B=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),B(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],B(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return B(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top,c=s?a:e;return null!=n&&o<=n?"top":null!=i&&l+c>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var s=this.getState(a,e,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-r})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t(r);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):a?o[a]():r.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(n+o)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=t.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(r,a),s&&r.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),
o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),a=r.data("bs.collapse"),s=a?"toggle":o.data();n.call(r,s)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(r).each(function(){var i=t(this),o=e(i),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),a=r.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(r).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),a=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,a)),"string"==typeof e?r[e](i):a.show&&r.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(r,a,this)})}(jQuery),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=i.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=r[0].offsetWidth,h=r[0].offsetHeight;if(c){var p=s,f=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+h>f.bottom?"top":"top"==s&&u.top-h<f.top?"bottom":"right"==s&&u.right+d>f.width?"left":"left"==s&&u.left-d<f.left?"right":s,r.removeClass(p).addClass(s)}var m=this.getCalculatedOffset(s,u,d,h);this.applyPlacement(m,s);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-o+l:2*u.top-r+c,p=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][p],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=i?{top:0,left:0}:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,s,r)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,u=e.left+r+n;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(){_.templateSettings={evaluate:/\{\{(.+?)\}\}/g,interpolate:/\{\{=(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g},Array.prototype.each_slice=function(t,e){for(var n=0,i=this.length;n<i;n+=t)e.call(this,this.slice(n,n+t))}}(),window.Modernizr=function(t,e,n){function i(t){y.cssText=t}function o(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var i in t){var o=t[i];if(!r(o,"-")&&y[o]!==n)return"pfx"!=e||o}return!1}function s(t,e,i){for(var r in t){var a=e[t[r]];if(a!==n)return i===!1?t[r]:o(a,"function")?a.bind(i||e):a}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+w.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?a(r,e):(r=(t+" "+k.join(i+" ")+i).split(" "),s(r,e,n))}var c,u,d,h="2.6.2",p={},f=!0,m=e.documentElement,g="modernizr",v=e.createElement(g),y=v.style,b=({}.toString,"Webkit Moz O ms"),w=b.split(" "),k=b.toLowerCase().split(" "),x={},C=[],_=C.slice,S={}.hasOwnProperty;d=o(S,"undefined")||o(S.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return S.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=_.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var r=new o,a=e.apply(r,n.concat(_.call(arguments)));return Object(a)===a?a:r}return e.apply(t,n.concat(_.call(arguments)))};return i}),x.csstransitions=function(){return l("transition")};for(var D in x)d(x,D)&&(u=D.toLowerCase(),p[u]=x[D](),C.push((p[u]?"":"no-")+u));return p.addTest=function(t,e){if("object"==typeof t)for(var i in t)d(t,i)&&p.addTest(i,t[i]);else{if(t=t.toLowerCase(),p[t]!==n)return p;e="function"==typeof e?e():e,"undefined"!=typeof f&&f&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},i(""),v=c=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=g[t[f]];return e||(e={},m++,t[f]=m,g[m]=e),e}function r(t,n,i){if(n||(n=e),u)return n.createElement(t);i||(i=o(n));var r;return r=i.cache[t]?i.cache[t].cloneNode():p.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),r.canHaveChildren&&!h.test(t)?i.frag.appendChild(r):r}function a(t,n){if(t||(t=e),u)return t.createDocumentFragment();n=n||o(t);for(var r=n.frag.cloneNode(),a=0,s=i(),l=s.length;a<l;a++)r.createElement(s[a]);return r}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return v.shivMethods?r(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var i=o(t);return v.shivCSS&&!c&&!i.hasCSS&&(i.hasCSS=!!n(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||s(t,i),t}var c,u,d=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(t){c=!0,u=!0}}();var v={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:u,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:r,createDocumentFragment:a};t.html5=v,l(e)}(this,e),p._version=h,p._domPrefixes=k,p._cssomPrefixes=w,p.testProp=function(t){return a([t])},p.testAllProps=l,p.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+C.join(" "):""),p}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==g.call(t)}function o(t){return"string"==typeof t}function r(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=v.shift();y=1,t?t.t?f(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):y=0}function l(t,n,i,o,r,l,c){function u(e){if(!p&&a(d.readyState)&&(b.r=p=1,!y&&s(),d.onload=d.onreadystatechange=null,e)){"img"!=t&&f(function(){k.removeChild(d)},50);for(var i in D[n])D[n].hasOwnProperty(i)&&D[n][i].onload()}}var c=c||h.errorTimeout,d=e.createElement(t),p=0,g=0,b={t:i,s:n,e:r,a:l,x:c};1===D[n]&&(g=1,D[n]=[]),"object"==t?d.data=n:(d.src=n,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,g)},v.splice(o,0,b),"img"!=t&&(g||2===D[n]?(k.insertBefore(d,w?null:m),f(u,c)):D[n].push(d))}function c(t,e,n,i,r){return y=0,e=e||"j",o(t)?l("c"==e?C:x,t,e,this.i++,n,i,r):(v.splice(this.i++,0,t),1==v.length&&s()),this}function u(){var t=h;return t.loader={load:c,i:0},t}var d,h,p=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in p.style,w=b&&!!e.createRange().compareNode,k=w?p:m.parentNode,p=t.opera&&"[object Opera]"==g.call(t.opera),p=!!e.attachEvent&&!p,x=b?"object":p?"script":"img",C=p?"script":x,_=Array.isArray||function(t){return"[object Array]"==g.call(t)},S=[],D={},T={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,n,i,t=t.split("!"),o=S.length,r=t.pop(),a=t.length,r={
url:r,origUrl:r,prefixes:t};for(n=0;n<a;n++)i=t[n].split("="),(e=T[i.shift()])&&(r=e(r,i));for(n=0;n<o;n++)r=S[n](r);return r}function a(t,o,r,a,s){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=i(o)?o:o[t]||o[a]||o[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,o,r,a,s):(D[l.url]?l.noexec=!0:D[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(o)||i(c))&&r.load(function(){u(),o&&o(l.origUrl,s,a),c&&c(l.origUrl,s,a),D[l.url]=2})))}function s(t,e){function n(t,n){if(t){if(o(t))n||(d=function(){var t=[].slice.call(arguments);h.apply(this,t),p()}),a(t,d,e,0,c);else if(Object(t)===t)for(l in s=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--s&&(i(d)?d=function(){var t=[].slice.call(arguments);h.apply(this,t),p()}:d[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(h[l])),a(t[l],d,e,l,c))}else!n&&p()}var s,l,c=!!t.test,u=t.load||t.both,d=t.callback||r,h=d,p=t.complete||r;n(c?t.yep:t.nope,!!u),u&&n(u)}var l,c,d=this.yepnope.loader;if(o(t))a(t,0,d,0);else if(_(t))for(l=0;l<t.length;l++)c=t[l],o(c)?a(c,0,d,0):_(c)?h(c):Object(c)===c&&s(c,d);else Object(t)===t&&s(t,d)},h.addPrefix=function(t,e){T[t]=e},h.addFilter=function(t){S.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,i,o,l,c){var u,d,p=e.createElement("script"),o=o||h.errorTimeout;p.src=t;for(d in i)p.setAttribute(d,i[d]);n=c?s:n||r,p.onreadystatechange=p.onload=function(){!u&&a(p.readyState)&&(u=1,n(),p.onload=p.onreadystatechange=null)},f(function(){u||(u=1,n(1))},o),l?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,n,i,o,a,l){var c,o=e.createElement("link"),n=l?s:n||r;o.href=t,o.rel="stylesheet",o.type="text/css";for(c in i)o.setAttribute(c,i[c]);a||(m.parentNode.insertBefore(o,m),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e){e.fn.extend({slimScroll:function(n){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},o=e.extend(i,n);return this.each(function(){function i(t){if(u){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var i=t.target||t.srcTarget||t.srcElement;e(i).closest("."+o.wrapperClass).is(k.parent())&&r(n,!0),t.preventDefault&&!w&&t.preventDefault(),w||(t.returnValue=!1)}}function r(t,e,n){w=!1;var i=t,r=k.outerHeight()-T.outerHeight();if(e&&(i=parseInt(T.css("top"))+t*parseInt(o.wheelStep)/100*T.outerHeight(),i=Math.min(Math.max(i,0),r),i=t>0?Math.ceil(i):Math.floor(i),T.css({top:i+"px"})),g=parseInt(T.css("top"))/(k.outerHeight()-T.outerHeight()),i=g*(k[0].scrollHeight-k.outerHeight()),n){i=t;var a=i/k[0].scrollHeight*k.outerHeight();a=Math.min(Math.max(a,0),r),T.css({top:a+"px"})}k.scrollTop(i),k.trigger("slimscrolling",~~i),l(),c()}function a(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",i,!1),t.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}function s(){m=Math.max(k.outerHeight()/k[0].scrollHeight*k.outerHeight(),b),T.css({height:m+"px"});var t=m==k.outerHeight()?"none":"block";T.css({display:t})}function l(){if(s(),clearTimeout(p),g==~~g){if(w=o.allowPageScroll,v!=g){var t=0==~~g?"top":"bottom";k.trigger("slimscroll",t)}}else w=!1;return v=g,m>=k.outerHeight()?void(w=!0):(T.stop(!0,!0).fadeIn("fast"),void(o.railVisible&&D.stop(!0,!0).fadeIn("fast")))}function c(){o.alwaysVisible||(p=setTimeout(function(){o.disableFadeOut&&u||d||h||(T.fadeOut("slow"),D.fadeOut("slow"))},1e3))}var u,d,h,p,f,m,g,v,y="<div></div>",b=30,w=!1,k=e(this);if(k.parent().hasClass(o.wrapperClass)){var x=k.scrollTop();if(T=k.siblings("."+o.barClass),D=k.siblings("."+o.railClass),s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){k.parent().css("height","auto"),k.css("height","auto");var C=k.parent().parent().height();k.parent().css("height",C),k.css("height",C)}else if("height"in n){var _=n.height;k.parent().css("height",_),k.css("height",_)}if("scrollTo"in n)x=parseInt(o.scrollTo);else if("scrollBy"in n)x+=parseInt(o.scrollBy);else if("destroy"in n)return T.remove(),D.remove(),void k.unwrap();r(x,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){o.height="auto"==o.height?k.parent().height():o.height;var S=e(y).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});k.css({overflow:"hidden",width:o.width,height:o.height});var D=e(y).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90}),T=e(y).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99}),$="right"==o.position?{right:o.distance}:{left:o.distance};D.css($),T.css($),k.wrap(S),k.parent().append(T),k.parent().append(D),o.railDraggable&&T.bind("mousedown",function(n){var i=e(document);return h=!0,t=parseFloat(T.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,T.css("top",currTop),r(0,T.position().top,!1)}),i.bind("mouseup.slimscroll",function(){h=!1,c(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),D.hover(function(){l()},function(){c()}),T.hover(function(){d=!0},function(){d=!1}),k.hover(function(){u=!0,l(),c()},function(){u=!1,c()}),k.bind("touchstart",function(t){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),k.bind("touchmove",function(t){if(w||t.originalEvent.preventDefault(),t.originalEvent.touches.length){var e=(f-t.originalEvent.touches[0].pageY)/o.touchScrollStep;r(e,!0),f=t.originalEvent.touches[0].pageY}}),s(),"bottom"===o.start?(T.css({top:k.outerHeight()-T.outerHeight()}),r(0,!0)):"top"!==o.start&&(r(e(o.start).position().top,null,!0),o.alwaysVisible||T.hide()),a(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(t){var e,n,i,o,r,a,s,l="Close",c="BeforeClose",u="AfterClose",d="BeforeAppend",h="MarkupParse",p="Open",f="Change",m="mfp",g="."+m,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",w=function(){},k=!!window.jQuery,x=t(window),C=function(t,n){e.ev.on(m+t+g,n)},_=function(e,n,i,o){var r=document.createElement("div");return r.className="mfp-"+e,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=t(r),n&&r.appendTo(n)),r},S=function(n,i){e.ev.triggerHandler(m+n,i),e.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),e.st.callbacks[n]&&e.st.callbacks[n].apply(e,t.isArray(i)?i:[i]))},D=function(n){return n===s&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),s=n),e.currTemplate.closeBtn},T=function(){t.magnificPopup.instance||(e=new w,e.init(),t.magnificPopup.instance=e)},$=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;e.isIE7=n.indexOf("MSIE 7.")!==-1,e.isIE8=n.indexOf("MSIE 8.")!==-1,e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(n),e.isIOS=/iphone|ipad|ipod/gi.test(n),e.supportsTransition=$(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=t(document.body),o=t(document),e.popupsCache={}},open:function(n){var i;if(n.isObj===!1){e.items=n.items.toArray(),e.index=0;var r,s=n.items;for(i=0;i<s.length;i++)if(r=s[i],r.parsed&&(r=r.el[0]),r===n.el[0]){e.index=i;break}}else e.items=t.isArray(n.items)?n.items:[n.items],e.index=n.index||0;if(e.isOpen)return void e.updateItemHTML();e.types=[],a="",n.mainEl&&n.mainEl.length?e.ev=n.mainEl.eq(0):e.ev=o,n.key?(e.popupsCache[n.key]||(e.popupsCache[n.key]={}),e.currTemplate=e.popupsCache[n.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,n),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=_("bg").on("click"+g,function(){e.close()}),e.wrap=_("wrap").attr("tabindex",-1).on("click"+g,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=_("container",e.wrap)),e.contentContainer=_("content"),e.st.preloader&&(e.preloader=_("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(i=0;i<l.length;i++){var c=l[i];c=c.charAt(0).toUpperCase()+c.slice(1),e["init"+c].call(e)}S("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(C(h,function(t,e,n,i){n.close_replaceWith=D(i.type)}),a+=" mfp-close-btn-in"):e.wrap.append(D())),e.st.alignTop&&(a+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:x.scrollTop(),position:"absolute"}),(e.st.fixedBgPos===!1||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:o.height(),position:"absolute"}),e.st.enableEscapeKey&&o.on("keyup"+g,function(t){27===t.keyCode&&e.close()}),x.on("resize"+g,function(){e.updateSize()}),e.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&e.wrap.addClass(a);var u=e.wH=x.height(),d={};if(e.fixedContentPos&&e._hasScrollBar(u)){var f=e._getScrollbarSize();f&&(d.marginRight=f)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):d.overflow="hidden");var m=e.st.mainClass;return e.isIE7&&(m+=" mfp-ie7"),m&&e._addClassToMFP(m),e.updateItemHTML(),S("BuildControls"),t("html").css(d),e.bgOverlay.add(e.wrap).prependTo(document.body),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(v),e._setFocus()):e.bgOverlay.addClass(v),o.on("focusin"+g,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(u),S(p),n},close:function(){e.isOpen&&(S(c),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(y),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){S(l);var n=y+" "+v+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(n+=e.st.mainClass+" "),e._removeClassFromMFP(n),e.fixedContentPos){var i={marginRight:""};e.isIE7?t("body, html").css("overflow",""):i.overflow="",t("html").css(i)}o.off("keyup"+g+" focusin"+g),e.ev.off(g),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&e.currTemplate[e.currItem.type]!==!0||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,S(u)},updateSize:function(t){if(e.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;e.wrap.css("height",i),e.wH=i}else e.wH=t||x.height();e.fixedContentPos||e.wrap.css("height",e.wH),S("Resize")},updateItemHTML:function(){var n=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),n.parsed||(n=e.parseEl(e.index));var i=n.type;if(S("BeforeChange",[e.currItem?e.currItem.type:"",i]),e.currItem=n,!e.currTemplate[i]){var o=!!e.st[i]&&e.st[i].markup;S("FirstMarkupParse",o),o?e.currTemplate[i]=t(o):e.currTemplate[i]=!0}r&&r!==n.type&&e.container.removeClass("mfp-"+r+"-holder");var a=e["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,e.currTemplate[i]);e.appendContent(a,i),n.preloaded=!0,S(f,n),r=n.type,e.container.prepend(e.contentContainer),S("AfterChange")},appendContent:function(t,n){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&e.currTemplate[n]===!0?e.content.find(".mfp-close").length||e.content.append(D()):e.content=t:e.content="",S(d),e.container.addClass("mfp-"+n+"-holder"),e.contentContainer.append(e.content)},parseEl:function(n){var i=e.items[n],o=i.type;if(i=i.tagName?{el:t(i)}:{data:i,src:i.src},i.el){for(var r=e.types,a=0;a<r.length;a++)if(i.el.hasClass("mfp-"+r[a])){o=r[a];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=o||e.st.type||"inline",i.index=n,i.parsed=!0,e.items[n]=i,S("ElementParse",i),e.items[n]},addGroup:function(t,n){var i=function(i){i.mfpEl=this,e._openClick(i,t,n)};n||(n={});var o="click.magnificPopup";n.mainEl=t,n.items?(n.isObj=!0,t.off(o).on(o,i)):(n.isObj=!1,n.delegate?t.off(o).on(o,n.delegate,i):(n.items=t,t.off(o).on(o,i)))},_openClick:function(n,i,o){var r=void 0!==o.midClick?o.midClick:t.magnificPopup.defaults.midClick;if(r||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==o.disableOn?o.disableOn:t.magnificPopup.defaults.disableOn;if(a)if(t.isFunction(a)){if(!a.call(e))return!0}else if(x.width()<a)return!0;n.type&&(n.preventDefault(),e.isOpen&&n.stopPropagation()),o.el=t(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),e.open(o)}},updateStatus:function(t,i){if(e.preloader){n!==t&&e.container.removeClass("mfp-s-"+n),i||"loading"!==t||(i=e.st.tLoading);var o={status:t,text:i};S("UpdateStatus",o),t=o.status,i=o.text,e.preloader.html(i),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),n=t}},_checkIfClose:function(n){if(!t(n).hasClass(b)){var i=e.st.closeOnContentClick,o=e.st.closeOnBgClick;if(i&&o)return!0;if(!e.content||t(n).hasClass("mfp-close")||e.preloader&&n===e.preloader[0])return!0;if(n===e.content[0]||t.contains(e.content[0],n)){if(i)return!0}else if(o&&t.contains(document,n))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?o.height():document.body.scrollHeight)>(t||x.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(n){if(n.target!==e.wrap[0]&&!t.contains(e.wrap[0],n.target))return e._setFocus(),!1},_parseMarkup:function(e,n,i){var o;i.data&&(n=t.extend(i.data,n)),S(h,[e,n,i]),t.each(n,function(t,n){if(void 0===n||n===!1)return!0;if(o=t.split("_"),o.length>1){var i=e.find(g+"-"+o[0]);if(i.length>0){var r=o[1];"replaceWith"===r?i[0]!==n[0]&&i.replaceWith(n):"img"===r?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(o[1],n)}}else e.find(g+"-"+t).html(n)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.id="mfp-sbm",t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(e,n){return T(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=n||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,n){n.options&&(t.magnificPopup.defaults[e]=n.options),t.extend(this.proto,n.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},t.fn.magnificPopup=function(n){T();var i=t(this);if("string"==typeof n)if("open"===n){var o,r=k?i.data("magnificPopup"):i[0].magnificPopup,a=parseInt(arguments[1],10)||0;r.items?o=r.items[a]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(a)),e._openClick({mfpEl:o},i,r)}else e.isOpen&&e[n].apply(e,Array.prototype.slice.call(arguments,1));else n=t.extend(!0,{},n),k?i.data("magnificPopup",n):i[0].magnificPopup=n,e.addGroup(i,n);return i};var E,A,I,P="inline",M=function(){I&&(A.after(I.addClass(E)).detach(),I=null)};t.magnificPopup.registerModule(P,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(P),C(l+"."+P,function(){M()})},getInline:function(n,i){if(M(),n.src){var o=e.st.inline,r=t(n.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(A||(E=o.hiddenClass,A=_(E),E="mfp-"+E),I=r.after(A).detach().removeClass(E)),e.updateStatus("ready")}else e.updateStatus("error",o.tNotFound),r=t("<div>");return n.inlineElement=r,r}return e.updateStatus("ready"),e._parseMarkup(i,{},n),i}}});var F,L="ajax",O=function(){F&&i.removeClass(F)},j=function(){O(),e.req&&e.req.abort()};t.magnificPopup.registerModule(L,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(L),F=e.st.ajax.cursor,C(l+"."+L,j),C("BeforeChange."+L,j)},getAjax:function(n){F&&i.addClass(F),e.updateStatus("loading");var o=t.extend({url:n.src,success:function(i,o,r){var a={data:i,xhr:r};S("ParseAjax",a),e.appendContent(t(a.data),L),n.finished=!0,O(),e._setFocus(),setTimeout(function(){e.wrap.addClass(v)},16),e.updateStatus("ready"),S("AjaxContentAdded")},error:function(){O(),n.finished=n.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",n.src))}},e.st.ajax.settings);return e.req=t.ajax(o),""}}});var R,N=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=e.st.image.titleSrc;if(i){if(t.isFunction(i))return i.call(e,n);if(n.el)return n.el.attr(i)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=e.st.image,n=".image";e.types.push("image"),C(p+n,function(){"image"===e.currItem.type&&t.cursor&&i.addClass(t.cursor)}),C(l+n,function(){t.cursor&&i.removeClass(t.cursor),x.off("resize"+g)}),C("Resize"+n,e.resizeImage),e.isLowIE&&C("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var n=0;e.isLowIE&&(n=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-n)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,R&&clearInterval(R),t.isCheckingImgSize=!1,S("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var n=0,i=t.img[0],o=function(r){R&&clearInterval(R),R=setInterval(function(){return i.naturalWidth>0?void e._onImageHasSize(t):(n>200&&clearInterval(R),n++,void(3===n?o(10):40===n?o(50):100===n&&o(500)))},r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===e.currItem&&(e._onImageHasSize(n),e.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,S("ImageLoadComplete")):(o++,o<200?setTimeout(r,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===e.currItem&&(e._onImageHasSize(n),e.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=e.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.img=t(c).on("load.mfploader",r).on("error.mfploader",a),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),n.img[0].naturalWidth>0&&(n.hasSize=!0)}return e._parseMarkup(i,{title:N(n),img_replaceWith:n.img},n),e.resizeImage(),n.hasSize?(R&&clearInterval(R),n.loadError?(i.addClass("mfp-loading"),e.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),e.updateStatus("ready")),i):(e.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),e.findImageSize(n)),i)}}});var H,B=function(){return void 0===H&&(H=void 0!==document.createElement("p").style.MozTransform),H};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,n=e.st.zoom,i=".zoom";if(n.enabled&&e.supportsTransition){var o,r,a=n.duration,s=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,e.css(o),e},u=function(){e.content.css("visibility","visible")};C("BuildControls"+i,function(){if(e._allowZoom()){if(clearTimeout(o),e.content.css("visibility","hidden"),t=e._getItemToZoom(),!t)return void u();r=s(t),r.css(e._getOffset()),e.wrap.append(r),o=setTimeout(function(){r.css(e._getOffset(!0)),o=setTimeout(function(){u(),setTimeout(function(){r.remove(),t=r=null,S("ZoomAnimationEnded")},16)},a)},16)}}),C(c+i,function(){if(e._allowZoom()){if(clearTimeout(o),e.st.removalDelay=a,!t){if(t=e._getItemToZoom(),!t)return;r=s(t)}r.css(e._getOffset(!0)),e.wrap.append(r),e.content.css("visibility","hidden"),setTimeout(function(){r.css(e._getOffset())},16)}}),C(l+i,function(){e._allowZoom()&&(u(),r&&r.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(n){var i;i=n?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem);var o=i.offset(),r=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10);o.top-=t(window).scrollTop()-r;var s={width:i.width(),height:(k?i.innerHeight():i[0].offsetHeight)-a-r};return B()?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var W="iframe",z="//about:blank",U=function(t){if(e.currTemplate[W]){var n=e.currTemplate[W].find("iframe");n.length&&(t||(n[0].src=z),e.isIE8&&n.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(W,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(W),C("BeforeChange",function(t,e,n){e!==n&&(e===W?U():n===W&&U(!0))}),C(l+"."+W,function(){U()})},getIframe:function(n,i){var o=n.src,r=e.st.iframe;t.each(r.patterns,function(){if(o.indexOf(this.index)>-1)return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1});var a={};return r.srcAction&&(a[r.srcAction]=o),e._parseMarkup(i,a,n),e.updateStatus("ready"),i}}});var q=function(t){var n=e.items.length;return t>n-1?t-n:t<0?n+t:t},Y=function(t,e,n){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,n)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=e.st.gallery,i=".mfp-gallery",r=Boolean(t.fn.mfpFastClick);return e.direction=!0,!(!n||!n.enabled)&&(a+=" mfp-gallery",C(p+i,function(){n.navigateByImgClick&&e.wrap.on("click"+i,".mfp-img",function(){if(e.items.length>1)return e.next(),!1}),o.on("keydown"+i,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),C("UpdateStatus"+i,function(t,n){n.text&&(n.text=Y(n.text,e.currItem.index,e.items.length))}),C(h+i,function(t,i,o,r){var a=e.items.length;o.counter=a>1?Y(n.tCounter,r.index,a):""}),C("BuildControls"+i,function(){if(e.items.length>1&&n.arrows&&!e.arrowLeft){var i=n.arrowMarkup,o=e.arrowLeft=t(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(b),a=e.arrowRight=t(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(b),s=r?"mfpFastClick":"click";o[s](function(){e.prev()}),a[s](function(){e.next()}),e.isIE7&&(_("b",o[0],!1,!0),_("a",o[0],!1,!0),_("b",a[0],!1,!0),_("a",a[0],!1,!0)),e.container.append(o.add(a))}}),C(f+i,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void C(l+i,function(){o.off(i),e.wrap.off("click"+i),e.arrowLeft&&r&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=q(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=q(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,n=e.st.gallery.preload,i=Math.min(n[0],e.items.length),o=Math.min(n[1],e.items.length);for(t=1;t<=(e.direction?o:i);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?i:o);t++)e._preloadItem(e.index-t)},_preloadItem:function(n){if(n=q(n),!e.items[n].preloaded){var i=e.items[n];i.parsed||(i=e.parseEl(n)),S("LazyLoad",i),"image"===i.type&&(i.img=t('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,S("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var V="retina";t.magnificPopup.registerModule(V,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,n=t.ratio;n=isNaN(n)?n():n,n>1&&(C("ImageHasSize."+V,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})}),C("ElementParse."+V,function(e,i){i.src=t.replaceSrc(i,n)}))}}}}),function(){var e=1e3,n="ontouchstart"in window,i=function(){x.off("touchmove"+r+" touchend"+r)},o="mfpFastClick",r="."+o;t.fn.mfpFastClick=function(o){return t(this).each(function(){var a,s=t(this);if(n){var l,c,u,d,h,p;s.on("touchstart"+r,function(t){d=!1,p=1,h=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],c=h.clientX,u=h.clientY,x.on("touchmove"+r,function(t){h=t.originalEvent?t.originalEvent.touches:t.touches,p=h.length,h=h[0],(Math.abs(h.clientX-c)>10||Math.abs(h.clientY-u)>10)&&(d=!0,i())}).on("touchend"+r,function(t){i(),d||p>1||(a=!0,t.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},e),o())})})}s.on("click"+r,function(){a||o()})})},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+r+" click"+r),n&&x.off("touchmove"+r+" touchend"+r)}}(),T()}(window.jQuery||window.Zepto),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,i){"use strict";function o(e){var n,i,r="a aa ai ao as b fn i m o s ",a={};t.each(e,function(t){n=t.match(/^([^A-Z]+?)([A-Z])/),n&&r.indexOf(n[1]+" ")!==-1&&(i=t.replace(n[0],n[2].toLowerCase()),a[i]=t,"o"===n[1]&&o(e[t]))}),e._hungarianMap=a}function r(e,n,a){e._hungarianMap||o(e);var s;t.each(n,function(o){s=e._hungarianMap[o],s===i||!a&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),t.extend(!0,n[s],n[o]),r(e[s],n[s],a)):n[s]=n[o])})}function a(t){var e=Yt.defaults.oLanguage,n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&Lt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&Lt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var i=t.sDecimal;i&&Ut(i)}function s(t){ge(t,"ordering","bSort"),ge(t,"orderMulti","bSortMulti"),ge(t,"orderClasses","bSortClasses"),ge(t,"orderCellsTop","bSortCellsTop"),ge(t,"order","aaSorting"),ge(t,"orderFixed","aaSortingFixed"),ge(t,"paging","bPaginate"),ge(t,"pagingType","sPaginationType"),ge(t,"pageLength","iDisplayLength"),ge(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&r(Yt.models.oSearch,e[n])}function l(e){ge(e,"orderable","bSortable"),ge(e,"orderData","aDataSort"),ge(e,"orderSequence","asSorting"),ge(e,"orderDataType","sortDataType");var n=e.aDataSort;n&&!t.isArray(n)&&(e.aDataSort=[n])}function c(e){if(!Yt.__browser){var n={};Yt.__browser=n;var i=t("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=i.children(),r=o.children();n.barWidth=o[0].offsetWidth-o[0].clientWidth,n.bScrollOversize=100===r[0].offsetWidth&&100!==o[0].clientWidth,n.bScrollbarLeft=1!==Math.round(r.offset().left),n.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}t.extend(e.oBrowser,Yt.__browser),e.oScroll.iBarWidth=Yt.__browser.barWidth}function u(t,e,n,o,r,a){var s,l=o,c=!1;for(n!==i&&(s=n,c=!0);l!==r;)t.hasOwnProperty(l)&&(s=c?e(s,t[l],l,t):t[l],c=!0,l+=a);return s}function d(e,i){var o=Yt.defaults.column,r=e.aoColumns.length,a=t.extend({},Yt.models.oColumn,o,{nTh:i?i:n.createElement("th"),sTitle:o.sTitle?o.sTitle:i?i.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[r],mData:o.mData?o.mData:r,idx:r});e.aoColumns.push(a);var s=e.aoPreSearchCols;s[r]=t.extend({},Yt.models.oSearch,s[r]),h(e,r,t(i).data())}function h(e,n,o){var a=e.aoColumns[n],s=e.oClasses,c=t(a.nTh);if(!a.sWidthOrig){a.sWidthOrig=c.attr("width")||null;var u=(c.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(a.sWidthOrig=u[1])}o!==i&&null!==o&&(l(o),r(Yt.defaults.column,o),o.mDataProp===i||o.mData||(o.mData=o.mDataProp),o.sType&&(a._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),t.extend(a,o),Lt(a,o,"sWidth","sWidthOrig"),o.iDataSort!==i&&(a.aDataSort=[o.iDataSort]),Lt(a,o,"aDataSort"));var d=a.mData,h=T(d),p=a.mRender?T(a.mRender):null,f=function(t){return"string"==typeof t&&t.indexOf("@")!==-1};a._bAttrSrc=t.isPlainObject(d)&&(f(d.sort)||f(d.type)||f(d.filter)),a._setter=null,a.fnGetData=function(t,e,n){var o=h(t,e,i,n);return p&&e?p(o,e,t,n):o},a.fnSetData=function(t,e,n){return $(d)(t,e,n)},"number"!=typeof d&&(e._rowReadObject=!0),e.oFeatures.bSort||(a.bSortable=!1,c.addClass(s.sSortableNone));var m=t.inArray("asc",a.asSorting)!==-1,g=t.inArray("desc",a.asSorting)!==-1;a.bSortable&&(m||g)?m&&!g?(a.sSortingClass=s.sSortableAsc,a.sSortingClassJUI=s.sSortJUIAscAllowed):!m&&g?(a.sSortingClass=s.sSortableDesc,a.sSortingClassJUI=s.sSortJUIDescAllowed):(a.sSortingClass=s.sSortable,a.sSortingClassJUI=s.sSortJUI):(a.sSortingClass=s.sSortableNone,a.sSortingClassJUI="")}function p(t){if(t.oFeatures.bAutoWidth!==!1){var e=t.aoColumns;yt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}var o=t.oScroll;""===o.sY&&""===o.sX||gt(t),Nt(t,null,"column-sizing",[t])}function f(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function m(e,n){var i=v(e,"bVisible"),o=t.inArray(n,i);return o!==-1?o:null}function g(e){return t(ue(e.aoColumns,"nTh")).filter(":visible").length}function v(e,n){var i=[];return t.map(e.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function y(t){var e,n,o,r,a,s,l,c,u,d=t.aoColumns,h=t.aoData,p=Yt.ext.type.detect;for(e=0,n=d.length;e<n;e++)if(l=d[e],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(o=0,r=p.length;o<r;o++){for(a=0,s=h.length;a<s&&(u[a]===i&&(u[a]=_(t,a,e,"type")),c=p[o](u[a],t),c||o===p.length-1)&&"html"!==c;a++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(e,n,o,r){var a,s,l,c,u,h,p,f=e.aoColumns;if(n)for(a=n.length-1;a>=0;a--){
p=n[a];var m=p.targets!==i?p.targets:p.aTargets;for(t.isArray(m)||(m=[m]),l=0,c=m.length;l<c;l++)if("number"==typeof m[l]&&m[l]>=0){for(;f.length<=m[l];)d(e);r(m[l],p)}else if("number"==typeof m[l]&&m[l]<0)r(f.length+m[l],p);else if("string"==typeof m[l])for(u=0,h=f.length;u<h;u++)("_all"==m[l]||t(f[u].nTh).hasClass(m[l]))&&r(u,p)}if(o)for(a=0,s=o.length;a<s;a++)r(a,o[a])}function w(e,n,o,r){var a=e.aoData.length,s=t.extend(!0,{},Yt.models.oRow,{src:o?"dom":"data",idx:a});s._aData=n,e.aoData.push(s);for(var l=e.aoColumns,c=0,u=l.length;c<u;c++)l[c].sType=null;e.aiDisplayMaster.push(a);var d=e.rowIdFn(n);return d!==i&&(e.aIds[d]=s),!o&&e.oFeatures.bDeferRender||F(e,a,o,r),a}function k(e,n){var i;return n instanceof t||(n=t(n)),n.map(function(t,n){return i=M(e,n),w(e,i.data,n,i.cells)})}function x(t,e){return e._DT_RowIndex!==i?e._DT_RowIndex:null}function C(e,n,i){return t.inArray(i,e.aoData[n].anCells)}function _(t,e,n,o){var r=t.iDraw,a=t.aoColumns[n],s=t.aoData[e]._aData,l=a.sDefaultContent,c=a.fnGetData(s,o,{settings:t,row:e,col:n});if(c===i)return t.iDrawError!=r&&null===l&&(Ft(t,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=r),l;if(c!==s&&null!==c||null===l||o===i){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==o?"":c}function S(t,e,n,i){var o=t.aoColumns[n],r=t.aoData[e]._aData;o.fnSetData(r,i,{settings:t,row:e,col:n})}function D(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\./g,".")})}function T(e){if(t.isPlainObject(e)){var n={};return t.each(e,function(t,e){e&&(n[t]=T(e))}),function(t,e,o,r){var a=n[e]||n._;return a!==i?a(t,e,o,r):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,i,o){return e(t,n,i,o)};if("string"!=typeof e||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t){return t[e]};var o=function(e,n,r){var a,s,l,c;if(""!==r)for(var u=D(r),d=0,h=u.length;d<h;d++){if(a=u[d].match(ve),s=u[d].match(ye),a){if(u[d]=u[d].replace(ve,""),""!==u[d]&&(e=e[u[d]]),l=[],u.splice(0,d+1),c=u.join("."),t.isArray(e))for(var p=0,f=e.length;p<f;p++)l.push(o(e[p],n,c));var m=a[0].substring(1,a[0].length-1);e=""===m?l:l.join(m);break}if(s)u[d]=u[d].replace(ye,""),e=e[u[d]]();else{if(null===e||e[u[d]]===i)return i;e=e[u[d]]}}return e};return function(t,n){return o(t,n,e)}}function $(e){if(t.isPlainObject(e))return $(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"!=typeof e||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t,n){t[e]=n};var n=function(e,o,r){for(var a,s,l,c,u,d=D(r),h=d[d.length-1],p=0,f=d.length-1;p<f;p++){if(s=d[p].match(ve),l=d[p].match(ye),s){if(d[p]=d[p].replace(ve,""),e[d[p]]=[],a=d.slice(),a.splice(0,p+1),u=a.join("."),t.isArray(o))for(var m=0,g=o.length;m<g;m++)c={},n(c,o[m],u),e[d[p]].push(c);else e[d[p]]=o;return}l&&(d[p]=d[p].replace(ye,""),e=e[d[p]](o)),null!==e[d[p]]&&e[d[p]]!==i||(e[d[p]]={}),e=e[d[p]]}h.match(ye)?e=e[h.replace(ye,"")](o):e[h.replace(ve,"")]=o};return function(t,i){return n(t,i,e)}}function E(t){return ue(t.aoData,"_aData")}function A(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function I(t,e,n){for(var o=-1,r=0,a=t.length;r<a;r++)t[r]==e?o=r:t[r]>e&&t[r]--;o!=-1&&n===i&&t.splice(o,1)}function P(t,e,n,o){var r,a,s=t.aoData[e],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=_(t,e,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var c=s.anCells;if(c)if(o!==i)l(c[o],o);else for(r=0,a=c.length;r<a;r++)l(c[r],r)}else s._aData=M(t,s,o,o===i?i:s._aData).data;s._aSortData=null,s._aFilterData=null;var u=t.aoColumns;if(o!==i)u[o].sType=null;else{for(r=0,a=u.length;r<a;r++)u[r].sType=null;L(t,s)}}function M(e,n,o,r){var a,s,l,c=[],u=n.firstChild,d=0,h=e.aoColumns,p=e._rowReadObject;r=r!==i?r:p?{}:[];var f=function(t,e){if("string"==typeof t){var n=t.indexOf("@");if(n!==-1){var i=t.substring(n+1),o=$(t);o(r,e.getAttribute(i))}}},m=function(e){if(o===i||o===d)if(s=h[d],l=t.trim(e.innerHTML),s&&s._bAttrSrc){var n=$(s.mData._);n(r,l),f(s.mData.sort,e),f(s.mData.type,e),f(s.mData.filter,e)}else p?(s._setter||(s._setter=$(s.mData)),s._setter(r,l)):r[d]=l;d++};if(u)for(;u;)a=u.nodeName.toUpperCase(),"TD"!=a&&"TH"!=a||(m(u),c.push(u)),u=u.nextSibling;else{c=n.anCells;for(var g=0,v=c.length;g<v;g++)m(c[g])}var y=n.firstChild?n:n.nTr;if(y){var b=y.getAttribute("id");b&&$(e.rowId)(r,b)}return{data:r,cells:c}}function F(e,i,o,r){var a,s,l,c,u,d=e.aoData[i],h=d._aData,p=[];if(null===d.nTr){for(a=o||n.createElement("tr"),d.nTr=a,d.anCells=p,a._DT_RowIndex=i,L(e,d),c=0,u=e.aoColumns.length;c<u;c++)l=e.aoColumns[c],s=o?r[c]:n.createElement(l.sCellType),s._DT_CellIndex={row:i,column:c},p.push(s),o&&!l.mRender&&l.mData===c||t.isPlainObject(l.mData)&&l.mData._===c+".display"||(s.innerHTML=_(e,i,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!o?a.appendChild(s):!l.bVisible&&o&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,s,_(e,i,c),h,i,c);Nt(e,"aoRowCreatedCallback",null,[a,h,i])}d.nTr.setAttribute("role","row")}function L(e,n){var i=n.nTr,o=n._aData;if(i){var r=e.rowIdFn(o);if(r&&(i.id=r),o.DT_RowClass){var a=o.DT_RowClass.split(" ");n.__rowc=n.__rowc?me(n.__rowc.concat(a)):a,t(i).removeClass(n.__rowc.join(" ")).addClass(o.DT_RowClass)}o.DT_RowAttr&&t(i).attr(o.DT_RowAttr),o.DT_RowData&&t(i).data(o.DT_RowData)}}function O(e){var n,i,o,r,a,s=e.nTHead,l=e.nTFoot,c=0===t("th, td",s).length,u=e.oClasses,d=e.aoColumns;for(c&&(r=t("<tr/>").appendTo(s)),n=0,i=d.length;n<i;n++)a=d[n],o=t(a.nTh).addClass(a.sClass),c&&o.appendTo(r),e.oFeatures.bSort&&(o.addClass(a.sSortingClass),a.bSortable!==!1&&(o.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),$t(e,a.nTh,n))),a.sTitle!=o[0].innerHTML&&o.html(a.sTitle),Bt(e,"header")(e,o,a,u);if(c&&B(e.aoHeader,s),t(s).find(">tr").attr("role","row"),t(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l){var h=e.aoFooter[0];for(n=0,i=h.length;n<i;n++)a=d[n],a.nTf=h[n].cell,a.sClass&&t(a.nTf).addClass(a.sClass)}}function j(e,n,o){var r,a,s,l,c,u,d,h,p,f=[],m=[],g=e.aoColumns.length;if(n){for(o===i&&(o=!1),r=0,a=n.length;r<a;r++){for(f[r]=n[r].slice(),f[r].nTr=n[r].nTr,s=g-1;s>=0;s--)e.aoColumns[s].bVisible||o||f[r].splice(s,1);m.push([])}for(r=0,a=f.length;r<a;r++){if(d=f[r].nTr)for(;u=d.firstChild;)d.removeChild(u);for(s=0,l=f[r].length;s<l;s++)if(h=1,p=1,m[r][s]===i){for(d.appendChild(f[r][s].cell),m[r][s]=1;f[r+h]!==i&&f[r][s].cell==f[r+h][s].cell;)m[r+h][s]=1,h++;for(;f[r][s+p]!==i&&f[r][s].cell==f[r][s+p].cell;){for(c=0;c<h;c++)m[r+c][s+p]=1;p++}t(f[r][s].cell).attr("rowspan",h).attr("colspan",p)}}}}function R(e){var n=Nt(e,"aoPreDrawCallback","preDraw",[e]);if(t.inArray(!1,n)!==-1)return void ft(e,!1);var o=[],r=0,a=e.asStripeClasses,s=a.length,l=(e.aoOpenRows.length,e.oLanguage),c=e.iInitDisplayStart,u="ssp"==Wt(e),d=e.aiDisplay;e.bDrawing=!0,c!==i&&c!==-1&&(e._iDisplayStart=u?c:c>=e.fnRecordsDisplay()?0:c,e.iInitDisplayStart=-1);var h=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ft(e,!1);else if(u){if(!e.bDestroying&&!U(e))return}else e.iDraw++;if(0!==d.length)for(var f=u?0:h,m=u?e.aoData.length:p,v=f;v<m;v++){var y=d[v],b=e.aoData[y];null===b.nTr&&F(e,y);var w=b.nTr;if(0!==s){var k=a[r%s];b._sRowStripe!=k&&(t(w).removeClass(b._sRowStripe).addClass(k),b._sRowStripe=k)}Nt(e,"aoRowCallback",null,[w,b._aData,r,v]),o.push(w),r++}else{var x=l.sZeroRecords;1==e.iDraw&&"ajax"==Wt(e)?x=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(x=l.sEmptyTable),o[0]=t("<tr/>",{"class":s?a[0]:""}).append(t("<td />",{valign:"top",colSpan:g(e),"class":e.oClasses.sRowEmpty}).html(x))[0]}Nt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],E(e),h,p,d]),Nt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],E(e),h,p,d]);var C=t(e.nTBody);C.children().detach(),C.append(t(o)),Nt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function N(t,e){var n=t.oFeatures,i=n.bSort,o=n.bFilter;i&&St(t),o?Q(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),e!==!0&&(t._iDisplayStart=0),t._drawHold=e,R(t),t._drawHold=!1}function H(e){var n=e.oClasses,i=t(e.nTable),o=t("<div/>").insertBefore(i),r=e.oFeatures,a=t("<div/>",{id:e.sTableId+"_wrapper","class":n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=o[0],e.nTableWrapper=a[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,l,c,u,d,h,p=e.sDom.split(""),f=0;f<p.length;f++){if(s=null,l=p[f],"<"==l){if(c=t("<div/>")[0],u=p[f+1],"'"==u||'"'==u){for(d="",h=2;p[f+h]!=u;)d+=p[f+h],h++;if("H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),d.indexOf(".")!=-1){var m=d.split(".");c.id=m[0].substr(1,m[0].length-1),c.className=m[1]}else"#"==d.charAt(0)?c.id=d.substr(1,d.length-1):c.className=d;f+=h}a.append(c),a=t(c)}else if(">"==l)a=a.parent();else if("l"==l&&r.bPaginate&&r.bLengthChange)s=ut(e);else if("f"==l&&r.bFilter)s=G(e);else if("r"==l&&r.bProcessing)s=pt(e);else if("t"==l)s=mt(e);else if("i"==l&&r.bInfo)s=ot(e);else if("p"==l&&r.bPaginate)s=dt(e);else if(0!==Yt.ext.feature.length)for(var g=Yt.ext.feature,v=0,y=g.length;v<y;v++)if(l==g[v].cFeature){s=g[v].fnInit(e);break}if(s){var b=e.aanFeatures;b[l]||(b[l]=[]),b[l].push(s),a.append(s)}}o.replaceWith(a),e.nHolding=null}function B(e,n){var i,o,r,a,s,l,c,u,d,h,p,f=t(n).children("tr"),m=function(t,e,n){for(var i=t[e];i[n];)n++;return n};for(e.splice(0,e.length),r=0,l=f.length;r<l;r++)e.push([]);for(r=0,l=f.length;r<l;r++)for(i=f[r],u=0,o=i.firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase())for(d=1*o.getAttribute("colspan"),h=1*o.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,h=h&&0!==h&&1!==h?h:1,c=m(e,r,u),p=1===d,s=0;s<d;s++)for(a=0;a<h;a++)e[r+a][c+s]={cell:o,unique:p},e[r+a].nTr=i;o=o.nextSibling}}function W(t,e,n){var i=[];n||(n=t.aoHeader,e&&(n=[],B(n,e)));for(var o=0,r=n.length;o<r;o++)for(var a=0,s=n[o].length;a<s;a++)!n[o][a].unique||i[a]&&t.bSortCellsTop||(i[a]=n[o][a].cell);return i}function z(e,n,i){if(Nt(e,"aoServerParams","serverParams",[n]),n&&t.isArray(n)){var o={},r=/(.*?)\[\]$/;t.each(n,function(t,e){var n=e.name.match(r);if(n){var i=n[0];o[i]||(o[i]=[]),o[i].push(e.value)}else o[e.name]=e.value}),n=o}var a,s=e.ajax,l=e.oInstance,c=function(t){Nt(e,null,"xhr",[e,t,e.jqXHR]),i(t)};if(t.isPlainObject(s)&&s.data){a=s.data;var u=t.isFunction(a)?a(n,e):a;n=t.isFunction(a)&&u?u:t.extend(!0,n,u),delete s.data}var d={data:n,success:function(t){var n=t.error||t.sError;n&&Ft(e,0,n),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,i){var o=Nt(e,null,"xhr",[e,null,e.jqXHR]);t.inArray(!0,o)===-1&&("parsererror"==i?Ft(e,0,"Invalid JSON response",1):4===n.readyState&&Ft(e,0,"Ajax error",7)),ft(e,!1)}};e.oAjaxData=n,Nt(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,function(t,e){return{name:e,value:t}}),c,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(d,{url:s||e.sAjaxSource})):t.isFunction(s)?e.jqXHR=s.call(l,n,c,e):(e.jqXHR=t.ajax(t.extend(d,s)),s.data=a)}function U(t){return!t.bAjaxDataGet||(t.iDraw++,ft(t,!0),z(t,q(t),function(e){Y(t,e)}),!1)}function q(e){var n,i,o,r,a=e.aoColumns,s=a.length,l=e.oFeatures,c=e.oPreviousSearch,u=e.aoPreSearchCols,d=[],h=_t(e),p=e._iDisplayStart,f=l.bPaginate!==!1?e._iDisplayLength:-1,m=function(t,e){d.push({name:t,value:e})};m("sEcho",e.iDraw),m("iColumns",s),m("sColumns",ue(a,"sName").join(",")),m("iDisplayStart",p),m("iDisplayLength",f);var g={draw:e.iDraw,columns:[],order:[],start:p,length:f,search:{value:c.sSearch,regex:c.bRegex}};for(n=0;n<s;n++)o=a[n],r=u[n],i="function"==typeof o.mData?"function":o.mData,g.columns.push({data:i,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),m("mDataProp_"+n,i),l.bFilter&&(m("sSearch_"+n,r.sSearch),m("bRegex_"+n,r.bRegex),m("bSearchable_"+n,o.bSearchable)),l.bSort&&m("bSortable_"+n,o.bSortable);l.bFilter&&(m("sSearch",c.sSearch),m("bRegex",c.bRegex)),l.bSort&&(t.each(h,function(t,e){g.order.push({column:e.col,dir:e.dir}),m("iSortCol_"+t,e.col),m("sSortDir_"+t,e.dir)}),m("iSortingCols",h.length));var v=Yt.ext.legacy.ajax;return null===v?e.sAjaxSource?d:g:v?d:g}function Y(t,e){var n=function(t,n){return e[t]!==i?e[t]:e[n]},o=V(t,e),r=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<t.iDraw)return;t.iDraw=1*r}A(t),t._iRecordsTotal=parseInt(a,10),t._iRecordsDisplay=parseInt(s,10);for(var l=0,c=o.length;l<c;l++)w(t,o[l]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,R(t),t._bInitComplete||lt(t,e),t.bAjaxDataGet=!0,ft(t,!1)}function V(e,n){var o=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==i?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===o?n.aaData||n[o]:""!==o?T(o)(n):n}function G(e){var i=e.oClasses,o=e.sTableId,r=e.oLanguage,a=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=r.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=t("<div/>",{id:s.f?null:o+"_filter","class":i.sFilter}).append(t("<label/>").append(c)),d=function(){var t=(s.f,this.value?this.value:"");t!=a.sSearch&&(Q(e,{sSearch:t,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),e._iDisplayStart=0,R(e))},h=null!==e.searchDelay?e.searchDelay:"ssp"===Wt(e)?400:0,p=t("input",u).val(a.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",h?bt(d,h):d).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",o);return t(e.nTable).on("search.dt.DT",function(t,i){if(e===i)try{p[0]!==n.activeElement&&p.val(a.sSearch)}catch(t){}}),u[0]}function Q(t,e,n){var o=t.oPreviousSearch,r=t.aoPreSearchCols,a=function(t){o.sSearch=t.sSearch,o.bRegex=t.bRegex,o.bSmart=t.bSmart,o.bCaseInsensitive=t.bCaseInsensitive},s=function(t){return t.bEscapeRegex!==i?!t.bEscapeRegex:t.bRegex};if(y(t),"ssp"!=Wt(t)){J(t,e.sSearch,n,s(e),e.bSmart,e.bCaseInsensitive),a(e);for(var l=0;l<r.length;l++)X(t,r[l].sSearch,l,s(r[l]),r[l].bSmart,r[l].bCaseInsensitive);K(t)}else a(e);t.bFiltered=!0,Nt(t,null,"search",[t])}function K(e){for(var n,i,o=Yt.ext.search,r=e.aiDisplay,a=0,s=o.length;a<s;a++){for(var l=[],c=0,u=r.length;c<u;c++)i=r[c],n=e.aoData[i],o[a](e,n._aFilterData,i,n._aData,c)&&l.push(i);r.length=0,t.merge(r,l)}}function X(t,e,n,i,o,r){if(""!==e)for(var a,s=t.aiDisplay,l=Z(e,i,o,r),c=s.length-1;c>=0;c--)a=t.aoData[s[c]]._aFilterData[n],l.test(a)||s.splice(c,1)}function J(t,e,n,i,o,r){var a,s,l,c=Z(e,i,o,r),u=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster;if(0!==Yt.ext.search.length&&(n=!0),s=et(t),e.length<=0)t.aiDisplay=d.slice();else for((s||n||u.length>e.length||0!==e.indexOf(u)||t.bSorted)&&(t.aiDisplay=d.slice()),a=t.aiDisplay,l=a.length-1;l>=0;l--)c.test(t.aoData[a[l]]._sFilterRow)||a.splice(l,1)}function Z(e,n,i,o){if(e=n?e:tt(e),i){var r=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")});e="^(?=.*?"+r.join(")(?=.*?")+").*$"}return new RegExp(e,o?"i":"")}function tt(t){return t.replace(ne,"\\$1")}function et(t){var e,n,i,o,r,a,s,l,c=t.aoColumns,u=Yt.ext.type.search,d=!1;for(n=0,o=t.aoData.length;n<o;n++)if(l=t.aoData[n],!l._aFilterData){for(a=[],i=0,r=c.length;i<r;i++)e=c[i],e.bSearchable?(s=_(t,n,i,"filter"),u[e.sType]&&(s=u[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&s.indexOf("&")!==-1&&(be.innerHTML=s,s=we?be.textContent:be.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),d=!0}return d}function nt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function it(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function ot(e){var n=e.sTableId,i=e.aanFeatures.i,o=t("<div/>",{"class":e.oClasses.sInfo,id:i?null:n+"_info"});return i||(e.aoDrawCallback.push({fn:rt,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),o[0]}function rt(e){var n=e.aanFeatures.i;if(0!==n.length){var i=e.oLanguage,o=e._iDisplayStart+1,r=e.fnDisplayEnd(),a=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=at(e,l);var c=i.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,o,r,a,s,l)),t(n).html(l)}}function at(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,o=t._iDisplayLength,r=t.fnRecordsDisplay(),a=o===-1;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,r)).replace(/_PAGE_/g,n.call(t,a?1:Math.ceil(i/o))).replace(/_PAGES_/g,n.call(t,a?1:Math.ceil(r/o)))}function st(t){var e,n,i,o=t.iInitDisplayStart,r=t.aoColumns,a=t.oFeatures,s=t.bDeferLoading;if(!t.bInitialised)return void setTimeout(function(){st(t)},200);for(H(t),O(t),j(t,t.aoHeader),j(t,t.aoFooter),ft(t,!0),a.bAutoWidth&&yt(t),e=0,n=r.length;e<n;e++)i=r[e],i.sWidth&&(i.nTh.style.width=Ct(i.sWidth));Nt(t,null,"preInit",[t]),N(t);var l=Wt(t);("ssp"!=l||s)&&("ajax"==l?z(t,[],function(n){var i=V(t,n);for(e=0;e<i.length;e++)w(t,i[e]);t.iInitDisplayStart=o,N(t),ft(t,!1),lt(t,n)},t):(ft(t,!1),lt(t)))}function lt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),Nt(t,null,"plugin-init",[t,e]),Nt(t,"aoInitComplete","init",[t,e])}function ct(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Ht(t),Nt(t,null,"length",[t,n])}function ut(e){for(var n=e.oClasses,i=e.sTableId,o=e.aLengthMenu,r=t.isArray(o[0]),a=r?o[0]:o,s=r?o[1]:o,l=t("<select/>",{name:i+"_length","aria-controls":i,"class":n.sLengthSelect}),c=0,u=a.length;c<u;c++)l[0][c]=new Option(s[c],a[c]);var d=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(d[0].id=i+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",d).val(e._iDisplayLength).bind("change.DT",function(){ct(e,t(this).val()),R(e)}),t(e.nTable).bind("length.dt.DT",function(n,i,o){e===i&&t("select",d).val(o)}),d[0]}function dt(e){var n=e.sPaginationType,i=Yt.ext.pager[n],o="function"==typeof i,r=function(t){R(t)},a=t("<div/>").addClass(e.oClasses.sPaging+n)[0],s=e.aanFeatures;return o||i.fnInit(e,a,r),s.p||(a.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(o){var e,n,a=t._iDisplayStart,l=t._iDisplayLength,c=t.fnRecordsDisplay(),u=l===-1,d=u?0:Math.ceil(a/l),h=u?1:Math.ceil(c/l),p=i(d,h);for(e=0,n=s.p.length;e<n;e++)Bt(t,"pageButton")(t,s.p[e],e,p,d,h)}else i.fnUpdate(t,r)},sName:"pagination"})),a}function ht(t,e,n){var i=t._iDisplayStart,o=t._iDisplayLength,r=t.fnRecordsDisplay();0===r||o===-1?i=0:"number"==typeof e?(i=e*o,i>r&&(i=0)):"first"==e?i=0:"previous"==e?(i=o>=0?i-o:0,i<0&&(i=0)):"next"==e?i+o<r&&(i+=o):"last"==e?i=Math.floor((r-1)/o)*o:Ft(t,0,"Unknown paging action: "+e,5);var a=t._iDisplayStart!==i;return t._iDisplayStart=i,a&&(Nt(t,null,"page",[t]),n&&R(t)),a}function pt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ft(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),Nt(e,null,"processing",[e,n])}function mt(e){var n=t(e.nTable);n.attr("role","grid");var i=e.oScroll;if(""===i.sX&&""===i.sY)return e.nTable;var o=i.sX,r=i.sY,a=e.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,c=t(n[0].cloneNode(!1)),u=t(n[0].cloneNode(!1)),d=n.children("tfoot"),h="<div/>",p=function(t){return t?Ct(t):null};d.length||(d=null);var f=t(h,{"class":a.sScrollWrapper}).append(t(h,{"class":a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?p(o):"100%"}).append(t(h,{"class":a.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(t(h,{"class":a.sScrollBody}).css({position:"relative",overflow:"auto",width:p(o)}).append(n));d&&f.append(t(h,{"class":a.sScrollFoot}).css({overflow:"hidden",border:0,width:o?p(o):"100%"}).append(t(h,{"class":a.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var m=f.children(),g=m[0],v=m[1],y=d?m[2]:null;return o&&t(v).on("scroll.DT",function(){var t=this.scrollLeft;g.scrollLeft=t,d&&(y.scrollLeft=t)}),t(v).css(r&&i.bCollapse?"max-height":"height",r),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=y,e.aoDrawCallback.push({fn:gt,sName:"scrolling"}),f[0]}function gt(e){var n,o,r,a,s,l,c,u,d,h=e.oScroll,m=h.sX,g=h.sXInner,v=h.sY,y=h.iBarWidth,b=t(e.nScrollHead),w=b[0].style,k=b.children("div"),x=k[0].style,C=k.children("table"),_=e.nScrollBody,S=t(_),D=_.style,T=t(e.nScrollFoot),$=T.children("div"),E=$.children("table"),A=t(e.nTHead),I=t(e.nTable),P=I[0],M=P.style,F=e.nTFoot?t(e.nTFoot):null,L=e.oBrowser,O=L.bScrollOversize,j=ue(e.aoColumns,"nTh"),R=[],N=[],H=[],B=[],z=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},U=_.scrollHeight>_.clientHeight;if(e.scrollBarVis!==U&&e.scrollBarVis!==i)return e.scrollBarVis=U,void p(e);e.scrollBarVis=U,I.children("thead, tfoot").remove(),F&&(l=F.clone().prependTo(I),o=F.find("tr"),a=l.find("tr")),s=A.clone().prependTo(I),n=A.find("tr"),r=s.find("tr"),s.find("th, td").removeAttr("tabindex"),m||(D.width="100%",b[0].style.width="100%"),t.each(W(e,s),function(t,n){c=f(e,t),n.style.width=e.aoColumns[c].sWidth}),F&&vt(function(t){t.style.width=""},a),d=I.outerWidth(),""===m?(M.width="100%",O&&(I.find("tbody").height()>_.offsetHeight||"scroll"==S.css("overflow-y"))&&(M.width=Ct(I.outerWidth()-y)),d=I.outerWidth()):""!==g&&(M.width=Ct(g),d=I.outerWidth()),vt(z,r),vt(function(e){H.push(e.innerHTML),R.push(Ct(t(e).css("width")))},r),vt(function(e,n){t.inArray(e,j)!==-1&&(e.style.width=R[n])},n),t(r).height(0),F&&(vt(z,a),vt(function(e){B.push(e.innerHTML),N.push(Ct(t(e).css("width")))},a),vt(function(t,e){t.style.width=N[e]},o),t(a).height(0)),vt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+H[e]+"</div>",t.style.width=R[e]},r),F&&vt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+B[e]+"</div>",t.style.width=N[e]},a),I.outerWidth()<d?(u=_.scrollHeight>_.offsetHeight||"scroll"==S.css("overflow-y")?d+y:d,O&&(_.scrollHeight>_.offsetHeight||"scroll"==S.css("overflow-y"))&&(M.width=Ct(u-y)),""!==m&&""===g||Ft(e,1,"Possible column misalignment",6)):u="100%",D.width=Ct(u),w.width=Ct(u),F&&(e.nScrollFoot.style.width=Ct(u)),v||O&&(D.height=Ct(P.offsetHeight+y));var q=I.outerWidth();C[0].style.width=Ct(q),x.width=Ct(q);var Y=I.height()>_.clientHeight||"scroll"==S.css("overflow-y"),V="padding"+(L.bScrollbarLeft?"Left":"Right");x[V]=Y?y+"px":"0px",F&&(E[0].style.width=Ct(q),$[0].style.width=Ct(q),$[0].style[V]=Y?y+"px":"0px"),I.children("colgroup").insertBefore(I.children("thead")),S.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(_.scrollTop=0)}function vt(t,e,n){for(var i,o,r=0,a=0,s=e.length;a<s;){for(i=e[a].firstChild,o=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?t(i,o,r):t(i,r),r++),i=i.nextSibling,o=n?o.nextSibling:null;a++}}function yt(n){var i,o,r,a=n.nTable,s=n.aoColumns,l=n.oScroll,c=l.sY,u=l.sX,d=l.sXInner,h=s.length,m=v(n,"bVisible"),y=t("th",n.nTHead),b=a.getAttribute("width"),w=a.parentNode,k=!1,x=n.oBrowser,C=x.bScrollOversize,_=a.style.width;for(_&&_.indexOf("%")!==-1&&(b=_),i=0;i<m.length;i++)o=s[m[i]],null!==o.sWidth&&(o.sWidth=wt(o.sWidthOrig,w),k=!0);if(C||!k&&!u&&!c&&h==g(n)&&h==y.length)for(i=0;i<h;i++){var S=f(n,i);null!==S&&(s[S].sWidth=Ct(y.eq(i).width()))}else{var D=t(a).clone().css("visibility","hidden").removeAttr("id");D.find("tbody tr").remove();var T=t("<tr/>").appendTo(D.find("tbody"));for(D.find("thead, tfoot").remove(),D.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),D.find("tfoot th, tfoot td").css("width",""),y=W(n,D.find("thead")[0]),i=0;i<m.length;i++)o=s[m[i]],y[i].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?Ct(o.sWidthOrig):"",o.sWidthOrig&&u&&t(y[i]).append(t("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<m.length;i++)r=m[i],o=s[r],t(kt(n,r)).clone(!1).append(o.sContentPadding).appendTo(T);t("[name]",D).removeAttr("name");var $=t("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(D).appendTo(w);u&&d?D.width(d):u?(D.css("width","auto"),D.removeAttr("width"),D.width()<w.clientWidth&&b&&D.width(w.clientWidth)):c?D.width(w.clientWidth):b&&D.width(b);var E=0;for(i=0;i<m.length;i++){var A=t(y[i]),I=A.outerWidth()-A.width(),P=x.bBounding?Math.ceil(y[i].getBoundingClientRect().width):A.outerWidth();E+=P,s[m[i]].sWidth=Ct(P-I)}a.style.width=Ct(E),$.remove()}if(b&&(a.style.width=Ct(b)),(b||u)&&!n._reszEvt){var M=function(){t(e).bind("resize.DT-"+n.sInstance,bt(function(){p(n)}))};C?setTimeout(M,1e3):M(),n._reszEvt=!0}}function bt(t,e){var n,o,r=e!==i?e:200;return function(){var e=this,a=+new Date,s=arguments;n&&a<n+r?(clearTimeout(o),o=setTimeout(function(){n=i,t.apply(e,s)},r)):(n=a,t.apply(e,s))}}function wt(e,i){if(!e)return 0;var o=t("<div/>").css("width",Ct(e)).appendTo(i||n.body),r=o[0].offsetWidth;return o.remove(),r}function kt(e,n){var i=xt(e,n);if(i<0)return null;var o=e.aoData[i];return o.nTr?o.anCells[n]:t("<td/>").html(_(e,i,n,"display"))[0]}function xt(t,e){for(var n,i=-1,o=-1,r=0,a=t.aoData.length;r<a;r++)n=_(t,r,e,"display")+"",n=n.replace(ke,""),n=n.replace(/&nbsp;/g," "),n.length>i&&(i=n.length,o=r);return o}function Ct(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function _t(e){var n,o,r,a,s,l,c,u=[],d=e.aoColumns,h=e.aaSortingFixed,p=t.isPlainObject(h),f=[],m=function(e){e.length&&!t.isArray(e[0])?f.push(e):t.merge(f,e)};for(t.isArray(h)&&m(h),p&&h.pre&&m(h.pre),m(e.aaSorting),p&&h.post&&m(h.post),n=0;n<f.length;n++)for(c=f[n][0],a=d[c].aDataSort,o=0,r=a.length;o<r;o++)s=a[o],l=d[s].sType||"string",f[n]._idx===i&&(f[n]._idx=t.inArray(f[n][1],d[s].asSorting)),u.push({src:c,col:s,dir:f[n][1],index:f[n]._idx,type:l,formatter:Yt.ext.type.order[l+"-pre"]});return u}function St(t){var e,n,i,o,r,a=[],s=Yt.ext.type.order,l=t.aoData,c=(t.aoColumns,0),u=t.aiDisplayMaster;for(y(t),r=_t(t),e=0,n=r.length;e<n;e++)o=r[e],o.formatter&&c++,At(t,o.col);if("ssp"!=Wt(t)&&0!==r.length){for(e=0,i=u.length;e<i;e++)a[u[e]]=e;c===r.length?u.sort(function(t,e){var n,i,o,s,c,u=r.length,d=l[t]._aSortData,h=l[e]._aSortData;for(o=0;o<u;o++)if(c=r[o],n=d[c.col],i=h[c.col],s=n<i?-1:n>i?1:0,0!==s)return"asc"===c.dir?s:-s;return n=a[t],i=a[e],n<i?-1:n>i?1:0}):u.sort(function(t,e){var n,i,o,c,u,d,h=r.length,p=l[t]._aSortData,f=l[e]._aSortData;for(o=0;o<h;o++)if(u=r[o],n=p[u.col],i=f[u.col],d=s[u.type+"-"+u.dir]||s["string-"+u.dir],c=d(n,i),0!==c)return c;return n=a[t],i=a[e],n<i?-1:n>i?1:0})}t.bSorted=!0}function Dt(t){for(var e,n,i=t.aoColumns,o=_t(t),r=t.oLanguage.oAria,a=0,s=i.length;a<s;a++){var l=i[a],c=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(o.length>0&&o[0].col==a?(d.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),n=c[o[0].index+1]||c[0]):n=c[0],e=u+("asc"===n?r.sSortAscending:r.sSortDescending)):e=u,d.setAttribute("aria-label",e)}}function Tt(e,n,o,r){var a,s=e.aoColumns[n],l=e.aaSorting,c=s.asSorting,u=function(e,n){var o=e._idx;return o===i&&(o=t.inArray(e[1],c)),o+1<c.length?o+1:n?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),o&&e.oFeatures.bSortMulti){var d=t.inArray(n,ue(l,"0"));d!==-1?(a=u(l[d],!0),null===a&&1===l.length&&(a=0),null===a?l.splice(d,1):(l[d][1]=c[a],l[d]._idx=a)):(l.push([n,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(a=u(l[0]),l.length=1,l[0][1]=c[a],l[0]._idx=a):(l.length=0,l.push([n,c[0]]),l[0]._idx=0);N(e),"function"==typeof r&&r(e)}function $t(t,e,n,i){var o=t.aoColumns[n];jt(e,{},function(e){o.bSortable!==!1&&(t.oFeatures.bProcessing?(ft(t,!0),setTimeout(function(){Tt(t,n,e.shiftKey,i),"ssp"!==Wt(t)&&ft(t,!1)},0)):Tt(t,n,e.shiftKey,i))})}function Et(e){var n,i,o,r=e.aLastSort,a=e.oClasses.sSortColumn,s=_t(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,i=r.length;n<i;n++)o=r[n].src,t(ue(e.aoData,"anCells",o)).removeClass(a+(n<2?n+1:3));for(n=0,i=s.length;n<i;n++)o=s[n].src,t(ue(e.aoData,"anCells",o)).addClass(a+(n<2?n+1:3))}e.aLastSort=s}function At(t,e){var n,i=t.aoColumns[e],o=Yt.ext.order[i.sSortDataType];o&&(n=o.call(t.oInstance,t,e,m(t,e)));for(var r,a,s=Yt.ext.type.order[i.sType+"-pre"],l=0,c=t.aoData.length;l<c;l++)r=t.aoData[l],r._aSortData||(r._aSortData=[]),r._aSortData[e]&&!o||(a=o?n[l]:_(t,l,e,"sort"),r._aSortData[e]=s?s(a):a)}function It(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:nt(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:nt(e.aoPreSearchCols[n])}})};Nt(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oSavedState=n,e.fnStateSaveCallback.call(e.oInstance,e,n)}}function Pt(e){var n,o,r=e.aoColumns;if(e.oFeatures.bStateSave){var a=e.fnStateLoadCallback.call(e.oInstance,e);if(a&&a.time){var s=Nt(e,"aoStateLoadParams","stateLoadParams",[e,a]);if(t.inArray(!1,s)===-1){var l=e.iStateDuration;if(!(l>0&&a.time<+new Date-1e3*l)&&r.length===a.columns.length){for(e.oLoadedState=t.extend(!0,{},a),a.start!==i&&(e._iDisplayStart=a.start,e.iInitDisplayStart=a.start),a.length!==i&&(e._iDisplayLength=a.length),a.order!==i&&(e.aaSorting=[],t.each(a.order,function(t,n){e.aaSorting.push(n[0]>=r.length?[0,n[1]]:n)})),a.search!==i&&t.extend(e.oPreviousSearch,it(a.search)),n=0,o=a.columns.length;n<o;n++){var c=a.columns[n];c.visible!==i&&(r[n].bVisible=c.visible),c.search!==i&&t.extend(e.aoPreSearchCols[n],it(c.search))}Nt(e,"aoStateLoaded","stateLoaded",[e,a])}}}}}function Mt(e){var n=Yt.settings,i=t.inArray(e,ue(n,"nTable"));return i!==-1?n[i]:null}function Ft(t,n,i,o){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,o&&(i+=". For more information about this error, please see http://datatables.net/tn/"+o),n)e.console&&console.log&&console.log(i);else{var r=Yt.ext,a=r.sErrMode||r.errMode;if(t&&Nt(t,null,"error",[t,o,i]),"alert"==a)alert(i);else{if("throw"==a)throw new Error(i);"function"==typeof a&&a(t,o,i)}}}function Lt(e,n,o,r){return t.isArray(o)?void t.each(o,function(i,o){t.isArray(o)?Lt(e,n,o[0],o[1]):Lt(e,n,o)}):(r===i&&(r=o),void(n[o]!==i&&(e[r]=n[o])))}function Ot(e,n,i){var o;for(var r in n)n.hasOwnProperty(r)&&(o=n[r],t.isPlainObject(o)?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],o)):i&&"data"!==r&&"aaData"!==r&&t.isArray(o)?e[r]=o.slice():e[r]=o);return e}function jt(e,n,i){t(e).bind("click.DT",n,function(t){e.blur(),i(t)}).bind("keypress.DT",n,function(t){13===t.which&&(t.preventDefault(),i(t))}).bind("selectstart.DT",function(){return!1})}function Rt(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Nt(e,n,i,o){var r=[];if(n&&(r=t.map(e[n].slice().reverse(),function(t){return t.fn.apply(e.oInstance,o)})),null!==i){var a=t.Event(i+".dt");t(e.nTable).trigger(a,o),r.push(a.result)}return r}function Ht(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(i===-1||e<0)&&(e=0),t._iDisplayStart=e}function Bt(e,n){var i=e.renderer,o=Yt.ext.renderer[n];return t.isPlainObject(i)&&i[n]?o[i[n]]||o._:"string"==typeof i?o[i]||o._:o._}function Wt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function zt(t,e){var n=[],i=Ue.numbers_length,o=Math.floor(i/2);return e<=i?n=he(0,e):t<=o?(n=he(0,i-2),n.push("ellipsis"),n.push(e-1)):t>=e-1-o?(n=he(e-(i-2),e),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=he(t-o+2,t+o-1),n.push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Ut(e){t.each({num:function(t){return qe(t,e)},"num-fmt":function(t){return qe(t,e,ie)},"html-num":function(t){return qe(t,e,Zt)},"html-num-fmt":function(t){return qe(t,e,Zt,ie)}},function(t,n){Vt.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Vt.type.search[t+e]=Vt.type.search.html)})}function qt(t){return function(){var e=[Mt(this[Yt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Yt.ext.internal[t].apply(this,e)}}var Yt,Vt,Gt,Qt,Kt,Xt={},Jt=/[\r\n]/g,Zt=/<.*?>/g,te=/^[\w\+\-]/,ee=/[\w\+\-]$/,ne=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ie=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,oe=function(t){
return!t||t===!0||"-"===t},re=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ae=function(t,e){return Xt[e]||(Xt[e]=new RegExp(tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Xt[e],"."):t},se=function(t,e,n){var i="string"==typeof t;return!!oe(t)||(e&&i&&(t=ae(t,e)),n&&i&&(t=t.replace(ie,"")),!isNaN(parseFloat(t))&&isFinite(t))},le=function(t){return oe(t)||"string"==typeof t},ce=function(t,e,n){if(oe(t))return!0;var i=le(t);return i?!!se(fe(t),e,n)||null:null},ue=function(t,e,n){var o=[],r=0,a=t.length;if(n!==i)for(;r<a;r++)t[r]&&t[r][e]&&o.push(t[r][e][n]);else for(;r<a;r++)t[r]&&o.push(t[r][e]);return o},de=function(t,e,n,o){var r=[],a=0,s=e.length;if(o!==i)for(;a<s;a++)t[e[a]][n]&&r.push(t[e[a]][n][o]);else for(;a<s;a++)r.push(t[e[a]][n]);return r},he=function(t,e){var n,o=[];e===i?(e=0,n=t):(n=e,e=t);for(var r=e;r<n;r++)o.push(r);return o},pe=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},fe=function(t){return t.replace(Zt,"")},me=function(t){var e,n,i,o=[],r=t.length,a=0;t:for(n=0;n<r;n++){for(e=t[n],i=0;i<a;i++)if(o[i]===e)continue t;o.push(e),a++}return o},ge=function(t,e,n){t[e]!==i&&(t[n]=t[e])},ve=/\[.*?\]$/,ye=/\(\)$/,be=t("<div>")[0],we=be.textContent!==i,ke=/<.*?>/g;Yt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Gt(t?Mt(this[Vt.iApiIndex]):this)},this.fnAddData=function(e,n){var o=this.api(!0),r=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?o.rows.add(e):o.row.add(e);return(n===i||n)&&o.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],o=n.oScroll;t===i||t?e.draw(!1):""===o.sX&&""===o.sY||gt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===i||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var o=this.api(!0),r=o.rows(t),a=r.settings()[0],s=a.aoData[r[0][0]];return r.remove(),e&&e.call(this,a,s),(n===i||n)&&o.draw(),s},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,o,r,a){var s=this.api(!0);null===e||e===i?s.search(t,n,o,a):s.column(e).search(t,n,o,a),s.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==i){var o=t.nodeName?t.nodeName.toLowerCase():"";return e!==i||"td"==o||"th"==o?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==i?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var i=e.cell(t).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===i||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var o=this.api(!0).column(t).visible(e);(n===i||n)&&o.columns.adjust().draw()},this.fnSettings=function(){return Mt(this[Vt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,o,r){var a=this.api(!0);return n===i||null===n?a.row(e).data(t):a.cell(e,n).data(t),(r===i||r)&&a.columns.adjust(),(o===i||o)&&a.draw(),0},this.fnVersionCheck=Vt.fnVersionCheck;var n=this,o=e===i,u=this.length;o&&(e={}),this.oApi=this.internal=Vt.internal;for(var p in Yt.ext.internal)p&&(this[p]=qt(p));return this.each(function(){var p,f={},m=u>1?Ot(f,e,!0):e,g=0,v=this.getAttribute("id"),y=!1,x=Yt.defaults,C=t(this);if("table"!=this.nodeName.toLowerCase())return void Ft(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(x),l(x.column),r(x,x,!0),r(x.column,x.column,!0),r(x,t.extend(m,C.data()));var _=Yt.settings;for(g=0,p=_.length;g<p;g++){var S=_[g];if(S.nTable==this||S.nTHead.parentNode==this||S.nTFoot&&S.nTFoot.parentNode==this){var D=m.bRetrieve!==i?m.bRetrieve:x.bRetrieve,$=m.bDestroy!==i?m.bDestroy:x.bDestroy;if(o||D)return S.oInstance;if($){S.oInstance.fnDestroy();break}return void Ft(S,0,"Cannot reinitialise DataTable",3)}if(S.sTableId==this.id){_.splice(g,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Yt.ext._unique++,this.id=v);var E=t.extend(!0,{},Yt.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:v,sTableId:v});E.nTable=this,E.oApi=n.internal,E.oInit=m,_.push(E),E.oInstance=1===n.length?n:C.dataTable(),s(m),m.oLanguage&&a(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=t.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Ot(t.extend(!0,{},x),m),Lt(E.oFeatures,m,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Lt(E,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Lt(E.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Lt(E.oLanguage,m,"fnInfoCallback"),Rt(E,"aoDrawCallback",m.fnDrawCallback,"user"),Rt(E,"aoServerParams",m.fnServerParams,"user"),Rt(E,"aoStateSaveParams",m.fnStateSaveParams,"user"),Rt(E,"aoStateLoadParams",m.fnStateLoadParams,"user"),Rt(E,"aoStateLoaded",m.fnStateLoaded,"user"),Rt(E,"aoRowCallback",m.fnRowCallback,"user"),Rt(E,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Rt(E,"aoHeaderCallback",m.fnHeaderCallback,"user"),Rt(E,"aoFooterCallback",m.fnFooterCallback,"user"),Rt(E,"aoInitComplete",m.fnInitComplete,"user"),Rt(E,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),E.rowIdFn=T(m.rowId),c(E);var A=E.oClasses;if(m.bJQueryUI?(t.extend(A,Yt.ext.oJUIClasses,m.oClasses),m.sDom===x.sDom&&"lfrtip"===x.sDom&&(E.sDom='<"H"lfr>t<"F"ip>'),E.renderer?t.isPlainObject(E.renderer)&&!E.renderer.header&&(E.renderer.header="jqueryui"):E.renderer="jqueryui"):t.extend(A,Yt.ext.classes,m.oClasses),C.addClass(A.sTable),E.iInitDisplayStart===i&&(E.iInitDisplayStart=m.iDisplayStart,E._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading){E.bDeferLoading=!0;var I=t.isArray(m.iDeferLoading);E._iRecordsDisplay=I?m.iDeferLoading[0]:m.iDeferLoading,E._iRecordsTotal=I?m.iDeferLoading[1]:m.iDeferLoading}var P=E.oLanguage;t.extend(!0,P,m.oLanguage),""!==P.sUrl&&(t.ajax({dataType:"json",url:P.sUrl,success:function(e){a(e),r(x.oLanguage,e),t.extend(!0,P,e),st(E)},error:function(){st(E)}}),y=!0),null===m.asStripeClasses&&(E.asStripeClasses=[A.sStripeOdd,A.sStripeEven]);var M=E.asStripeClasses,F=C.children("tbody").find("tr").eq(0);t.inArray(!0,t.map(M,function(t){return F.hasClass(t)}))!==-1&&(t("tbody tr",this).removeClass(M.join(" ")),E.asDestroyStripes=M.slice());var L,O=[],j=this.getElementsByTagName("thead");if(0!==j.length&&(B(E.aoHeader,j[0]),O=W(E)),null===m.aoColumns)for(L=[],g=0,p=O.length;g<p;g++)L.push(null);else L=m.aoColumns;for(g=0,p=L.length;g<p;g++)d(E,O?O[g]:null);if(b(E,m.aoColumnDefs,L,function(t,e){h(E,t,e)}),F.length){var R=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(F[0]).children("th, td").each(function(t,e){var n=E.aoColumns[t];if(n.mData===t){var o=R(e,"sort")||R(e,"order"),r=R(e,"filter")||R(e,"search");null===o&&null===r||(n.mData={_:t+".display",sort:null!==o?t+".@data-"+o:i,type:null!==o?t+".@data-"+o:i,filter:null!==r?t+".@data-"+r:i},h(E,t))}})}var N=E.oFeatures;if(m.bStateSave&&(N.bStateSave=!0,Pt(E,m),Rt(E,"aoDrawCallback",It,"state_save")),m.aaSorting===i){var H=E.aaSorting;for(g=0,p=H.length;g<p;g++)H[g][1]=E.aoColumns[g].asSorting[0]}Et(E),N.bSort&&Rt(E,"aoDrawCallback",function(){if(E.bSorted){var e=_t(E),n={};t.each(e,function(t,e){n[e.src]=e.dir}),Nt(E,null,"order",[E,e,n]),Dt(E)}}),Rt(E,"aoDrawCallback",function(){(E.bSorted||"ssp"===Wt(E)||N.bDeferRender)&&Et(E)},"sc");var z=C.children("caption").each(function(){this._captionSide=C.css("caption-side")}),U=C.children("thead");0===U.length&&(U=t("<thead/>").appendTo(this)),E.nTHead=U[0];var q=C.children("tbody");0===q.length&&(q=t("<tbody/>").appendTo(this)),E.nTBody=q[0];var Y=C.children("tfoot");if(0===Y.length&&z.length>0&&(""!==E.oScroll.sX||""!==E.oScroll.sY)&&(Y=t("<tfoot/>").appendTo(this)),0===Y.length||0===Y.children().length?C.addClass(A.sNoFooter):Y.length>0&&(E.nTFoot=Y[0],B(E.aoFooter,E.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)w(E,m.aaData[g]);else(E.bDeferLoading||"dom"==Wt(E))&&k(E,t(E.nTBody).children("tr"));E.aiDisplay=E.aiDisplayMaster.slice(),E.bInitialised=!0,y===!1&&st(E)}),n=null,this};var xe=[],Ce=Array.prototype,_e=function(e){var n,i,o=Yt.settings,r=t.map(o,function(t){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(n=t.inArray(e,r),n!==-1?[o[n]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=t(e):e instanceof t&&(i=e),i?i.map(function(){return n=t.inArray(this,r),n!==-1?o[n]:null}).toArray():void 0):[]};Gt=function(e,n){if(!(this instanceof Gt))return new Gt(e,n);var i=[],o=function(t){var e=_e(t);e&&(i=i.concat(e))};if(t.isArray(e))for(var r=0,a=e.length;r<a;r++)o(e[r]);else o(e);this.context=me(i),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},Gt.extend(this,this,xe)},Yt.Api=Gt,t.extend(Gt.prototype,{any:function(){return 0!==this.count()},concat:Ce.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Gt(e[t],this[t]):null},filter:function(t){var e=[];if(Ce.filter)e=Ce.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new Gt(this.context,e)},flatten:function(){var t=[];return new Gt(this.context,t.concat.apply(t,this.toArray()))},join:Ce.join,indexOf:Ce.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,o){var r,a,s,l,c,u,d,h,p=[],f=this.context,m=this.selector;for("string"==typeof t&&(o=n,n=e,e=t,t=!1),a=0,s=f.length;a<s;a++){var g=new Gt(f[a]);if("table"===e)r=n.call(g,f[a],a),r!==i&&p.push(r);else if("columns"===e||"rows"===e)r=n.call(g,f[a],this[a],a),r!==i&&p.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(d=this[a],"column-rows"===e&&(u=Ae(f[a],m.opts)),l=0,c=d.length;l<c;l++)h=d[l],r="cell"===e?n.call(g,f[a],h.row,h.column,a,l):n.call(g,f[a],h,a,l,u),r!==i&&p.push(r)}if(p.length||o){var v=new Gt(f,t?p.concat.apply([],p):p),y=v.selector;return y.rows=m.rows,y.cols=m.cols,y.opts=m.opts,v}return this},lastIndexOf:Ce.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(Ce.map)e=Ce.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new Gt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:Ce.pop,push:Ce.push,reduce:Ce.reduce||function(t,e){return u(this,t,e,0,this.length,1)},reduceRight:Ce.reduceRight||function(t,e){return u(this,t,e,this.length-1,-1,-1)},reverse:Ce.reverse,selector:null,shift:Ce.shift,sort:Ce.sort,splice:Ce.splice,toArray:function(){return Ce.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Gt(this.context,me(this))},unshift:Ce.unshift}),Gt.extend=function(e,n,i){if(i.length&&n&&(n instanceof Gt||n.__dt_wrapper)){var o,r,a,s=function(t,e,n){return function(){var i=e.apply(t,arguments);return Gt.extend(i,i,n.methodExt),i}};for(o=0,r=i.length;o<r;o++)a=i[o],n[a.name]="function"==typeof a.val?s(e,a.val,a):t.isPlainObject(a.val)?{}:a.val,n[a.name].__dt_wrapper=!0,Gt.extend(e,n[a.name],a.propExt)}},Gt.register=Qt=function(e,n){if(t.isArray(e))for(var i=0,o=e.length;i<o;i++)Gt.register(e[i],n);else{var r,a,s,l,c=e.split("."),u=xe,d=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n];return null};for(r=0,a=c.length;r<a;r++){l=c[r].indexOf("()")!==-1,s=l?c[r].replace("()",""):c[r];var h=d(u,s);h||(h={name:s,val:{},methodExt:[],propExt:[]},u.push(h)),r===a-1?h.val=n:u=l?h.methodExt:h.propExt}}},Gt.registerPlural=Kt=function(e,n,o){Gt.register(e,o),Gt.register(n,function(){var e=o.apply(this,arguments);return e===this?this:e instanceof Gt?e.length?t.isArray(e[0])?new Gt(e.context,e[0]):e[0]:i:e})};var Se=function(e,n){if("number"==typeof e)return[n[e]];var i=t.map(n,function(t){return t.nTable});return t(i).filter(e).map(function(){var e=t.inArray(this,i);return n[e]}).toArray()};Qt("tables()",function(t){return t?new Gt(Se(t,this.context)):this}),Qt("table()",function(t){var e=this.tables(t),n=e.context;return n.length?new Gt(n[0]):e}),Kt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Kt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Kt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Kt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Kt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Qt("draw()",function(t){return this.iterator("table",function(e){"page"===t?R(e):("string"==typeof t&&(t="full-hold"!==t),N(e,t===!1))})}),Qt("page()",function(t){return t===i?this.page.info().page:this.iterator("table",function(e){ht(e,t)})}),Qt("page.info()",function(){if(0===this.context.length)return i;var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),r=n===-1;return{page:r?0:Math.floor(e/n),pages:r?1:Math.ceil(o/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===Wt(t)}}),Qt("page.len()",function(t){return t===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(e){ct(e,t)})});var De=function(t,e,n){if(n){var i=new Gt(t);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==Wt(t))N(t,e);else{ft(t,!0);var o=t.jqXHR;o&&4!==o.readyState&&o.abort(),z(t,[],function(n){A(t);for(var i=V(t,n),o=0,r=i.length;o<r;o++)w(t,i[o]);N(t,e),ft(t,!1)})}};Qt("ajax.json()",function(){var t=this.context;if(t.length>0)return t[0].json}),Qt("ajax.params()",function(){var t=this.context;if(t.length>0)return t[0].oAjaxData}),Qt("ajax.reload()",function(t,e){return this.iterator("table",function(n){De(n,e===!1,t)})}),Qt("ajax.url()",function(e){var n=this.context;return e===i?0===n.length?i:(n=n[0],n.ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e})}),Qt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){De(n,e===!1,t)})});var Te=function(e,n,o,r,a){var s,l,c,u,d,h,p=[],f=typeof n;for(n&&"string"!==f&&"function"!==f&&n.length!==i||(n=[n]),c=0,u=n.length;c<u;c++)for(l=n[c]&&n[c].split?n[c].split(","):[n[c]],d=0,h=l.length;d<h;d++)s=o("string"==typeof l[d]?t.trim(l[d]):l[d]),s&&s.length&&(p=p.concat(s));var m=Vt.selector[e];if(m.length)for(c=0,u=m.length;c<u;c++)p=m[c](r,a,p);return me(p)},$e=function(e){return e||(e={}),e.filter&&e.search===i&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Ee=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ae=function(e,n){var i,o,r,a=[],s=e.aiDisplay,l=e.aiDisplayMaster,c=n.search,u=n.order,d=n.page;if("ssp"==Wt(e))return"removed"===c?[]:he(0,l.length);if("current"==d)for(i=e._iDisplayStart,o=e.fnDisplayEnd();i<o;i++)a.push(s[i]);else if("current"==u||"applied"==u)a="none"==c?l.slice():"applied"==c?s.slice():t.map(l,function(e){return t.inArray(e,s)===-1?e:null});else if("index"==u||"original"==u)for(i=0,o=e.aoData.length;i<o;i++)"none"==c?a.push(i):(r=t.inArray(i,s),(r===-1&&"removed"==c||r>=0&&"applied"==c)&&a.push(i));return a},Ie=function(e,n,o){var r=function(n){var r=re(n);if(null!==r&&!o)return[r];var a=Ae(e,o);if(null!==r&&t.inArray(r,a)!==-1)return[r];if(!n)return a;if("function"==typeof n)return t.map(a,function(t){var i=e.aoData[t];return n(t,i._aData,i.nTr)?t:null});var s=pe(de(e.aoData,a,"nTr"));if(n.nodeName){if(n._DT_RowIndex!==i)return[n._DT_RowIndex];if(n._DT_CellIndex)return[n._DT_CellIndex.row];var l=t(n).closest("*[data-dt-row]");return l.length?[l.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var c=e.aIds[n.replace(/^#/,"")];if(c!==i)return[c.idx]}return t(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()};return Te("row",n,r,e,o)};Qt("rows()",function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e=""),n=$e(n);var o=this.iterator("table",function(t){return Ie(t,e,n)},1);return o.selector.rows=e,o.selector.opts=n,o}),Qt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||i},1)}),Qt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return de(t.aoData,e,"_aData")},1)}),Kt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData},1)}),Kt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){P(e,n,t)})}),Kt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Kt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,o=n.length;i<o;i++)for(var r=0,a=this[i].length;r<a;r++){var s=n[i].rowIdFn(n[i].aoData[this[i][r]]._aData);e.push((t===!0?"#":"")+s)}return new Gt(n,e)}),Kt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,o){var r,a,s,l,c,u,d=e.aoData,h=d[n];for(d.splice(n,1),r=0,a=d.length;r<a;r++)if(c=d[r],u=c.anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=r),null!==u)for(s=0,l=u.length;s<l;s++)u[s]._DT_CellIndex.row=r;I(e.aiDisplayMaster,n),I(e.aiDisplay,n),I(t[o],n,!1),Ht(e);var p=e.rowIdFn(h._aData);p!==i&&delete e.aIds[p]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),Qt("rows.add()",function(e){var n=this.iterator("table",function(t){var n,i,o,r=[];for(i=0,o=e.length;i<o;i++)n=e[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(k(t,n)[0]):r.push(w(t,n));return r},1),i=this.rows(-1);return i.pop(),t.merge(i,n),i}),Qt("row()",function(t,e){return Ee(this.rows(t,e))}),Qt("row().data()",function(t){var e=this.context;return t===i?e.length&&this.length?e[0].aoData[this[0]]._aData:i:(e[0].aoData[this[0]]._aData=t,P(e[0],this[0],"data"),this)}),Qt("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Qt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?k(t,e)[0]:w(t,e)});return this.row(n[0])});var Pe=function(e,n,i,o){var r=[],a=function(n,i){if(t.isArray(n)||n instanceof t)for(var o=0,s=n.length;o<s;o++)a(n[o],i);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())r.push(n);else{var l=t("<tr><td/></tr>").addClass(i);t("td",l).addClass(i).html(n)[0].colSpan=g(e),r.push(l[0])}};a(i,o),n._details&&n._details.remove(),n._details=t(r),n._detailsShow&&n._details.insertAfter(n.nTr)},Me=function(t,e){var n=t.context;if(n.length){var o=n[0].aoData[e!==i?e:t[0]];o&&o._details&&(o._details.remove(),o._detailsShow=i,o._details=i)}},Fe=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];i._details&&(i._detailsShow=e,e?i._details.insertAfter(i.nTr):i._details.detach(),Le(n[0]))}},Le=function(t){var e=new Gt(t),n=".dt.DT_details",i="draw"+n,o="column-visibility"+n,r="destroy"+n,a=t.aoData;e.off(i+" "+o+" "+r),ue(a,"_details").length>0&&(e.on(i,function(n,i){t===i&&e.rows({page:"current"}).eq(0).each(function(t){var e=a[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),e.on(o,function(e,n){if(t===n)for(var i,o=g(n),r=0,s=a.length;r<s;r++)i=a[r],i._details&&i._details.children("td[colspan]").attr("colspan",o)}),e.on(r,function(n,i){if(t===i)for(var o=0,r=a.length;o<r;o++)a[o]._details&&Me(e,o)}))},Oe="",je=Oe+"row().child",Re=je+"()";Qt(Re,function(t,e){var n=this.context;return t===i?n.length&&this.length?n[0].aoData[this[0]]._details:i:(t===!0?this.child.show():t===!1?Me(this):n.length&&this.length&&Pe(n[0],n[0].aoData[this[0]],t,e),this)}),Qt([je+".show()",Re+".show()"],function(){return Fe(this,!0),this}),Qt([je+".hide()",Re+".hide()"],function(){return Fe(this,!1),this}),Qt([je+".remove()",Re+".remove()"],function(){return Me(this),this}),Qt(je+".isShown()",function(){var t=this.context;return!(!t.length||!this.length)&&(t[0].aoData[this[0]]._detailsShow||!1)});var Ne=/^(.+):(name|visIdx|visible)$/,He=function(t,e,n,i,o){for(var r=[],a=0,s=o.length;a<s;a++)r.push(_(t,o[a],e));return r},Be=function(e,n,i){var o=e.aoColumns,r=ue(o,"sName"),a=ue(o,"nTh"),s=function(n){var s=re(n);if(""===n)return he(o.length);if(null!==s)return[s>=0?s:o.length+s];if("function"==typeof n){var l=Ae(e,i);return t.map(o,function(t,i){return n(i,He(e,i,0,0,l),a[i])?i:null})}var c="string"==typeof n?n.match(Ne):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var d=t.map(o,function(t,e){return t.bVisible?e:null});return[d[d.length+u]]}return[f(e,u)];case"name":return t.map(r,function(t,e){return t===c[1]?e:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var h=t(a).filter(n).map(function(){return t.inArray(this,a)}).toArray();if(h.length||!n.nodeName)return h;var p=t(n).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]};return Te("column",n,s,e,i)},We=function(e,n,o,r){var a,s,l,c,u=e.aoColumns,d=u[n],h=e.aoData;if(o===i)return d.bVisible;if(d.bVisible!==o){if(o){var f=t.inArray(!0,ue(u,"bVisible"),n+1);for(s=0,l=h.length;s<l;s++)c=h[s].nTr,a=h[s].anCells,c&&c.insertBefore(a[n],a[f]||null)}else t(ue(e.aoData,"anCells",n)).detach();d.bVisible=o,j(e,e.aoHeader),j(e,e.aoFooter),(r===i||r)&&p(e),Nt(e,null,"column-visibility",[e,n,o,r]),It(e)}};Qt("columns()",function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e=""),n=$e(n);var o=this.iterator("table",function(t){return Be(t,e,n)},1);return o.selector.cols=e,o.selector.opts=n,o}),Kt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Kt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Kt("columns().data()","column().data()",function(){return this.iterator("column-rows",He,1)}),Kt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Kt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,o,r){return de(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",n)},1)}),Kt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,o){return de(t.aoData,o,"anCells",e)},1)}),Kt("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(n,o){return t===i?n.aoColumns[o].bVisible:void We(n,o,t,e)})}),Kt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?m(e,n):n},1)}),Qt("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),Qt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return f(n,e);if("fromData"===t||"toVisible"===t)return m(n,e)}}),Qt("column()",function(t,e){return Ee(this.columns(t,e))});var ze=function(e,n,o){var r,a,s,l,c,u,d,h=e.aoData,p=Ae(e,o),f=pe(de(h,p,"anCells")),m=t([].concat.apply([],f)),g=e.aoColumns.length,v=function(n){var o="function"==typeof n;if(null===n||n===i||o){for(a=[],s=0,l=p.length;s<l;s++)for(r=p[s],c=0;c<g;c++)u={row:r,column:c},o?(d=h[r],n(u,_(e,r,c),d.anCells?d.anCells[c]:null)&&a.push(u)):a.push(u);return a}if(t.isPlainObject(n))return[n];var f=m.filter(n).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return f.length||!n.nodeName?f:(d=t(n).closest("*[data-dt-row]"),d.length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[])};return Te("cell",n,v,e,o)};Qt("cells()",function(e,n,o){if(t.isPlainObject(e)&&(e.row===i?(o=e,e=null):(o=n,n=null)),t.isPlainObject(n)&&(o=n,n=null),null===n||n===i)return this.iterator("table",function(t){return ze(t,e,$e(o))});var r,a,s,l,c,u=this.columns(n,o),d=this.rows(e,o),h=this.iterator("table",function(t,e){for(r=[],a=0,s=d[e].length;a<s;a++)for(l=0,c=u[e].length;l<c;l++)r.push({row:d[e][a],column:u[e][l]});return r},1);return t.extend(h.selector,{cols:n,rows:e,opts:o}),h}),Kt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){var o=t.aoData[e];return o&&o.anCells?o.anCells[n]:i},1)}),Qt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return _(t,e,n)},1)}),Kt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)}),Kt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return _(e,n,i,t)},1)}),Kt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:m(t,n)}},1)}),Kt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){P(e,n,t,i)})}),Qt("cell()",function(t,e,n){return Ee(this.cells(t,e,n))}),Qt("cell().data()",function(t){var e=this.context,n=this[0];return t===i?e.length&&n.length?_(e[0],n[0].row,n[0].column):i:(S(e[0],n[0].row,n[0].column,t),P(e[0],n[0].row,"data",n[0].column),this)}),Qt("order()",function(e,n){var o=this.context;return e===i?0!==o.length?o[0].aaSorting:i:("number"==typeof e?e=[[e,n]]:t.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Qt("order.listener()",function(t,e,n){return this.iterator("table",function(i){$t(i,t,e,n)})}),Qt("order.fixed()",function(e){if(!e){var n=this.context,o=n.length?n[0].aaSortingFixed:i;return t.isArray(o)?{pre:o}:o}return this.iterator("table",function(n){n.aaSortingFixed=t.extend(!0,{},e)})}),Qt(["columns().order()","column().order()"],function(e){var n=this;return this.iterator("table",function(i,o){var r=[];t.each(n[o],function(t,n){r.push([n,e])}),i.aaSorting=r})}),Qt("search()",function(e,n,o,r){var a=this.context;return e===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&Q(i,t.extend({},i.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===o||o,bCaseInsensitive:null===r||r}),1)})}),Kt("columns().search()","column().search()",function(e,n,o,r){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;return e===i?l[s].sSearch:void(a.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===o||o,bCaseInsensitive:null===r||r}),Q(a,a.oPreviousSearch,1)))})}),Qt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Qt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Qt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Qt("state.save()",function(){return this.iterator("table",function(t){It(t)})}),Yt.versionCheck=Yt.fnVersionCheck=function(t){for(var e,n,i=Yt.version.split("."),o=t.split("."),r=0,a=o.length;r<a;r++)if(e=parseInt(i[r],10)||0,n=parseInt(o[r],10)||0,e!==n)return e>n;return!0},Yt.isDataTable=Yt.fnIsDataTable=function(e){var n=t(e).get(0),i=!1;return t.each(Yt.settings,function(e,o){var r=o.nScrollHead?t("table",o.nScrollHead)[0]:null,a=o.nScrollFoot?t("table",o.nScrollFoot)[0]:null;o.nTable!==n&&r!==n&&a!==n||(i=!0)}),i},Yt.tables=Yt.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var i=t.map(Yt.settings,function(n){if(!e||e&&t(n.nTable).is(":visible"))return n.nTable});return n?new Gt(i):i},Yt.util={throttle:bt,escapeRegex:tt},Yt.camelToHungarian=r,Qt("$()",function(e,n){var i=this.rows(n).nodes(),o=t(i);return t([].concat(o.filter(e).toArray(),o.find(e).toArray()))}),t.each(["on","one","off"],function(e,n){Qt(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var i=t(this.tables().nodes());return i[n].apply(i,e),this})}),Qt("clear()",function(){return this.iterator("table",function(t){A(t)})}),Qt("settings()",function(){return new Gt(this.context,this.context)}),Qt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Qt("data()",function(){return this.iterator("table",function(t){return ue(t.aoData,"_aData")}).flatten()}),Qt("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var o,r=i.nTableWrapper.parentNode,a=i.oClasses,s=i.nTable,l=i.nTBody,c=i.nTHead,u=i.nTFoot,d=t(s),h=t(l),p=t(i.nTableWrapper),f=t.map(i.aoData,function(t){return t.nTr});i.bDestroying=!0,Nt(i,"aoDestroyCallback","destroy",[i]),n||new Gt(i).columns().visible(!0),p.unbind(".DT").find(":not(tbody *)").unbind(".DT"),t(e).unbind(".DT-"+i.sInstance),s!=c.parentNode&&(d.children("thead").detach(),d.append(c)),u&&s!=u.parentNode&&(d.children("tfoot").detach(),d.append(u)),i.aaSorting=[],i.aaSortingFixed=[],Et(i),t(f).removeClass(i.asStripeClasses.join(" ")),t("th, td",c).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),i.bJUI&&(t("th span."+a.sSortIcon+", td span."+a.sSortIcon,c).detach(),t("th, td",c).each(function(){var e=t("div."+a.sSortJUIWrapper,this);t(this).append(e.contents()),e.detach()})),h.children().detach(),h.append(f);var m=n?"remove":"detach";d[m](),p[m](),!n&&r&&(r.insertBefore(s,i.nTableReinsertBefore),d.css("width",i.sDestroyWidth).removeClass(a.sTable),o=i.asDestroyStripes.length,o&&h.children().each(function(e){t(this).addClass(i.asDestroyStripes[e%o])}));var g=t.inArray(i,Yt.settings);g!==-1&&Yt.settings.splice(g,1)})}),t.each(["column","row","cell"],function(t,e){Qt(e+"s().every()",function(t){var n=this.selector.opts,o=this;return this.iterator(e,function(r,a,s,l,c){t.call(o[e](a,"cell"===e?s:n,"cell"===e?n:i),a,s,l,c)})})}),Qt("i18n()",function(e,n,o){var r=this.context[0],a=T(e)(r.oLanguage);return a===i&&(a=n),o!==i&&t.isPlainObject(a)&&(a=a[o]!==i?a[o]:a._),a.replace("%d",o)}),Yt.version="1.10.11",Yt.settings=[],Yt.models={},Yt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Yt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Yt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Yt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((t.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname));
}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(t.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Yt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},o(Yt.defaults),Yt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},o(Yt.defaults.column),Yt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Wt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Wt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,o=this.oFeatures,r=o.bPaginate;return o.bServerSide?r===!1||t===-1?e+i:Math.min(e+t,this._iRecordsDisplay):!r||n>i||t===-1?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Yt.ext=Vt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Yt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Yt.version},t.extend(Vt,{afnFiltering:Vt.search,aTypes:Vt.type.detect,ofnSearch:Vt.type.search,oSort:Vt.type.order,afnSortData:Vt.order,aoFeatures:Vt.feature,oApi:Vt.internal,oStdClasses:Vt.classes,oPagination:Vt.pager}),t.extend(Yt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var n=e+"ui-state-default",i=e+"css_right ui-icon ui-icon-",o=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";t.extend(Yt.ext.oJUIClasses,Yt.ext.classes,{sPageButton:"fg-button ui-button "+n,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:n+" sorting_asc",sSortDesc:n+" sorting_desc",sSortable:n+" sorting",sSortableAsc:n+" sorting_asc_disabled",sSortableDesc:n+" sorting_desc_disabled",sSortableNone:n+" sorting_disabled",sSortJUIAsc:i+"triangle-1-n",sSortJUIDesc:i+"triangle-1-s",sSortJUI:i+"carat-2-n-s",sSortJUIAscAllowed:i+"carat-1-n",sSortJUIDescAllowed:i+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+n,sScrollFoot:"dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:o+" ui-corner-tl ui-corner-tr",sJUIFooter:o+" ui-corner-bl ui-corner-br"})}();var Ue=Yt.ext.pager;t.extend(Ue,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[zt(t,e)]},simple_numbers:function(t,e){return["previous",zt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",zt(t,e),"next","last"]},_numbers:zt,numbers_length:7}),t.extend(!0,Yt.ext.renderer,{pageButton:{_:function(e,i,o,r,a,s){var l,c,u,d=e.oClasses,h=e.oLanguage.oPaginate,p=e.oLanguage.oAria.paginate||{},f=0,m=function(n,i){var r,u,g,v,y=function(t){ht(e,t.data.action,!0)};for(r=0,u=i.length;r<u;r++)if(v=i[r],t.isArray(v)){var b=t("<"+(v.DT_el||"div")+"/>").appendTo(n);m(b,v)}else{switch(l=null,c="",v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=h.sFirst,c=v+(a>0?"":" "+d.sPageButtonDisabled);break;case"previous":l=h.sPrevious,c=v+(a>0?"":" "+d.sPageButtonDisabled);break;case"next":l=h.sNext,c=v+(a<s-1?"":" "+d.sPageButtonDisabled);break;case"last":l=h.sLast,c=v+(a<s-1?"":" "+d.sPageButtonDisabled);break;default:l=v+1,c=a===v?d.sPageButtonActive:""}null!==l&&(g=t("<a>",{"class":d.sPageButton+" "+c,"aria-controls":e.sTableId,"aria-label":p[v],"data-dt-idx":f,tabindex:e.iTabIndex,id:0===o&&"string"==typeof v?e.sTableId+"_"+v:null}).html(l).appendTo(n),jt(g,{action:v},y),f++)}};try{u=t(i).find(n.activeElement).data("dt-idx")}catch(t){}m(t(i).empty(),r),u&&t(i).find("[data-dt-idx="+u+"]").focus()}}}),t.extend(Yt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return se(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&(!te.test(t)||!ee.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||oe(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return se(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ce(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ce(t,n,!0)?"html-num-fmt"+n:null},function(t){return oe(t)||"string"==typeof t&&t.indexOf("<")!==-1?"html":null}]),t.extend(Yt.ext.type.search,{html:function(t){return oe(t)?t:"string"==typeof t?t.replace(Jt," ").replace(Zt,""):""},string:function(t){return oe(t)?t:"string"==typeof t?t.replace(Jt," "):t}});var qe=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=ae(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-(1/0)};t.extend(Vt.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return oe(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return oe(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Ut(""),t.extend(!0,Yt.ext.renderer,{header:{_:function(e,n,i,o){t(e.nTable).on("order.dt.DT",function(t,r,a,s){if(e===r){var l=i.idx;n.removeClass(i.sSortingClass+" "+o.sSortAsc+" "+o.sSortDesc).addClass("asc"==s[l]?o.sSortAsc:"desc"==s[l]?o.sSortDesc:i.sSortingClass)}})},jqueryui:function(e,n,i,o){t("<div/>").addClass(o.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(o.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",function(t,r,a,s){if(e===r){var l=i.idx;n.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==s[l]?o.sSortAsc:"desc"==s[l]?o.sSortDesc:i.sSortingClass),n.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==s[l]?o.sSortJUIAsc:"desc"==s[l]?o.sSortJUIDesc:i.sSortingClassJUI)}})}}});var Ye=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Yt.render={number:function(t,e,n,i,o){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var a=r<0?"-":"",s=parseFloat(r);if(isNaN(s))return Ye(r);r=Math.abs(s);var l=parseInt(r,10),c=n?e+(r-l).toFixed(n).substring(2):"";return a+(i||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(o||"")}}},text:function(){return{display:Ye}}},t.extend(Yt.ext.internal,{_fnExternApiFunc:qt,_fnBuildAjax:z,_fnAjaxUpdate:U,_fnAjaxParameters:q,_fnAjaxUpdateDraw:Y,_fnAjaxDataSrc:V,_fnAddColumn:d,_fnColumnOptions:h,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:o,_fnCamelToHungarian:r,_fnLanguageCompat:a,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:k,_fnNodeToDataIndex:x,_fnNodeToColumnIndex:C,_fnGetCellData:_,_fnSetCellData:S,_fnSplitObjNotation:D,_fnGetObjectDataFn:T,_fnSetObjectDataFn:$,_fnGetDataMaster:E,_fnClearTable:A,_fnDeleteIndex:I,_fnInvalidate:P,_fnGetRowElements:M,_fnCreateTr:F,_fnBuildHead:O,_fnDrawHead:j,_fnDraw:R,_fnReDraw:N,_fnAddOptionsHtml:H,_fnDetectHeader:B,_fnGetUniqueThs:W,_fnFeatureHtmlFilter:G,_fnFilterComplete:Q,_fnFilterCustom:K,_fnFilterColumn:X,_fnFilter:J,_fnFilterCreateSearch:Z,_fnEscapeRegex:tt,_fnFilterData:et,_fnFeatureHtmlInfo:ot,_fnUpdateInfo:rt,_fnInfoMacros:at,_fnInitialise:st,_fnInitComplete:lt,_fnLengthChange:ct,_fnFeatureHtmlLength:ut,_fnFeatureHtmlPaginate:dt,_fnPageChange:ht,_fnFeatureHtmlProcessing:pt,_fnProcessingDisplay:ft,_fnFeatureHtmlTable:mt,_fnScrollDraw:gt,_fnApplyToChildren:vt,_fnCalculateColumnWidths:yt,_fnThrottle:bt,_fnConvertToWidth:wt,_fnGetWidestNode:kt,_fnGetMaxLenString:xt,_fnStringToCss:Ct,_fnSortFlatten:_t,_fnSort:St,_fnSortAria:Dt,_fnSortListener:Tt,_fnSortAttachListener:$t,_fnSortingClasses:Et,_fnSortData:At,_fnSaveState:It,_fnLoadState:Pt,_fnSettingsFromNode:Mt,_fnLog:Ft,_fnMap:Lt,_fnBindAction:jt,_fnCallbackReg:Rt,_fnCallbackFire:Nt,_fnLengthOverflow:Ht,_fnRenderer:Bt,_fnDataSource:Wt,_fnRowAttributes:L,_fnCalculateEnd:function(){}}),t.fn.dataTable=Yt,Yt.$=t,t.fn.dataTableSettings=Yt.settings,t.fn.dataTableExt=Yt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Yt,function(e,n){t.fn.DataTable[e]=n}),t.fn.dataTable}),function(t,e){var n=function(t,n){"use strict";t.extend(!0,n.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),t.extend(n.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),n.ext.renderer.pageButton.bootstrap=function(i,o,r,a,s,l){var c,u,d,h=new n.Api(i),p=i.oClasses,f=i.oLanguage.oPaginate,m=0,g=function(e,n){var o,a,d,v,y=function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||h.page(e.data.action).draw(!1)};for(o=0,a=n.length;o<a;o++)if(v=n[o],t.isArray(v))g(e,v);else{switch(c="",u="",v){case"ellipsis":c="&hellip;",u="disabled";break;case"first":c=f.sFirst,u=v+(s>0?"":" disabled");break;case"previous":c=f.sPrevious,u=v+(s>0?"":" disabled");break;case"next":c=f.sNext,u=v+(s<l-1?"":" disabled");break;case"last":c=f.sLast,u=v+(s<l-1?"":" disabled");break;default:c=v+1,u=s===v?"active":""}c&&(d=t("<li>",{"class":p.sPageButton+" "+u,id:0===r&&"string"==typeof v?i.sTableId+"_"+v:null}).append(t("<a>",{href:"#","aria-controls":i.sTableId,"data-dt-idx":m,tabindex:i.iTabIndex}).html(c)).appendTo(e),i.oApi._fnBindAction(d,{action:v},y),m++)}};try{d=t(e.activeElement).data("dt-idx")}catch(t){}g(t(o).empty().html('<ul class="pagination"/>').children("ul"),a),d&&t(o).find("[data-dt-idx="+d+"]").focus()},n.TableTools&&(t.extend(!0,n.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),t.extend(!0,n.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&n(jQuery,jQuery.fn.dataTable)}(window,document),+function(t){"use strict";var e="Microsoft Internet Explorer"==window.navigator.appName,n=function(e,n){if(this.$element=t(e),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||n.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var i=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==i&&"none"!==i&&this.$preview.css("line-height",i),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};n.prototype.listen=function(){this.$input.on("change.bs.fileinput",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",t.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",t.proxy(this.clear,this))},n.prototype.change=function(e){var n=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(e.stopPropagation(),0===n.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var i=n[0];if(this.$preview.length>0&&("undefined"!=typeof i.type?i.type.match(/^image\/(gif|png|jpeg)$/):i.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var o=new FileReader,r=this.$preview,a=this.$element;o.onload=function(e){var o=t("<img>");o[0].src=e.target.result,n[0].result=e.target.result,a.find(".fileinput-filename").text(i.name),"none"!=r.css("max-height")&&o.css("max-height",parseInt(r.css("max-height"),10)-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10)-parseInt(r.css("border-top"),10)-parseInt(r.css("border-bottom"),10)),r.html(o),a.addClass("fileinput-exists").removeClass("fileinput-new"),a.trigger("change.bs.fileinput",n)},o.readAsDataURL(i)}else this.$element.find(".fileinput-filename").text(i.name),this.$preview.text(i.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},n.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),e){var n=this.$input.clone(!0);this.$input.after(n),this.$input.remove(),this.$input=n}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},n.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),t(this.$input[0].form).off("reset.bs.fileinput"),this.$element.trigger("reset.bs.fileinput"),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this))},n.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var i=t.fn.fileinput;t.fn.fileinput=function(e){return this.each(function(){var i=t(this),o=i.data("bs.fileinput");o||i.data("bs.fileinput",o=new n(this,e)),"string"==typeof e&&o[e]()})},t.fn.fileinput.Constructor=n,t.fn.fileinput.noConflict=function(){return t.fn.fileinput=i,this},t(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var n=t(this);if(!n.data("bs.fileinput")){n.fileinput(n.data());var i=t(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');i.length>0&&(e.preventDefault(),i.trigger("click.bs.fileinput"))}})}(window.jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?n=e:e={};var t,n,i;!function(e){function o(t,e){return w.call(t,e)}function r(t,e){var n,i,o,r,a,s,l,c,u,d,h,p=e&&e.split("/"),f=y.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),a=t.length-1,y.nodeIdCompat&&x.test(t[a])&&(t[a]=t[a].replace(x,"")),t=p.slice(0,p.length-1).concat(t),u=0;u<t.length;u+=1)if(h=t[u],"."===h)t.splice(u,1),u-=1;else if(".."===h){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||m)&&f){for(n=t.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),p)for(d=p.length;d>0;d-=1)if(o=f[p.slice(0,d).join("/")],o&&(o=o[i])){r=o,s=u;break}if(r)break;!l&&m&&m[i]&&(l=m[i],c=u)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function a(t,n){return function(){var i=k.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(e,i.concat([t,n]))}}function s(t){return function(e){return r(e,t)}}function l(t){return function(e){g[t]=e}}function c(t){if(o(v,t)){var n=v[t];delete v[t],b[t]=!0,h.apply(e,n)}if(!o(g,t)&&!o(b,t))throw new Error("No "+t);return g[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return y&&y.config&&y.config[t]||{}}}var h,p,f,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,k=[].slice,x=/\.js$/;f=function(t,e){var n,i=u(t),o=i[0];return t=i[1],o&&(o=r(o,e),n=c(o)),o?t=n&&n.normalize?n.normalize(t,s(e)):r(t,e):(t=r(t,e),i=u(t),o=i[0],t=i[1],o&&(n=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},m={require:function(t){return a(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:d(t)}}},h=function(t,n,i,r){var s,u,d,h,p,y,w=[],k=typeof i;if(r=r||t,"undefined"===k||"function"===k){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(h=f(n[p],r),u=h.f,"require"===u)w[p]=m.require(t);else if("exports"===u)w[p]=m.exports(t),y=!0;else if("module"===u)s=w[p]=m.module(t);else if(o(g,u)||o(v,u)||o(b,u))w[p]=c(u);else{if(!h.p)throw new Error(t+" missing "+u);h.p.load(h.n,a(r,!0),l(u),{}),w[p]=g[u]}d=i?i.apply(g[t],w):void 0,t&&(s&&s.exports!==e&&s.exports!==g[t]?g[t]=s.exports:d===e&&y||(g[t]=d))}else t&&(g[t]=i)},t=n=p=function(t,n,i,o,r){if("string"==typeof t)return m[t]?m[t](n):c(f(t,n).f);if(!t.splice){if(y=t,y.deps&&p(y.deps,y.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=o,o=r),o?h(e,t,n,i):setTimeout(function(){h(e,t,n,i)},4),p},p.config=function(t){return p(t)},t._defined=g,i=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),o(g,t)||o(v,t)||(v[t]=[t,e,n])},i.amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){var o=e[i];"function"==typeof o&&"constructor"!==i&&n.push(i)}return n}var n={};n.Extend=function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},n.Decorate=function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,o=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),o=n.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=i}var r=e(n),a=e(t);n.displayName=t.displayName,i.prototype=new o;for(var s=0;s<a.length;s++){var l=a[s];i.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var o=n.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),o.apply(this,arguments)}}),u=0;u<r.length;u++){var d=r[u];i.prototype[d]=c(d)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;n<t;n++){var i=Math.floor(36*Math.random());e+=i.toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];r=r.substring(0,1).toLowerCase()+r.substring(1),r in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);i.append(n(o(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)},n.prototype.position=function(t,e){var n=e.find(".select2-results");n.append(t)},n.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()}),o=e.$results.find(".select2-results__option[aria-selected]");o.each(function(){var e=t(this),n=t.data(this,"data"),o=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(o,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var r=o.filter("[aria-selected=true]");r.length>0?r.first().trigger("mouseenter"):o.first().trigger("mouseenter")})},n.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:e(t)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]);for(var o in i){var r=i[o];n.setAttribute(o,r)}if(e.children){var a=t(n),s=document.createElement("strong");s.className="select2-results__group";t(s);this.template(e,s);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var h=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(l),a.append(s),a.append(h)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e){var n=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&n.setClasses()}),e.on("unselect",function(){e.isOpen()&&n.setClasses()}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var o=i-1;0===t.length&&(o=0);var r=e.eq(o);r.trigger("mouseenter");var a=n.$results.offset().top,s=r.offset().top,l=n.$results.scrollTop()+(s-a);0===o?n.$results.scrollTop(0):s-a<0&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),o=i+1;if(!(o>=e.length)){var r=e.eq(o);r.trigger("mouseenter");var a=n.$results.offset().top+n.$results.outerHeight(!1),s=r.offset().top+r.outerHeight(!1),l=n.$results.scrollTop()+s-a;0===o?n.$results.scrollTop(0):s>a&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),o=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:o}):n.trigger("close",{})):void n.trigger("select",{originalEvent:e,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:t(this)})})},n.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),n=e.index(t),i=this.$results.offset().top,o=t.offset().top,r=this.$results.scrollTop()+(o-i),a=o-i;r-=2*t.outerHeight(!1),n<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(e,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):t(n).append(r)},n}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t){var e=this,i=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e._handleBlur(t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target),i=n.closest(".select2"),o=t(".select2.select2-container--open");o.each(function(){var e=t(this);if(this!=i[0]){var n=e.data("element");n.select2("close");
}})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){var n=e.find(".selection");n.append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t){var e=this;i.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(){var e=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){if(!e.options.get("disabled")){var i=t(this),o=i.parent(),r=o.data("data");e.trigger("unselect",{originalEvent:n,data:r})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(t,e))},i.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var o=t[i],r=this.selectionContainer(),a=this.display(o,r);r.append(a),r.prop("title",o.title||o.text),r.data("data",o),e.push(r)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id,i=e.length>1;if(i||n)return t.call(this,e);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var o=this;t.call(this,e,i),e.on("open",function(){o.$search.trigger("focus")}),e.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),e.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),e.on("disable",function(){o.$search.prop("disabled",!0)}),e.on("focus",function(){o.$search.trigger("focus")}),e.on("results:focus",function(t){o.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===n.BACKSPACE&&""===o.$search.val()){var i=o.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var r=i.data("data");o.searchRemoveChoice(r),t.preventDefault()}}});var r=document.documentMode,a=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){return a?void o.$selection.off("input.search input.searchcheck"):void o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(a&&"input"===t.type)return void o.$selection.off("input.search input.searchcheck");var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&o.handleSearch(t)})},i.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(t.inArray(e,r)!==-1){n=n||{};var i=t.Event("select2:"+e,{params:n});o.$element.trigger(i),t.inArray(e,a)!==-1&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){var t={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),o=i.item(t);e.push(o)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var o=[];t=[t],t.push.apply(t,i);for(var r=0;r<t.length;r++){var a=t[r].id;n.inArray(a,o)===-1&&o.push(a)}e.$element.val(o),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var o=[],r=0;r<i.length;r++){var a=i[r].id;a!==t.id&&n.inArray(a,o)===-1&&o.push(a)}e.$element.val(o),e.$element.trigger("change")})},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],o=this,r=this.$element.children();r.each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),a=o.matches(t,r);null!==a&&i.push(a)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),o=this._normalizeItem(t);return o.element=e,n.data(e,"data",o),i},i.prototype.item=function(t){var e={};if(e=n.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),o=[],r=0;r<i.length;r++){var a=n(i[r]),s=this.item(a);o.push(s)}e.children=o}return e=this._normalizeItem(e),e.element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t}),t=n.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){var n=this.options.get("matcher");return n(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var o=this,r=this.$element.find("option"),a=r.map(function(){return o.item(n(this)).id}).get(),s=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,a)>=0){var u=r.filter(i(c)),d=this.item(u),h=n.extend(!0,{},c,d),p=this.option(h);u.replaceWith(p)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);e.appendMany(f,m)}s.push(f)}}return s},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var o=n.ajax(t);return o.then(e),o.fail(i),o}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=r.transport(r,function(i){var r=o.processResults(i,t);o.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){o.trigger("results:message",{message:"errorLoading"})});o._request=i}var o=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var o=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,n,i),t.isArray(o))for(var s=0;s<o.length;s++){var l=o[s],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,r){for(var a=t.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!i({results:l.children},!0),u=l.text===e.term;if(u||c)return!r&&(t.data=a,void n(t))}if(r)return!0;var d=o.createTag(e);if(null!=d){var h=o.option(d);h.attr("data-select2-tag",!0),o.addOptions([h]),o.insertTag(a,d)}t.results=a,n(t)}var o=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(){var e=(this._lastTag,this.$element.find("option[data-select2-tag]"));e.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(t,e,n){function i(t){o.trigger("select",{data:t})}var o=this;e.term=e.term||"";var r=this.tokenizer(e,this.options,i);r.term!==e.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),e.term=r.term),t.call(this,e,n)},e.prototype.tokenizer=function(e,n,i,o){for(var r=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var c=a[s];if(t.inArray(c,r)!==-1){var u=a.substr(0,s),d=t.extend({},n,{term:u}),h=l(d);null!=h?(o(h),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(o){var r=null!=o?o.length:0;return i.maximumSelectionLength>0&&r>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},e.prototype.bind=function(e,n,i){var o=this;e.call(this,n,i),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),n.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),n.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),n.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=o.showSearch(t);e?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide")}})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var o=this;e.call(this,n,i),n.on("query",function(t){o.lastParams=t,o.loading=!0}),n.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);if(!o.loading&&e){var n=o.$results.offset().top+o.$results.outerHeight(!1),i=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1);n+50>=i&&o.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){
function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,o=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(r+" "+a+" "+s,function(){o._positionDropdown(),o._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,a="orientationchange.select2."+i.id,s=this.$container.parents().filter(e.hasScroll);s.off(o),t(window).off(o+" "+r+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<r.top-s.height,u=l.bottom>r.bottom+s.height,d={left:r.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();d.top-=p.top,d.left-=p.left,n||i||(o="below"),u||!c||n?!c&&u&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(d.top=a.top-s.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(){i._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();if(!(t.length<1)){var e=t.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){var e=t.minimum-t.input.length,n="Please enter "+e+" or more characters";return n},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,o,r,a,s,l,c,u,d,h,p,f,m,g,v,y,b,w,k,x,C,_,S,D,T,$){function E(){this.reset()}E.prototype.apply=function(d){if(d=t.extend(!0,{},this.defaults,d),null==d.dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=p:d.dataAdapter=h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null!=d.query){var $=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,$)}if(null!=d.initSelection){var E=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,E)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,x)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,D))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var A=c.Decorate(w,k);d.dropdownAdapter=A}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var I=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,I)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,_)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=o:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var P=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,P)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var M=d.language.split("-"),F=M[0];d.language=[d.language,F]}else d.language=[d.language];if(t.isArray(d.language)){var L=new u;d.language.push("en");for(var O=d.language,j=0;j<O.length;j++){var R=O[j],N={};try{N=u.loadPath(R)}catch(t){try{R=this.defaults.amdLanguageBase+R,N=u.loadPath(R)}catch(t){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+R+'" could not be automatically loaded. A fallback will be used instead.');continue}}L.extend(N)}d.translations=L}else{var H=u.loadPath(this.defaults.amdLanguageBase+"en"),B=new u(d.language);B.extend(H),d.translations=B}return d},E.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,o){if(""===t.trim(i.term))return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),a=o.children.length-1;a>=0;a--){var s=o.children[a],l=n(i,s);null==l&&r.children.splice(a,1)}return r.children.length>0?r:n(i,r)}var c=e(o.text).toUpperCase(),u=e(i.term).toUpperCase();return c.indexOf(u)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:$,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},E.prototype.set=function(e,n){var i=t.camelCase(e),o={};o[i]=n;var r=c._convertData(o);t.extend(this.defaults,r)};var A=new E;return A}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=n.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var r=e.extend(!0,{},o);r=i._convertData(r);for(var a in r)e.inArray(a,n)>-1||(e.isPlainObject(this.options[a])?e.extend(this.options[a],r[a]):this.options[a]=r[a]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var o=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),o.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,""),u=c.match(n);if(null!==u&&u.length>=1)return u[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,o){t.inArray(i,n)===-1&&e.trigger(i,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in i){var r=i[t],a={prevented:!1,name:t,args:e};if(n.call(this,r,a),a.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},o}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i;return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var o=Array.prototype.slice.call(arguments,1);i=n[e].apply(n,o)}),t.inArray(e,o)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){"use strict";var e,n=function(){var e=function(t){return function(e){return t===e}},n=function(t,e){return t===e},i=function(t){return function(e,n){return e[t]===n[t]}},o=function(){return!0},r=function(){return!1},a=function(t){return function(){return!t.apply(t,arguments)}},s=function(t,e){return function(n){return t(n)&&e(n)}},l=function(t){return t},c=function(t,e){return function(){return t[e].apply(t,arguments)}},u=0,d=function(t){var e=++u+"";return t?t+e:e},h=function(e){var n=t(document);return{top:e.top+n.scrollTop(),left:e.left+n.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},p=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e},f=function(t,e){return e=e||"",e+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")};return{eq:e,eq2:n,peq2:i,ok:o,fail:r,self:l,not:a,and:s,invoke:c,uniqueId:d,rect2bnd:h,invertObject:p,namespaceToCamel:f}}(),i=function(){var e=function(t){return t[0]},i=function(t){return t[t.length-1]},o=function(t){return t.slice(0,t.length-1)},r=function(t){return t.slice(1)},a=function(t,e){for(var n=0,i=t.length;n<i;n++){var o=t[n];if(e(o))return o}},s=function(t,e){for(var n=0,i=t.length;n<i;n++)if(!e(t[n]))return!1;return!0},l=function(e,n){return t.inArray(n,e)},c=function(t,e){return l(t,e)!==-1},u=function(t,e){return e=e||n.self,t.reduce(function(t,n){return t+e(n)},0)},d=function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},h=function(t){return!t||!t.length},p=function(t,n){if(!t.length)return[];var o=r(t);return o.reduce(function(t,e){var o=i(t);return n(i(o),e)?o[o.length]=e:t[t.length]=[e],t},[[e(t)]])},f=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},m=function(t){for(var e=[],n=0,i=t.length;n<i;n++)c(e,t[n])||e.push(t[n]);return e},g=function(t,e){var n=l(t,e);return n===-1?null:t[n+1]},v=function(t,e){var n=l(t,e);return n===-1?null:t[n-1]};return{head:e,last:i,initial:o,tail:r,prev:v,next:g,find:a,contains:c,all:s,sum:u,from:d,isEmpty:h,clusterBy:p,compact:f,unique:m}}(),o="function"==typeof define&&define.amd,r=function(e){var n="Comic Sans MS"===e?"Courier New":"Comic Sans MS",i=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=i.css("fontFamily",n).width(),r=i.css("fontFamily",e+","+n).width();return i.remove(),o!==r},a=navigator.userAgent,s=/MSIE|Trident/i.test(a);if(s){var l=/MSIE (\d+[.]\d+)/.exec(a);l&&(e=parseFloat(l[1])),l=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(a),l&&(e=parseFloat(l[1]))}var c=/Edge\/\d+/.test(a),u=!!window.CodeMirror;if(!u&&o&&require)if(require.hasOwnProperty("resolve"))try{require.resolve("codemirror"),u=!0}catch(t){u=!1}else require.hasOwnProperty("specified")&&(u=require.specified("codemirror"));var d={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:s,isEdge:c,isFF:!c&&/firefox/i.test(a),isPhantom:/PhantomJS/i.test(a),isWebkit:!c&&/webkit/i.test(a),isChrome:!c&&/chrome/i.test(a),isSafari:!c&&/safari/i.test(a),browserVersion:e,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:o,hasCodeMirror:u,isFontInstalled:r,isW3CRangeSupport:!!document.createRange},h=String.fromCharCode(160),p="\ufeff",f=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},o=function(e){return e&&t(e).hasClass("note-control-sizing")},r=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}},a=function(t){return t&&3===t.nodeType},s=function(t){return t&&1===t.nodeType},l=function(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(t.nodeName.toUpperCase())},c=function(t){return!e(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))},u=function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},m=r("PRE"),g=r("LI"),v=function(t){return c(t)&&!g(t)},y=r("TABLE"),b=function(t){return!(_(t)||w(t)||k(t)||c(t)||y(t)||C(t))},w=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},k=r("HR"),x=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},C=r("BLOCKQUOTE"),_=function(t){return x(t)||C(t)||e(t)},S=r("A"),D=function(t){return b(t)&&!!L(t,c)},T=function(t){return b(t)&&!L(t,c)},$=r("BODY"),E=function(t,e){return t.nextSibling===e||t.previousSibling===e},A=function(t,e){e=e||n.ok;var i=[];return t.previousSibling&&e(t.previousSibling)&&i.push(t.previousSibling),i.push(t),t.nextSibling&&e(t.nextSibling)&&i.push(t.nextSibling),i},I=d.isMSIE&&d.browserVersion<11?"&nbsp;":"<br>",P=function(t){return a(t)?t.nodeValue.length:t.childNodes.length},M=function(t){var e=P(t);return 0===e||(!a(t)&&1===e&&t.innerHTML===I||!(!i.all(t.childNodes,a)||""!==t.innerHTML))},F=function(t){l(t)||P(t)||(t.innerHTML=I)},L=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},O=function(t,n){for(t=t.parentNode;t&&1===P(t);){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},j=function(t,i){i=i||n.fail;var o=[];return L(t,function(t){return e(t)||o.push(t),i(t)}),o},R=function(t,e){var n=j(t);return i.last(n.filter(e))},N=function(e,n){for(var i=j(e),o=n;o;o=o.parentNode)if(t.inArray(o,i)>-1)return o;return null},H=function(t,e){e=e||n.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.previousSibling;return i},B=function(t,e){e=e||n.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.nextSibling;return i},W=function(t,e){var i=[];return e=e||n.ok,function n(o){t!==o&&e(o)&&i.push(o);for(var r=0,a=o.childNodes.length;r<a;r++)n(o.childNodes[r])}(t),i},z=function(e,n){var i=e.parentNode,o=t("<"+n+">")[0];return i.insertBefore(o,e),o.appendChild(e),o},U=function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},q=function(e,n){return t.each(n,function(t,n){e.appendChild(n)}),e},Y=function(t){return 0===t.offset},V=function(t){return t.offset===P(t.node)},G=function(t){return Y(t)||V(t)},Q=function(t,e){for(;t&&t!==e;){if(0!==Z(t))return!1;t=t.parentNode}return!0},K=function(t,e){for(;t&&t!==e;){if(Z(t)!==P(t.parentNode)-1)return!1;t=t.parentNode}return!0},X=function(t,e){return Y(t)&&Q(t.node,e)},J=function(t,e){return V(t)&&K(t.node,e)},Z=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},tt=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},et=function(t,n){var i,o;if(0===t.offset){if(e(t.node))return null;i=t.node.parentNode,o=Z(t.node)}else tt(t.node)?(i=t.node.childNodes[t.offset-1],o=P(i)):(i=t.node,o=n?0:t.offset-1);return{node:i,offset:o}},nt=function(t,n){var i,o;if(P(t.node)===t.offset){if(e(t.node))return null;i=t.node.parentNode,o=Z(t.node)+1}else tt(t.node)?(i=t.node.childNodes[t.offset],o=0):(i=t.node,o=n?P(t.node):t.offset+1);return{node:i,offset:o}},it=function(t,e){return t.node===e.node&&t.offset===e.offset},ot=function(t){if(a(t.node)||!tt(t.node)||M(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return!(e&&!l(e)||n&&!l(n))},rt=function(t,e){for(;t;){if(e(t))return t;t=et(t)}return null},at=function(t,e){for(;t;){if(e(t))return t;t=nt(t)}return null},st=function(t){if(!a(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==h},lt=function(t,e,n,i){for(var o=t;o&&(n(o),!it(o,e));){var r=i&&t.node!==o.node&&e.node!==o.node;o=nt(o,r)}},ct=function(t,e){var i=j(e,n.eq(t));return i.map(Z).reverse()},ut=function(t,e){for(var n=t,i=0,o=e.length;i<o;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n},dt=function(t,e){var n=e&&e.isSkipPaddingBlankHTML,i=e&&e.isNotSplitEdgePoint;if(G(t)&&(a(t.node)||i)){if(Y(t))return t.node;if(V(t))return t.node.nextSibling}if(a(t.node))return t.node.splitText(t.offset);var o=t.node.childNodes[t.offset],r=U(t.node.cloneNode(!1),t.node);return q(r,B(o)),n||(F(t.node),F(r)),r},ht=function(t,e,i){var o=j(e.node,n.eq(t));return o.length?1===o.length?dt(e,i):o.reduce(function(t,n){return t===e.node&&(t=dt(e,i)),dt({node:n,offset:t?f.position(t):P(n)},i)}):null},pt=function(t,e){var n,o,r=e?c:_,a=j(t.node,r),s=i.last(a)||t.node;r(s)?(n=a[a.length-2],o=s):(n=s,o=n.parentNode);var l=n&&ht(n,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return l||o!==t.node||(l=t.node.childNodes[t.offset]),{rightNode:l,container:o}},ft=function(t){return document.createElement(t)},mt=function(t){return document.createTextNode(t)},gt=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,o,r=[];for(i=0,o=t.childNodes.length;i<o;i++)r.push(t.childNodes[i]);for(i=0,o=r.length;i<o;i++)n.insertBefore(r[i],t)}n.removeChild(t)}},vt=function(t,n){for(;t&&!e(t)&&n(t);){var i=t.parentNode;gt(t),t=i}},yt=function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=ft(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),q(n,i.from(t.childNodes)),U(n,t),gt(t),n},bt=r("TEXTAREA"),wt=function(t,e){var n=bt(t[0])?t.val():t.html();return e?n.replace(/[\n\r]/g,""):n},kt=function(e,n){var i=wt(e);if(n){var o=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(o,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||o?"\n":"")}),i=t.trim(i)}return i},xt=function(e){var n=t(e),i=n.offset(),o=n.outerHeight(!0);return{left:i.left,top:i.top+o}},Ct=function(t,e){Object.keys(e).forEach(function(n){t.on(n,e[n])})},_t=function(t,e){Object.keys(e).forEach(function(n){t.off(n,e[n])})};return{NBSP_CHAR:h,ZERO_WIDTH_NBSP_CHAR:p,blank:I,emptyPara:"<p>"+I+"</p>",makePredByNodeName:r,isEditable:e,isControlSizing:o,isText:a,isElement:s,isVoid:l,isPara:c,isPurePara:v,isHeading:u,isInline:b,isBlock:n.not(b),isBodyInline:T,isBody:$,isParaInline:D,isPre:m,isList:w,isTable:y,isCell:x,isBlockquote:C,isBodyContainer:_,isAnchor:S,isDiv:r("DIV"),isLi:g,isBR:r("BR"),isSpan:r("SPAN"),isB:r("B"),isU:r("U"),isS:r("S"),isI:r("I"),isImg:r("IMG"),isTextarea:bt,isEmpty:M,isEmptyAnchor:n.and(S,M),isClosestSibling:E,withClosestSiblings:A,nodeLength:P,isLeftEdgePoint:Y,isRightEdgePoint:V,isEdgePoint:G,isLeftEdgeOf:Q,isRightEdgeOf:K,isLeftEdgePointOf:X,isRightEdgePointOf:J,prevPoint:et,nextPoint:nt,isSamePoint:it,isVisiblePoint:ot,prevPointUntil:rt,nextPointUntil:at,isCharPoint:st,walkPoint:lt,ancestor:L,singleChildAncestor:O,listAncestor:j,lastAncestor:R,listNext:B,listPrev:H,listDescendant:W,commonAncestor:N,wrap:z,insertAfter:U,appendChildNodes:q,position:Z,hasChildren:tt,makeOffsetPath:ct,fromOffsetPath:ut,splitTree:ht,splitPoint:pt,create:ft,createText:mt,remove:gt,removeWhile:vt,replace:yt,html:kt,value:wt,posFromPlaceholder:xt,attachEvents:Ct,detachEvents:_t}}(),m=function(e,o){var r=this,a=t.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=o,this.initialize=function(){return this.layoutInfo=a.createLayout(e,o),this._initialize(),e.hide(),this},this.destroy=function(){this._destroy(),e.removeData("summernote"),a.removeLayout(e,this.layoutInfo)},this.reset=function(){var t=r.isDisabled();this.code(f.emptyPara),this._destroy(),this._initialize(),t&&r.disable()},this._initialize=function(){var e=t.extend({},this.options.buttons);Object.keys(e).forEach(function(t){r.memo("button."+t,e[t])});var n=t.extend({},this.options.modules,t.summernote.plugins||{});Object.keys(n).forEach(function(t){r.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){r.initializeModule(t)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(t){r.removeModule(t)}),Object.keys(this.memos).forEach(function(t){r.removeMemo(t)})},this.code=function(t){var n=this.invoke("codeview.isActivated");return void 0===t?(this.invoke("codeview.sync"),n?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(n?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),e.val(t),this.triggerEvent("change",t),void 0)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var t=i.head(arguments),o=i.tail(i.from(arguments)),r=this.options.callbacks[n.namespaceToCamel(t,"on")];r&&r.apply(e[0],o),e.trigger("summernote."+t,o)},this.initializeModule=function(t){
var i=this.modules[t];i.shouldInitialize=i.shouldInitialize||n.ok,i.shouldInitialize()&&(i.initialize&&i.initialize(),i.events&&f.attachEvents(e,i.events))},this.module=function(t,e,n){return 1===arguments.length?this.modules[t]:(this.modules[t]=new e(this),void(n||this.initializeModule(t)))},this.removeModule=function(t){var n=this.modules[t];n.shouldInitialize()&&(n.events&&f.detachEvents(e,n.events),n.destroy&&n.destroy()),delete this.modules[t]},this.memo=function(t,e){return 1===arguments.length?this.memos[t]:void(this.memos[t]=e)},this.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},this.createInvokeHandler=function(e,n){return function(i){i.preventDefault(),r.invoke(e,n||t(i.target).closest("[data-value]").data("value"))}},this.invoke=function(){var t=i.head(arguments),e=i.tail(i.from(arguments)),n=t.split("."),o=n.length>1,r=o&&i.head(n),a=o?i.last(n):i.head(n),s=this.modules[r||"editor"];return!r&&this[a]?this[a].apply(this,e):s&&s[a]&&s.shouldInitialize()?s[a].apply(s,e):void 0},this.initialize()};t.fn.extend({summernote:function(){var e=t.type(i.head(arguments)),n="string"===e,o="object"===e,r=o?i.head(arguments):{};r=t.extend({},t.summernote.options,r),r.langInfo=t.extend(!0,{},t.summernote.lang["en-US"],t.summernote.lang[r.lang]),this.each(function(e,n){var i=t(n);if(!i.data("summernote")){var o=new m(i,r);i.data("summernote",o),i.data("summernote").triggerEvent("init",o.layoutInfo)}});var a=this.first();if(a.length){var s=a.data("summernote");if(n)return s.invoke.apply(s,i.from(arguments));r.focus&&s.invoke("editor.focus")}return this}});var g=function(e,n,i,o){this.render=function(r){var a=t(e);if(i&&i.contents&&a.html(i.contents),i&&i.className&&a.addClass(i.className),i&&i.data&&t.each(i.data,function(t,e){a.attr("data-"+t,e)}),i&&i.click&&a.on("click",i.click),n){var s=a.find(".note-children-container");n.forEach(function(t){t.render(s.length?s:a)})}return o&&o(a,i),i&&i.callback&&i.callback(a),r&&r.append(a),a}},v={create:function(e,n){return function(){var i=t.isArray(arguments[0])?arguments[0]:[],o="object"==typeof arguments[1]?arguments[1]:arguments[0];return o&&o.children&&(i=o.children),new g(e,i,o,n)}}},y=v.create('<div class="note-editor note-frame panel panel-default"/>'),b=v.create('<div class="note-toolbar panel-heading"/>'),w=v.create('<div class="note-editing-area"/>'),k=v.create('<textarea class="note-codable"/>'),x=v.create('<div class="note-editable panel-body" contentEditable="true"/>'),C=v.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),_=v.create('<div class="note-editor"/>'),S=v.create('<div class="note-editable" contentEditable="true"/>'),D=v.create('<div class="note-btn-group btn-group">'),T=v.create('<button type="button" class="note-btn btn btn-default btn-sm">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),$=v.create('<div class="dropdown-menu">',function(e,n){var i=t.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t;return'<li><a href="#" data-value="'+e+'">'+i+"</a></li>"}).join(""):n.items;e.html(i)}),E=v.create('<div class="dropdown-menu note-check">',function(e,n){var i=t.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t;return'<li><a href="#" data-value="'+e+'">'+M(n.checkClassName)+" "+i+"</a></li>"}).join(""):n.items;e.html(i)}),A=v.create('<div class="note-color-palette"/>',function(t,e){for(var n=[],i=0,o=e.colors.length;i<o;i++){for(var r=e.eventName,a=e.colors[i],s=[],l=0,c=a.length;l<c;l++){var u=a[l];s.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',r,'" ','data-value="',u,'" ','title="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+s.join("")+"</div>")}t.html(n.join("")),t.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),I=v.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(t,e){e.fade&&t.addClass("fade"),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),P=v.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var n="undefined"!=typeof e.direction?e.direction:"bottom";t.addClass(n),e.hideArrow&&t.find(".arrow").hide()}),M=function(t,e){return e=e||"i","<"+e+' class="'+t+'"/>'},F={editor:y,toolbar:b,editingArea:w,codable:k,editable:x,statusbar:C,airEditor:_,airEditable:S,buttonGroup:D,button:T,dropdown:$,dropdownCheck:E,palette:A,dialog:I,popover:P,icon:M,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var n=(e.airMode?F.airEditor([F.editingArea([F.airEditable()])]):F.editor([F.toolbar(),F.editingArea([F.codable(),F.editable()]),F.statusbar()])).render();return n.insertAfter(t),{note:t,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};t.summernote=t.summernote||{lang:{}},t.extend(t.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var L,O=function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return i.contains([t.BACKSPACE,t.TAB,t.ENTER,t.SPACE],e)},isMove:function(e){return i.contains([t.LEFT,t.UP,t.RIGHT,t.DOWN],e)},nameFromCode:n.invertObject(t),code:t}}(),j=function(){var e=function(t,e){var n,o,r=t.parentElement(),a=document.body.createTextRange(),s=i.from(r.childNodes);for(n=0;n<s.length;n++)if(!f.isText(s[n])){if(a.moveToElementText(s[n]),a.compareEndPoints("StartToStart",t)>=0)break;o=s[n]}if(0!==n&&f.isText(s[n-1])){var l=document.body.createTextRange(),c=null;l.moveToElementText(o||r),l.collapse(!o),c=o?o.nextSibling:r.firstChild;var u=t.duplicate();u.setEndPoint("StartToStart",l);for(var d=u.text.replace(/[\r\n]/g,"").length;d>c.nodeValue.length&&c.nextSibling;)d-=c.nodeValue.length,c=c.nextSibling;c.nodeValue;e&&c.nextSibling&&f.isText(c.nextSibling)&&d===c.nodeValue.length&&(d-=c.nodeValue.length,c=c.nextSibling),r=c,n=d}return{cont:r,offset:n}},o=function(t){var e=function(t,o){var r,a;if(f.isText(t)){var s=f.listPrev(t,n.not(f.isText)),l=i.last(s).previousSibling;r=l||t.parentNode,o+=i.sum(i.tail(s),f.nodeLength),a=!l}else{if(r=t.childNodes[o]||t,f.isText(r))return e(r,0);o=0,a=!1}return{node:r,collapseToStart:a,offset:o}},o=document.body.createTextRange(),r=e(t.node,t.offset);return o.moveToElementText(r.node),o.collapse(r.collapseToStart),o.moveStart("character",r.offset),o},r=function(e,a,s,l){this.sc=e,this.so=a,this.ec=s,this.eo=l;var c=function(){if(d.isW3CRangeSupport){var t=document.createRange();return t.setStart(e,a),t.setEnd(s,l),t}var n=o({node:e,offset:a});return n.setEndPoint("EndToEnd",o({node:s,offset:l})),n};this.getPoints=function(){return{sc:e,so:a,ec:s,eo:l}},this.getStartPoint=function(){return{node:e,offset:a}},this.getEndPoint=function(){return{node:s,offset:l}},this.select=function(){var t=c();if(d.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},this.scrollIntoView=function(e){var n=t(e).height();return e.scrollTop+n<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+n-this.sc.offsetTop)),this},this.normalize=function(){var t=function(t,e){if(f.isVisiblePoint(t)&&!f.isEdgePoint(t)||f.isVisiblePoint(t)&&f.isRightEdgePoint(t)&&!e||f.isVisiblePoint(t)&&f.isLeftEdgePoint(t)&&e||f.isVisiblePoint(t)&&f.isBlock(t.node)&&f.isEmpty(t.node))return t;var n=f.ancestor(t.node,f.isBlock);if((f.isLeftEdgePointOf(t,n)||f.isVoid(f.prevPoint(t).node))&&!e||(f.isRightEdgePointOf(t,n)||f.isVoid(f.nextPoint(t).node))&&e){if(f.isVisiblePoint(t))return t;e=!e}var i=e?f.nextPointUntil(f.nextPoint(t),f.isVisiblePoint):f.prevPointUntil(f.prevPoint(t),f.isVisiblePoint);return i||t},e=t(this.getEndPoint(),!1),n=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new r(n.node,n.offset,e.node,e.offset)},this.nodes=function(t,e){t=t||n.ok;var o=e&&e.includeAncestor,r=e&&e.fullyContains,a=this.getStartPoint(),s=this.getEndPoint(),l=[],c=[];return f.walkPoint(a,s,function(e){if(!f.isEditable(e.node)){var n;r?(f.isLeftEdgePoint(e)&&c.push(e.node),f.isRightEdgePoint(e)&&i.contains(c,e.node)&&(n=e.node)):n=o?f.ancestor(e.node,t):e.node,n&&t(n)&&l.push(n)}},!0),i.unique(l)},this.commonAncestor=function(){return f.commonAncestor(e,s)},this.expand=function(t){var n=f.ancestor(e,t),i=f.ancestor(s,t);if(!n&&!i)return new r(e,a,s,l);var o=this.getPoints();return n&&(o.sc=n,o.so=0),i&&(o.ec=i,o.eo=f.nodeLength(i)),new r(o.sc,o.so,o.ec,o.eo)},this.collapse=function(t){return t?new r(e,a,e,a):new r(s,l,s,l)},this.splitText=function(){var t=e===s,n=this.getPoints();return f.isText(s)&&!f.isEdgePoint(this.getEndPoint())&&s.splitText(l),f.isText(e)&&!f.isEdgePoint(this.getStartPoint())&&(n.sc=e.splitText(a),n.so=0,t&&(n.ec=n.sc,n.eo=l-a)),new r(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),n=e.nodes(null,{fullyContains:!0}),o=f.prevPointUntil(e.getStartPoint(),function(t){return!i.contains(n,t.node)}),a=[];return t.each(n,function(t,e){var n=e.parentNode;o.node!==n&&1===f.nodeLength(n)&&a.push(n),f.remove(e,!1)}),t.each(a,function(t,e){f.remove(e,!1)}),new r(o.node,o.offset,o.node,o.offset).normalize()};var u=function(t){return function(){var n=f.ancestor(e,t);return!!n&&n===f.ancestor(s,t)}};this.isOnEditable=u(f.isEditable),this.isOnList=u(f.isList),this.isOnAnchor=u(f.isAnchor),this.isOnCell=u(f.isCell),this.isLeftEdgeOf=function(t){if(!f.isLeftEdgePoint(this.getStartPoint()))return!1;var e=f.ancestor(this.sc,t);return e&&f.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return e===s&&a===l},this.wrapBodyInlineWithPara=function(){if(f.isBodyContainer(e)&&f.isEmpty(e))return e.innerHTML=f.emptyPara,new r(e.firstChild,0,e.firstChild,0);var t=this.normalize();if(f.isParaInline(e)||f.isPara(e))return t;var o;if(f.isInline(t.sc)){var a=f.listAncestor(t.sc,n.not(f.isInline));o=i.last(a),f.isInline(o)||(o=a[a.length-2]||t.sc.childNodes[t.so])}else o=t.sc.childNodes[t.so>0?t.so-1:0];var s=f.listPrev(o,f.isParaInline).reverse();if(s=s.concat(f.listNext(o.nextSibling,f.isParaInline)),s.length){var l=f.wrap(i.head(s),"p");f.appendChildNodes(l,i.tail(s))}return this.normalize()},this.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),n=f.splitPoint(e.getStartPoint(),f.isInline(t));return n.rightNode?n.rightNode.parentNode.insertBefore(t,n.rightNode):n.container.appendChild(t),t},this.pasteHTML=function(e){var n=t("<div></div>").html(e)[0],o=i.from(n.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();return o.reverse().map(function(t){return r.insertNode(t)}).reverse()},this.toString=function(){var t=c();return d.isW3CRangeSupport?t.toString():t.text},this.getWordRange=function(t){var e=this.getEndPoint();if(!f.isCharPoint(e))return this;var n=f.prevPointUntil(e,function(t){return!f.isCharPoint(t)});return t&&(e=f.nextPointUntil(e,function(t){return!f.isCharPoint(t)})),new r(n.node,n.offset,e.node,e.offset)},this.bookmark=function(t){return{s:{path:f.makeOffsetPath(t,e),offset:a},e:{path:f.makeOffsetPath(t,s),offset:l}}},this.paraBookmark=function(t){return{s:{path:i.tail(f.makeOffsetPath(i.head(t),e)),offset:a},e:{path:i.tail(f.makeOffsetPath(i.last(t),s)),offset:l}}},this.getClientRects=function(){var t=c();return t.getClientRects()}};return{create:function(t,e,n,i){if(4===arguments.length)return new r(t,e,n,i);if(2===arguments.length)return n=t,i=e,new r(t,e,n,i);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0]),o.collapse(f.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t,n,i,o;if(d.isW3CRangeSupport){var a=document.getSelection();if(!a||0===a.rangeCount)return null;if(f.isBody(a.anchorNode))return null;var s=a.getRangeAt(0);t=s.startContainer,n=s.startOffset,i=s.endContainer,o=s.endOffset}else{var l=document.selection.createRange(),c=l.duplicate();c.collapse(!1);var u=l;u.collapse(!0);var h=e(u,!0),p=e(c,!1);f.isText(h.node)&&f.isLeftEdgePoint(h)&&f.isTextNode(p.node)&&f.isRightEdgePoint(p)&&p.node.nextSibling===h.node&&(h=p),t=h.cont,n=h.offset,i=p.cont,o=p.offset}return new r(t,n,i,o)},createFromNode:function(t){var e=t,n=0,i=t,o=f.nodeLength(i);return f.isVoid(e)&&(n=f.listPrev(e).length-1,e=e.parentNode),f.isBR(i)?(o=f.listPrev(i).length-1,i=i.parentNode):f.isVoid(i)&&(o=f.listPrev(i).length,i=i.parentNode),this.create(e,n,i,o)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var n=f.fromOffsetPath(t,e.s.path),i=e.s.offset,o=f.fromOffsetPath(t,e.e.path),a=e.e.offset;return new r(n,i,o,a)},createFromParaBookmark:function(t,e){var n=t.s.offset,o=t.e.offset,a=f.fromOffsetPath(i.head(e),t.s.path),s=f.fromOffsetPath(i.last(e),t.e.path);return new r(a,n,s,o)}}}(),R=function(){var e=function(e){return t.Deferred(function(n){t.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()},n=function(e){return t.Deferred(function(n){var i=t("<img>");i.one("load",function(){i.off("error abort"),n.resolve(i)}).one("error abort",function(){i.off("load").detach(),n.reject(i)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:n}}(),N=function(t){var e=[],n=-1,i=t[0],o=function(){var e=j.create(i),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:t.html(),bookmark:e?e.bookmark(i):n}},r=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&j.createFromBookmark(i,e.bookmark).select()};this.rewind=function(){t.html()!==e[n].contents&&this.recordUndo(),n=0,r(e[n])},this.reset=function(){e=[],n=-1,t.html(""),this.recordUndo()},this.undo=function(){t.html()!==e[n].contents&&this.recordUndo(),0<n&&(n--,r(e[n]))},this.redo=function(){e.length-1>n&&(n++,r(e[n]))},this.recordUndo=function(){n++,e.length>n&&(e=e.slice(0,n)),e.push(o())}},H=function(){var e=function(e,n){if(d.jqueryVersion<1.9){var i={};return t.each(n,function(t,n){i[n]=e.css(n)}),i}return e.css.call(e,n)};this.fromNode=function(t){var n=["font-family","font-size","text-align","list-style-type","line-height"],i=e(t,n)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(e,n){t.each(e.nodes(f.isPara,{includeAncestor:!0}),function(e,i){t(i).css(n)})},this.styleNodes=function(e,o){e=e.splitText();var r=o&&o.nodeName||"SPAN",a=!(!o||!o.expandClosestSibling),s=!(!o||!o.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(f.create(r))];var l=f.makePredByNodeName(r),c=e.nodes(f.isText,{fullyContains:!0}).map(function(t){return f.singleChildAncestor(t,l)||f.wrap(t,r)});if(a){if(s){var u=e.nodes();l=n.and(l,function(t){return i.contains(u,t)})}return c.map(function(e){var n=f.withClosestSiblings(e,l),o=i.head(n),r=i.tail(n);return t.each(r,function(t,e){f.appendChildNodes(o,e.childNodes),f.remove(e)}),i.head(n)})}return c},this.current=function(e){var n=t(f.isElement(e.sc)?e.sc:e.sc.parentNode),i=this.fromNode(n);try{i=t.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(t){}if(e.isOnList()){var o=["circle","disc","disc-leading-zero","square"],r=t.inArray(i["list-style-type"],o)>-1;i["list-style"]=r?"unordered":"ordered"}else i["list-style"]="none";var a=f.ancestor(e.sc,f.isPara);if(a&&a.style["line-height"])i["line-height"]=a.style.lineHeight;else{var s=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=s.toFixed(1)}return i.anchor=e.isOnAnchor()&&f.ancestor(e.sc,f.isAnchor),i.ancestors=f.listAncestor(e.sc,f.isEditable),i.range=e,i}},B=function(){var e=this;this.insertOrderedList=function(t){this.toggleList("OL",t)},this.insertUnorderedList=function(t){this.toggleList("UL",t)},this.indent=function(e){var o=this,r=j.create(e).wrapBodyInlineWithPara(),a=r.nodes(f.isPara,{includeAncestor:!0}),s=i.clusterBy(a,n.peq2("parentNode"));t.each(s,function(e,n){var r=i.head(n);f.isLi(r)?o.wrapList(n,r.parentNode.nodeName):t.each(n,function(e,n){t(n).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),r.select()},this.outdent=function(e){var o=this,r=j.create(e).wrapBodyInlineWithPara(),a=r.nodes(f.isPara,{includeAncestor:!0}),s=i.clusterBy(a,n.peq2("parentNode"));t.each(s,function(e,n){var r=i.head(n);f.isLi(r)?o.releaseList([n]):t.each(n,function(e,n){t(n).css("marginLeft",function(t,e){return e=parseInt(e,10)||0,e>25?e-25:""})})}),r.select()},this.toggleList=function(o,r){var a=j.create(r).wrapBodyInlineWithPara(),s=a.nodes(f.isPara,{includeAncestor:!0}),l=a.paraBookmark(s),c=i.clusterBy(s,n.peq2("parentNode"));if(i.find(s,f.isPurePara)){var u=[];t.each(c,function(t,n){u=u.concat(e.wrapList(n,o))}),s=u}else{var d=a.nodes(f.isList,{includeAncestor:!0}).filter(function(e){return!t.nodeName(e,o)});d.length?t.each(d,function(t,e){f.replace(e,o)}):s=this.releaseList(c,!0)}j.createFromParaBookmark(l,s).select()},this.wrapList=function(t,e){var n=i.head(t),o=i.last(t),r=f.isList(n.previousSibling)&&n.previousSibling,a=f.isList(o.nextSibling)&&o.nextSibling,s=r||f.insertAfter(f.create(e||"UL"),o);return t=t.map(function(t){return f.isPurePara(t)?f.replace(t,"LI"):t}),f.appendChildNodes(s,t),a&&(f.appendChildNodes(s,i.from(a.childNodes)),f.remove(a)),t},this.releaseList=function(e,n){var o=[];return t.each(e,function(e,r){var a=i.head(r),s=i.last(r),l=n?f.lastAncestor(a,f.isList):a.parentNode,c=l.childNodes.length>1?f.splitTree(l,{node:s.parentNode,offset:f.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,u=f.splitTree(l,{node:a.parentNode,offset:f.position(a)},{isSkipPaddingBlankHTML:!0});r=n?f.listDescendant(u,f.isLi):i.from(u.childNodes).filter(f.isLi),!n&&f.isList(l.parentNode)||(r=r.map(function(t){return f.replace(t,"P")})),t.each(i.from(r).reverse(),function(t,e){f.insertAfter(e,l)});var d=i.compact([l,u,c]);t.each(d,function(e,n){var i=[n].concat(f.listDescendant(n,f.isList));t.each(i.reverse(),function(t,e){f.nodeLength(e)||f.remove(e,!0)})}),o=o.concat(r)}),o}},W=function(){var e=new B;this.insertTab=function(t,e){var n=f.createText(new Array(e+1).join(f.NBSP_CHAR));t=t.deleteContents(),t.insertNode(n,!0),t=j.create(n,e),t.select()},this.insertParagraph=function(n){var i=j.create(n);i=i.deleteContents(),i=i.wrapBodyInlineWithPara();var o,r=f.ancestor(i.sc,f.isPara);if(r){if(f.isEmpty(r)&&f.isLi(r))return void e.toggleList(r.parentNode.nodeName);if(f.isEmpty(r)&&f.isPara(r)&&f.isBlockquote(r.parentNode))f.insertAfter(r,r.parentNode),o=r;else{o=f.splitTree(r,i.getStartPoint());var a=f.listDescendant(r,f.isEmptyAnchor);a=a.concat(f.listDescendant(o,f.isEmptyAnchor)),t.each(a,function(t,e){f.remove(e)}),(f.isHeading(o)||f.isPre(o))&&f.isEmpty(o)&&(o=f.replace(o,"p"))}}else{var s=i.sc.childNodes[i.so];o=t(f.emptyPara)[0],s?i.sc.insertBefore(o,s):i.sc.appendChild(o)}j.create(o,0).normalize().select().scrollIntoView(n)}},z=function(){this.tab=function(t,e){var n=f.ancestor(t.commonAncestor(),f.isCell),o=f.ancestor(n,f.isTable),r=f.listDescendant(o,f.isCell),a=i[e?"prev":"next"](r,n);a&&j.create(a,0).select()},this.createTable=function(e,n,i){for(var o,r=[],a=0;a<e;a++)r.push("<td>"+f.blank+"</td>");o=r.join("");for(var s,l=[],c=0;c<n;c++)l.push("<tr>"+o+"</tr>");s=l.join("");var u=t("<table>"+s+"</table>");return i&&i.tableClassName&&u.addClass(i.tableClassName),u[0]}},U="bogus",q=function(e){var n=this,o=e.layoutInfo.note,r=e.layoutInfo.editor,a=e.layoutInfo.editable,s=e.options,l=s.langInfo,c=a[0],u=null,h=new H,p=new z,m=new W,g=new B,v=new N(a);this.initialize=function(){a.on("keydown",function(t){t.keyCode===O.code.ENTER&&e.triggerEvent("enter",t),e.triggerEvent("keydown",t),s.shortcuts&&!t.isDefaultPrevented()&&n.handleKeyMap(t)}).on("keyup",function(t){e.triggerEvent("keyup",t)}).on("focus",function(t){e.triggerEvent("focus",t)}).on("blur",function(t){e.triggerEvent("blur",t)}).on("mousedown",function(t){e.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.triggerEvent("mouseup",t)}).on("scroll",function(t){e.triggerEvent("scroll",t)}).on("paste",function(t){e.triggerEvent("paste",t)}),a.html(f.html(o)||f.emptyPara);var t=d.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";a.on(t,function(){e.triggerEvent("change",a.html())}),r.on("focusin",function(t){e.triggerEvent("focusin",t)}).on("focusout",function(t){e.triggerEvent("focusout",t)}),!s.airMode&&s.height&&this.setHeight(s.height),!s.airMode&&s.maxHeight&&a.css("max-height",s.maxHeight),!s.airMode&&s.minHeight&&a.css("min-height",s.minHeight),v.recordUndo()},this.destroy=function(){a.off()},this.handleKeyMap=function(t){var n=s.keyMap[d.isMac?"mac":"pc"],i=[];t.metaKey&&i.push("CMD"),t.ctrlKey&&!t.altKey&&i.push("CTRL"),t.shiftKey&&i.push("SHIFT");var o=O.nameFromCode[t.keyCode];o&&i.push(o);var r=n[i.join("+")];r?(t.preventDefault(),e.invoke(r)):O.isEdit(t.keyCode)&&this.afterCommand()},this.createRange=function(){return this.focus(),j.create(c)},this.saveRange=function(t){u=this.createRange(),t&&u.collapse().select()},this.restoreRange=function(){u&&(u.select(),this.focus())},this.saveTarget=function(t){a.data("target",t)},this.clearTarget=function(){a.removeData("target")},this.restoreTarget=function(){return a.data("target")},this.currentStyle=function(){var t=j.create();return t&&(t=t.normalize()),t?h.current(t):h.fromNode(a)},this.styleFromNode=function(t){return h.fromNode(t)},this.undo=function(){e.triggerEvent("before.command",a.html()),v.undo(),e.triggerEvent("change",a.html())},e.memo("help.undo",l.help.undo),this.redo=function(){e.triggerEvent("before.command",a.html()),v.redo(),e.triggerEvent("change",a.html())},e.memo("help.redo",l.help.redo);for(var y=this.beforeCommand=function(){e.triggerEvent("before.command",a.html()),n.focus()},b=this.afterCommand=function(t){v.recordUndo(),t||e.triggerEvent("change",a.html())},w=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],k=0,x=w.length;k<x;k++)this[w[k]]=function(t){return function(e){y(),document.execCommand(t,!1,e),b(!0)}}(w[k]),e.memo("help."+w[k],l.help[w[k]]);this.tab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()?p.tab(t):(y(),m.insertTab(t,s.tabSize),b())},e.memo("help.tab",l.help.tab),this.untab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()&&p.tab(t,!0)},e.memo("help.untab",l.help.untab),this.wrapCommand=function(t){return function(){y(),t.apply(n,arguments),b()}},this.insertParagraph=this.wrapCommand(function(){m.insertParagraph(c)}),e.memo("help.insertParagraph",l.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){g.insertOrderedList(c)}),e.memo("help.insertOrderedList",l.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){g.insertUnorderedList(c)}),e.memo("help.insertUnorderedList",l.help.insertUnorderedList),this.indent=this.wrapCommand(function(){g.indent(c)}),e.memo("help.indent",l.help.indent),this.outdent=this.wrapCommand(function(){g.outdent(c)}),e.memo("help.outdent",l.help.outdent),this.insertImage=function(t,n){return R.createImage(t,n).then(function(t){y(),"function"==typeof n?n(t):("string"==typeof n&&t.attr("data-filename",n),t.css("width",Math.min(a.width(),t.width()))),t.show(),j.create(c).insertNode(t[0]),j.createFromNodeAfter(t[0]).select(),b()}).fail(function(t){e.triggerEvent("image.upload.error",t)})},this.insertImages=function(i){t.each(i,function(t,i){var o=i.name;s.maximumImageFileSize&&s.maximumImageFileSize<i.size?e.triggerEvent("image.upload.error",l.image.maximumFileSizeError):R.readFileAsDataURL(i).then(function(t){return n.insertImage(t,o)}).fail(function(){e.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(t){var n=s.callbacks;n.onImageUpload?e.triggerEvent("image.upload",t):this.insertImages(t)},this.insertNode=this.wrapCommand(function(t){var e=this.createRange();e.insertNode(t),j.createFromNodeAfter(t).select()}),this.insertText=this.wrapCommand(function(t){var e=this.createRange(),n=e.insertNode(f.createText(t));j.create(n,f.nodeLength(n)).select()}),this.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=j.createFromNode(f.ancestor(t.sc,f.isAnchor))),t.toString()},this.pasteHTML=this.wrapCommand(function(t){var e=this.createRange().pasteHTML(t);j.createFromNodeAfter(i.last(e)).select()}),this.formatBlock=this.wrapCommand(function(t){t=d.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t)}),this.formatPara=function(){this.formatBlock("P")},e.memo("help.formatPara",l.help.formatPara);for(var k=1;k<=6;k++)this["formatH"+k]=function(t){return function(){this.formatBlock("H"+t)}}(k),e.memo("help.formatH"+k,l.help["formatH"+k]);this.fontSize=function(e){var n=this.createRange();if(n&&n.isCollapsed()){var o=h.styleNodes(n),r=i.head(o);t(o).css({"font-size":e+"px"}),r&&!f.nodeLength(r)&&(r.innerHTML=f.ZERO_WIDTH_NBSP_CHAR,j.createFromNodeAfter(r.firstChild).select(),a.data(U,r))}else y(),t(h.styleNodes(n)).css({"font-size":e+"px"}),b()},this.insertHorizontalRule=this.wrapCommand(function(){var t=this.createRange().insertNode(f.create("HR"));t.nextSibling&&j.create(t.nextSibling,0).normalize().select()}),e.memo("help.insertHorizontalRule",l.help.insertHorizontalRule),this.removeBogus=function(){var t=a.data(U);if(t){var e=i.find(i.from(t.childNodes),f.isText),n=e.nodeValue.indexOf(f.ZERO_WIDTH_NBSP_CHAR);n!==-1&&e.deleteData(n,1),f.isEmpty(t)&&f.remove(t),a.removeData(U)}},this.lineHeight=this.wrapCommand(function(t){h.stylePara(this.createRange(),{lineHeight:t})}),this.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=f.ancestor(t.sc,f.isAnchor);t=j.createFromNode(e),t.select(),y(),document.execCommand("unlink"),b()}},this.createLink=this.wrapCommand(function(e){var n=e.url,o=e.text,r=e.isNewWindow,a=e.range||this.createRange(),l=a.toString()!==o;s.onCreateLink&&(n=s.onCreateLink(n));var c=[];if(l){a=a.deleteContents();var u=a.insertNode(t("<A>"+o+"</A>")[0]);c.push(u)}else c=h.styleNodes(a,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});t.each(c,function(e,i){t(i).attr("href",n),r?t(i).attr("target","_blank"):t(i).removeAttr("target")});var d=j.createFromNodeBefore(i.head(c)),p=d.getStartPoint(),f=j.createFromNodeAfter(i.last(c)),m=f.getEndPoint();j.create(p.node,p.offset,m.node,m.offset).select()}),this.getLinkInfo=function(){var e=this.createRange().expand(f.isAnchor),n=t(i.head(e.nodes(f.isAnchor)));return{range:e,text:e.toString(),isNewWindow:!!n.length&&"_blank"===n.attr("target"),url:n.length?n.attr("href"):""}},this.color=this.wrapCommand(function(t){var e=t.foreColor,n=t.backColor;e&&document.execCommand("foreColor",!1,e),n&&document.execCommand("backColor",!1,n)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x"),n=this.createRange().deleteContents();n.insertNode(p.createTable(e[0],e[1],s))}),this.floatMe=this.wrapCommand(function(e){var n=t(this.restoreTarget());n.css("float",e)}),this.resize=this.wrapCommand(function(e){var n=t(this.restoreTarget());n.css({width:100*e+"%",height:""})}),this.resizeTo=function(t,e,n){var i;if(n){var o=t.y/t.x,r=e.data("ratio");i={width:r>o?t.x:t.y/r,height:r>o?t.x*r:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=this.wrapCommand(function(){var n=t(this.restoreTarget()).detach();e.triggerEvent("media.delete",n,a)}),this.hasFocus=function(){return a.is(":focus")},this.focus=function(){this.hasFocus()||a.focus()},this.isEmpty=function(){return f.isEmpty(a[0])||f.emptyPara===a.html()},this.empty=function(){e.invoke("code",f.emptyPara)},this.setHeight=function(t){a.outerHeight(t)}},Y=function(e){var n=this,o=e.layoutInfo.editable;this.events={"summernote.keydown":function(t,i){n.needKeydownHook()&&(i.ctrlKey||i.metaKey)&&i.keyCode===O.code.V&&(e.invoke("editor.saveRange"),
n.$paste.focus(),setTimeout(function(){n.pasteByHook()},0))}},this.needKeydownHook=function(){return d.isMSIE&&d.browserVersion>10||d.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=t("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),o.before(this.$paste),this.$paste.on("paste",function(t){e.triggerEvent("paste",t)})):o.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var n=this.$paste[0].firstChild;if(f.isImg(n)){for(var i=n.src,o=atob(i.split(",")[1]),r=new Uint8Array(o.length),a=0;a<o.length;a++)r[a]=o.charCodeAt(a);var s=new Blob([r],{type:"image/png"});s.name="clipboard.png",e.invoke("editor.restoreRange"),e.invoke("editor.focus"),e.invoke("editor.insertImagesOrCallback",[s])}else{var l=t("<div />").html(this.$paste.html()).html();e.invoke("editor.restoreRange"),e.invoke("editor.focus"),l&&e.invoke("editor.pasteHTML",l)}this.$paste.empty()},this.pasteByEvent=function(t){var n=t.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var o=i.head(n.items);"file"===o.kind&&o.type.indexOf("image/")!==-1&&e.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),e.invoke("editor.afterCommand")}}},V=function(e){var n=t(document),i=e.layoutInfo.editor,o=e.layoutInfo.editable,r=e.options,a=r.langInfo,s=t(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(i);this.initialize=function(){r.disableDragAndDrop?n.on("drop",function(t){t.preventDefault()}):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var r=t(),l=s.find(".note-dropzone-message");n.on("dragenter",function(t){var n=e.invoke("codeview.isActivated"),o=i.width()>0&&i.height()>0;n||r.length||!o||(i.addClass("dragover"),s.width(i.width()),s.height(i.height()),l.text(a.image.dragImageHere)),r=r.add(t.target)}).on("dragleave",function(t){r=r.not(t.target),r.length||i.removeClass("dragover")}).on("drop",function(){r=t(),i.removeClass("dragover")}),s.on("dragenter",function(){s.addClass("hover"),l.text(a.image.dropImage)}).on("dragleave",function(){s.removeClass("hover"),l.text(a.image.dragImageHere)}),s.on("drop",function(n){var i=n.originalEvent.dataTransfer;i&&i.files&&i.files.length?(n.preventDefault(),o.focus(),e.invoke("editor.insertImagesOrCallback",i.files)):t.each(i.types,function(n,o){var r=i.getData(o);o.toLowerCase().indexOf("text")>-1?e.invoke("editor.pasteHTML",r):t(r).each(function(){e.invoke("editor.insertNode",this)})})}).on("dragover",!1)}};d.hasCodeMirror&&(d.isSupportAmd?require(["codemirror"],function(t){L=t}):L=window.CodeMirror);var G=function(t){var e=t.layoutInfo.editor,n=t.layoutInfo.editable,i=t.layoutInfo.codable,o=t.options;this.sync=function(){var t=this.isActivated();t&&d.hasCodeMirror&&i.data("cmEditor").save()},this.isActivated=function(){return e.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),t.triggerEvent("codeview.toggled")},this.activate=function(){if(i.val(f.html(n,o.prettifyHtml)),i.height(n.height()),t.invoke("toolbar.updateCodeview",!0),e.addClass("codeview"),i.focus(),d.hasCodeMirror){var r=L.fromTextArea(i[0],o.codemirror);if(o.codemirror.tern){var a=new L.TernServer(o.codemirror.tern);r.ternServer=a,r.on("cursorActivity",function(t){a.updateArgHints(t)})}r.setSize(null,n.outerHeight()),i.data("cmEditor",r)}},this.deactivate=function(){if(d.hasCodeMirror){var r=i.data("cmEditor");i.val(r.getValue()),r.toTextArea()}var a=f.value(i,o.prettifyHtml)||f.emptyPara,s=n.html()!==a;n.html(a),n.height(o.height?i.height():"auto"),e.removeClass("codeview"),s&&t.triggerEvent("change",n.html(),n),n.focus(),t.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},Q=24,K=function(e){var n=t(document),i=e.layoutInfo.statusbar,o=e.layoutInfo.editable,r=e.options;this.initialize=function(){r.airMode||r.disableResizeEditor||i.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var e=o.offset().top-n.scrollTop();n.on("mousemove",function(t){var n=t.clientY-(e+Q);n=r.minheight>0?Math.max(n,r.minheight):n,n=r.maxHeight>0?Math.min(n,r.maxHeight):n,o.height(n)}).one("mouseup",function(){n.off("mousemove")})})},this.destroy=function(){i.off()}},X=function(e){var n=e.layoutInfo.editor,i=e.layoutInfo.toolbar,o=e.layoutInfo.editable,r=e.layoutInfo.codable,a=t(window),s=t("html, body");this.toggle=function(){var t=function(t){o.css("height",t.h),r.css("height",t.h),r.data("cmeditor")&&r.data("cmeditor").setsize(null,t.h)};n.toggleClass("fullscreen"),this.isFullscreen()?(o.data("orgHeight",o.css("height")),a.on("resize",function(){t({h:a.height()-i.outerHeight()})}).trigger("resize"),s.css("overflow","hidden")):(a.off("resize"),t({h:o.data("orgHeight")}),s.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return n.hasClass("fullscreen")}},J=function(e){var n=this,i=t(document),o=e.layoutInfo.editingArea,r=e.options;this.events={"summernote.mousedown":function(t,e){n.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()}},this.initialize=function(){this.$handle=t(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',r.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',r.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(o),this.$handle.on("mousedown",function(t){if(f.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var o=n.$handle.find(".note-control-selection").data("target"),r=o.offset(),a=i.scrollTop();i.on("mousemove",function(t){e.invoke("editor.resizeTo",{x:t.clientX-r.left,y:t.clientY-(r.top-a)},o,!t.shiftKey),n.update(o[0])}).one("mouseup",function(t){t.preventDefault(),i.off("mousemove"),e.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(n){var i=f.isImg(n),o=this.$handle.find(".note-control-selection");if(e.invoke("imagePopover.update",n),i){var r=t(n),a=r.position(),s={w:r.outerWidth(!0),h:r.outerHeight(!0)};o.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",r);var l=s.w+"x"+s.h;o.find(".note-control-selection-info").text(l),e.invoke("editor.saveTarget",n)}else this.hide();return i},this.hide=function(){e.invoke("editor.clearTarget"),this.$handle.children().hide()}},Z=function(e){var n=this,o="http://",r=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||n.handleKeyup(e)},"summernote.keydown":function(t,e){n.handleKeydown(e)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var n=this.lastWordRange.toString(),i=n.match(r);if(i&&(i[1]||i[2])){var a=i[1]?n:o+n,s=t("<a />").html(n).attr("href",a)[0];this.lastWordRange.insertNode(s),this.lastWordRange=null,e.invoke("editor.focus")}}},this.handleKeydown=function(t){if(i.contains([O.code.ENTER,O.code.SPACE],t.keyCode)){var n=e.invoke("editor.createRange").getWordRange();this.lastWordRange=n}},this.handleKeyup=function(t){i.contains([O.code.ENTER,O.code.SPACE],t.keyCode)&&this.replace()}},tt=function(t){var e=t.layoutInfo.note;this.events={"summernote.change":function(){e.val(t.invoke("code"))}},this.shouldInitialize=function(){return f.isTextarea(e[0])}},et=function(e){var n=this,i=e.layoutInfo.editingArea,o=e.options;this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}},this.shouldInitialize=function(){return!!o.placeholder},this.initialize=function(){this.$placeholder=t('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.invoke("focus")}).text(o.placeholder).prependTo(i)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var t=!e.invoke("codeview.isActivated")&&e.invoke("editor.isEmpty");this.$placeholder.toggle(t)}},nt=function(e){var o=this,r=t.summernote.ui,a=e.layoutInfo.toolbar,s=e.options,l=s.langInfo,c=n.invertObject(s.keyMap[d.isMac?"mac":"pc"]),u=this.representShortcut=function(t){var e=c[t];return d.isMac&&(e=e.replace("CMD","\u2318").replace("SHIFT","\u21e7")),e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+e+")"};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(t){return o.fontInstalledMap.hasOwnProperty(t)||(o.fontInstalledMap[t]=d.isFontInstalled(t)||i.contains(s.fontNamesIgnoreCheck,t)),o.fontInstalledMap[t]},this.addToolbarButtons=function(){e.memo("button.style",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.magic)+" "+r.icon(s.icons.caret,"span"),tooltip:l.style.style,data:{toggle:"dropdown"}}),r.dropdown({className:"dropdown-style",items:e.options.styleTags,template:function(t){"string"==typeof t&&(t={tag:t,title:t});var e=t.tag,n=t.title,i=t.style?' style="'+t.style+'" ':"",o=t.className?' className="'+t.className+'"':"";return"<"+e+i+o+">"+n+"</"+e+">"},click:e.createInvokeHandler("editor.formatBlock")})]).render()}),e.memo("button.bold",function(){return r.button({className:"note-btn-bold",contents:r.icon(s.icons.bold),tooltip:l.font.bold+u("bold"),click:e.createInvokeHandler("editor.bold")}).render()}),e.memo("button.italic",function(){return r.button({className:"note-btn-italic",contents:r.icon(s.icons.italic),tooltip:l.font.italic+u("italic"),click:e.createInvokeHandler("editor.italic")}).render()}),e.memo("button.underline",function(){return r.button({className:"note-btn-underline",contents:r.icon(s.icons.underline),tooltip:l.font.underline+u("underline"),click:e.createInvokeHandler("editor.underline")}).render()}),e.memo("button.clear",function(){return r.button({contents:r.icon(s.icons.eraser),tooltip:l.font.clear+u("removeFormat"),click:e.createInvokeHandler("editor.removeFormat")}).render()}),e.memo("button.strikethrough",function(){return r.button({className:"note-btn-strikethrough",contents:r.icon(s.icons.strikethrough),tooltip:l.font.strikethrough+u("strikethrough"),click:e.createInvokeHandler("editor.strikethrough")}).render()}),e.memo("button.superscript",function(){return r.button({className:"note-btn-superscript",contents:r.icon(s.icons.superscript),tooltip:l.font.superscript,click:e.createInvokeHandler("editor.superscript")}).render()}),e.memo("button.subscript",function(){return r.button({className:"note-btn-subscript",contents:r.icon(s.icons.subscript),tooltip:l.font.subscript,click:e.createInvokeHandler("editor.subscript")}).render()}),e.memo("button.fontname",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+r.icon(s.icons.caret,"span"),tooltip:l.font.name,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontname",checkClassName:s.icons.menuCheck,items:s.fontNames.filter(o.isFontInstalled),template:function(t){return'<span style="font-family:'+t+'">'+t+"</span>"},click:e.createInvokeHandler("editor.fontName")})]).render()}),e.memo("button.fontsize",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+r.icon(s.icons.caret,"span"),tooltip:l.font.size,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontsize",checkClassName:s.icons.menuCheck,items:s.fontSizes,click:e.createInvokeHandler("editor.fontSize")})]).render()}),e.memo("button.color",function(){return r.buttonGroup({className:"note-color",children:[r.button({className:"note-current-color-button",contents:r.icon(s.icons.font+" note-recent-color"),tooltip:l.color.recent,click:function(n){var i=t(n.currentTarget);e.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");e.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),r.button({className:"dropdown-toggle",contents:r.icon(s.icons.caret,"span"),tooltip:l.color.more,data:{toggle:"dropdown"}}),r.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+l.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',l.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+l.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',l.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=t(this);e.append(r.palette({colors:s.colors,eventName:e.data("event")}).render())})},click:function(n){var i=t(n.target),o=i.data("event"),r=i.data("value");if(o&&r){var a="backColor"===o?"background-color":"color",s=i.closest(".note-color").find(".note-recent-color"),l=i.closest(".note-color").find(".note-current-color-button");s.css(a,r),l.attr("data-"+o,r),e.invoke("editor."+o,r)}}})]}).render()}),e.memo("button.ul",function(){return r.button({contents:r.icon(s.icons.unorderedlist),tooltip:l.lists.unordered+u("insertUnorderedList"),click:e.createInvokeHandler("editor.insertUnorderedList")}).render()}),e.memo("button.ol",function(){return r.button({contents:r.icon(s.icons.orderedlist),tooltip:l.lists.ordered+u("insertOrderedList"),click:e.createInvokeHandler("editor.insertOrderedList")}).render()});var i=r.button({contents:r.icon(s.icons.alignLeft),tooltip:l.paragraph.left+u("justifyLeft"),click:e.createInvokeHandler("editor.justifyLeft")}),a=r.button({contents:r.icon(s.icons.alignCenter),tooltip:l.paragraph.center+u("justifyCenter"),click:e.createInvokeHandler("editor.justifyCenter")}),c=r.button({contents:r.icon(s.icons.alignRight),tooltip:l.paragraph.right+u("justifyRight"),click:e.createInvokeHandler("editor.justifyRight")}),d=r.button({contents:r.icon(s.icons.alignJustify),tooltip:l.paragraph.justify+u("justifyFull"),click:e.createInvokeHandler("editor.justifyFull")}),h=r.button({contents:r.icon(s.icons.outdent),tooltip:l.paragraph.outdent+u("outdent"),click:e.createInvokeHandler("editor.outdent")}),p=r.button({contents:r.icon(s.icons.indent),tooltip:l.paragraph.indent+u("indent"),click:e.createInvokeHandler("editor.indent")});e.memo("button.justifyLeft",n.invoke(i,"render")),e.memo("button.justifyCenter",n.invoke(a,"render")),e.memo("button.justifyRight",n.invoke(c,"render")),e.memo("button.justifyFull",n.invoke(d,"render")),e.memo("button.outdent",n.invoke(h,"render")),e.memo("button.indent",n.invoke(p,"render")),e.memo("button.paragraph",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.alignLeft)+" "+r.icon(s.icons.caret,"span"),tooltip:l.paragraph.paragraph,data:{toggle:"dropdown"}}),r.dropdown([r.buttonGroup({className:"note-align",children:[i,a,c,d]}),r.buttonGroup({className:"note-list",children:[h,p]})])]).render()}),e.memo("button.height",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.textHeight)+" "+r.icon(s.icons.caret,"span"),tooltip:l.font.height,data:{toggle:"dropdown"}}),r.dropdownCheck({items:s.lineHeights,checkClassName:s.icons.menuCheck,className:"dropdown-line-height",click:e.createInvokeHandler("editor.lineHeight")})]).render()}),e.memo("button.table",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.table)+" "+r.icon(s.icons.caret,"span"),tooltip:l.table.table,data:{toggle:"dropdown"}}),r.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){var n=t.find(".note-dimension-picker-mousecatcher");n.css({width:s.insertTableMaxSize.col+"em",height:s.insertTableMaxSize.row+"em"}).mousedown(e.createInvokeHandler("editor.insertTable")).on("mousemove",o.tableMoveHandler)}}).render()}),e.memo("button.link",function(){return r.button({contents:r.icon(s.icons.link),tooltip:l.link.link,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.picture",function(){return r.button({contents:r.icon(s.icons.picture),tooltip:l.image.image,click:e.createInvokeHandler("imageDialog.show")}).render()}),e.memo("button.video",function(){return r.button({contents:r.icon(s.icons.video),tooltip:l.video.video,click:e.createInvokeHandler("videoDialog.show")}).render()}),e.memo("button.hr",function(){return r.button({contents:r.icon(s.icons.minus),tooltip:l.hr.insert+u("insertHorizontalRule"),click:e.createInvokeHandler("editor.insertHorizontalRule")}).render()}),e.memo("button.fullscreen",function(){return r.button({className:"btn-fullscreen",contents:r.icon(s.icons.arrowsAlt),tooltip:l.options.fullscreen,click:e.createInvokeHandler("fullscreen.toggle")}).render()}),e.memo("button.codeview",function(){return r.button({className:"btn-codeview",contents:r.icon(s.icons.code),tooltip:l.options.codeview,click:e.createInvokeHandler("codeview.toggle")}).render()}),e.memo("button.redo",function(){return r.button({contents:r.icon(s.icons.redo),tooltip:l.history.redo+u("redo"),click:e.createInvokeHandler("editor.redo")}).render()}),e.memo("button.undo",function(){return r.button({contents:r.icon(s.icons.undo),tooltip:l.history.undo+u("undo"),click:e.createInvokeHandler("editor.undo")}).render()}),e.memo("button.help",function(){return r.button({contents:r.icon(s.icons.question),tooltip:l.options.help,click:e.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){e.memo("button.imageSize100",function(){return r.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:l.image.resizeFull,click:e.createInvokeHandler("editor.resize","1")}).render()}),e.memo("button.imageSize50",function(){return r.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:l.image.resizeHalf,click:e.createInvokeHandler("editor.resize","0.5")}).render()}),e.memo("button.imageSize25",function(){return r.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:l.image.resizeQuarter,click:e.createInvokeHandler("editor.resize","0.25")}).render()}),e.memo("button.floatLeft",function(){return r.button({contents:r.icon(s.icons.alignLeft),tooltip:l.image.floatLeft,click:e.createInvokeHandler("editor.floatMe","left")}).render()}),e.memo("button.floatRight",function(){return r.button({contents:r.icon(s.icons.alignRight),tooltip:l.image.floatRight,click:e.createInvokeHandler("editor.floatMe","right")}).render()}),e.memo("button.floatNone",function(){return r.button({contents:r.icon(s.icons.alignJustify),tooltip:l.image.floatNone,click:e.createInvokeHandler("editor.floatMe","none")}).render()}),e.memo("button.removeMedia",function(){return r.button({contents:r.icon(s.icons.trash),tooltip:l.image.remove,click:e.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){e.memo("button.linkDialogShow",function(){return r.button({contents:r.icon(s.icons.link),tooltip:l.link.edit,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.unlink",function(){return r.button({contents:r.icon(s.icons.unlink),tooltip:l.link.unlink,click:e.createInvokeHandler("editor.unlink")}).render()})},this.build=function(t,n){for(var i=0,o=n.length;i<o;i++){for(var a=n[i],s=a[0],l=a[1],c=r.buttonGroup({className:"note-"+s}).render(),u=0,d=l.length;u<d;u++){var h=e.memo("button."+l[u]);h&&c.append("function"==typeof h?h(e):h)}c.appendTo(t)}},this.updateCurrentStyle=function(){var n=e.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var r=n["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),s=i.find(r,o.isFontInstalled);a.find(".dropdown-fontname li a").each(function(){var e=t(this).data("value")+""==s+"";this.className=e?"checked":""}),a.find(".note-current-fontname").text(s)}if(n["font-size"]){var l=n["font-size"];a.find(".dropdown-fontsize li a").each(function(){var e=t(this).data("value")+""==l+"";this.className=e?"checked":""}),a.find(".note-current-fontsize").text(l)}if(n["line-height"]){var c=n["line-height"];a.find(".dropdown-line-height li a").each(function(){var e=t(this).data("value")+""==c+"";this.className=e?"checked":""})}},this.updateBtnStates=function(e){t.each(e,function(t,e){r.toggleBtnActive(a.find(t),e())})},this.tableMoveHandler=function(e){var n,i=18,o=t(e.target.parentNode),r=o.next(),a=o.find(".note-dimension-picker-mousecatcher"),l=o.find(".note-dimension-picker-highlighted"),c=o.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var u=t(e.target).offset();n={x:e.pageX-u.left,y:e.pageY-u.top}}else n={x:e.offsetX,y:e.offsetY};var d={c:Math.ceil(n.x/i)||1,r:Math.ceil(n.y/i)||1};l.css({width:d.c+"em",height:d.r+"em"}),a.data("value",d.c+"x"+d.r),3<d.c&&d.c<s.insertTableMaxSize.col&&c.css({width:d.c+1+"em"}),3<d.r&&d.r<s.insertTableMaxSize.row&&c.css({height:d.r+1+"em"}),r.html(d.c+" x "+d.r)}},it=function(e){var n=t.summernote.ui,i=e.layoutInfo.note,o=e.layoutInfo.toolbar,r=e.options;this.shouldInitialize=function(){return!r.airMode},this.initialize=function(){r.toolbar=r.toolbar||[],r.toolbar.length?e.invoke("buttons.build",o,r.toolbar):o.hide(),r.toolbarContainer&&o.appendTo(r.toolbarContainer),i.on("summernote.keyup summernote.mouseup summernote.change",function(){e.invoke("buttons.updateCurrentStyle")}),e.invoke("buttons.updateCurrentStyle")},this.destroy=function(){o.children().remove()},this.updateFullscreen=function(t){n.toggleBtnActive(o.find(".btn-fullscreen"),t)},this.updateCodeview=function(t){n.toggleBtnActive(o.find(".btn-codeview"),t),t?this.deactivate():this.activate()},this.activate=function(t){var e=o.find("button");t||(e=e.not(".btn-codeview")),n.toggleBtn(e,!0)},this.deactivate=function(t){var e=o.find("button");t||(e=e.not(".btn-codeview")),n.toggleBtn(e,!1)}},ot=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,n='<div class="form-group"><label>'+a.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+a.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(r.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+a.link.openInNewWindow+"</label></div>"),s='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+a.link.insert+"</button>";this.$dialog=i.dialog({className:"link-dialog",title:a.link.insert,fade:r.dialogsFade,body:n,footer:s}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===O.code.ENTER&&e.trigger("click")})},this.showLinkDialog=function(o){return t.Deferred(function(t){var r=n.$dialog.find(".note-link-text"),a=n.$dialog.find(".note-link-url"),s=n.$dialog.find(".note-link-btn"),l=n.$dialog.find("input[type=checkbox]");i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),r.val(o.text),r.on("input",function(){i.toggleBtn(s,r.val()&&a.val()),o.text=r.val()}),o.url||(o.url=o.text||"http://",i.toggleBtn(s,o.text)),a.on("input",function(){i.toggleBtn(s,r.val()&&a.val()),o.text||r.val(a.val())}).val(o.url).trigger("focus"),n.bindEnterKey(a,s),n.bindEnterKey(r,s),l.prop("checked",o.isNewWindow),s.one("click",function(e){e.preventDefault(),t.resolve({range:o.range,url:a.val(),text:r.val(),isNewWindow:l.is(":checked")}),n.$dialog.modal("hide")})}),i.onDialogHidden(n.$dialog,function(){r.off("input keypress"),a.off("input keypress"),s.off("click"),"pending"===t.state()&&t.reject()}),i.showDialog(n.$dialog)}).promise()},this.show=function(){var t=e.invoke("editor.getLinkInfo");e.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.invoke("editor.restoreRange"),e.invoke("editor.createLink",t)}).fail(function(){e.invoke("editor.restoreRange")})},e.memo("help.linkDialog.show",r.langInfo.help["linkDialog.show"])},rt=function(e){var n=this,o=t.summernote.ui,r=e.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.dialog.shown":function(){n.hide()}},this.shouldInitialize=function(){return!i.isEmpty(r.popover.link)},this.initialize=function(){this.$popover=o.popover({className:"note-link-popover",callback:function(t){var e=t.find(".popover-content");e.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,r.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!e.invoke("editor.hasFocus"))return void this.hide();var n=e.invoke("editor.createRange");if(n.isCollapsed()&&n.isOnAnchor()){var i=f.ancestor(n.sc,f.isAnchor),o=t(i).attr("href");this.$popover.find("a").attr("href",o).html(o);var r=f.posFromPlaceholder(i);this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},at=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,n="";if(r.maximumImageFileSize){var s=Math.floor(Math.log(r.maximumImageFileSize)/Math.log(1024)),l=1*(r.maximumImageFileSize/Math.pow(1024,s)).toFixed(2)+" "+" KMGTP"[s]+"B";n="<small>"+a.image.maximumFileSize+" : "+l+"</small>"}var c='<div class="form-group note-group-select-from-files"><label>'+a.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+n+'</div><div class="form-group" style="overflow:auto;"><label>'+a.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',u='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+a.image.insert+"</button>";this.$dialog=i.dialog({title:a.image.insert,fade:r.dialogsFade,body:c,footer:u}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===O.code.ENTER&&e.trigger("click")})},this.show=function(){e.invoke("editor.saveRange"),this.showImageDialog().then(function(t){i.hideDialog(n.$dialog),e.invoke("editor.restoreRange"),"string"==typeof t?e.invoke("editor.insertImage",t):e.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.invoke("editor.restoreRange")})},this.showImageDialog=function(){return t.Deferred(function(t){var o=n.$dialog.find(".note-image-input"),r=n.$dialog.find(".note-image-url"),a=n.$dialog.find(".note-image-btn");i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(){t.resolve(this.files||this.value)}).val("")),a.click(function(e){e.preventDefault(),t.resolve(r.val())}),r.on("keyup paste",function(){var t=r.val();i.toggleBtn(a,t)}).val("").trigger("focus"),n.bindEnterKey(r,a)}),i.onDialogHidden(n.$dialog,function(){o.off("change"),r.off("keyup paste keypress"),a.off("click"),"pending"===t.state()&&t.reject()}),i.showDialog(n.$dialog)})}},st=function(e){var n=t.summernote.ui,o=e.options;this.shouldInitialize=function(){return!i.isEmpty(o.popover.image)},this.initialize=function(){this.$popover=n.popover({className:"note-image-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,o.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(t){if(f.isImg(t)){var e=f.posFromPlaceholder(t);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},lt=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,n='<div class="form-group row-fluid"><label>'+a.video.url+' <small class="text-muted">'+a.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+a.video.insert+"</button>";this.$dialog=i.dialog({title:a.video.insert,fade:r.dialogsFade,body:n,footer:s}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===O.code.ENTER&&e.trigger("click")})},this.createVideoNode=function(e){var n,i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,o=e.match(i),r=/\/\/instagram.com\/p\/(.[a-zA-Z0-9_-]*)/,a=e.match(r),s=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,l=e.match(s),c=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,u=e.match(c),d=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,h=e.match(d),p=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,f=e.match(p),m=/^.+.(mp4|m4v)$/,g=e.match(m),v=/^.+.(ogg|ogv)$/,y=e.match(v),b=/^.+.(webm)$/,w=e.match(b);if(o&&11===o[1].length){var k=o[1];n=t("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+k).attr("width","640").attr("height","360")}else if(a&&a[0].length)n=t("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(l&&l[0].length)n=t("<iframe>").attr("frameborder",0).attr("src",l[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(u&&u[3].length)n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+u[3]).attr("width","640").attr("height","360");else if(h&&h[2].length)n=t("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+h[2]).attr("width","640").attr("height","360");else if(f&&f[1].length)n=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1]);else{if(!(g||y||w))return!1;n=t("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return n.addClass("note-video-clip"),n[0]},this.show=function(){var t=e.invoke("editor.getSelectedText");e.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){i.hideDialog(n.$dialog),e.invoke("editor.restoreRange");var o=n.createVideoNode(t);o&&e.invoke("editor.insertNode",o)}).fail(function(){e.invoke("editor.restoreRange")})},this.showVideoDialog=function(o){return t.Deferred(function(t){var r=n.$dialog.find(".note-video-url"),a=n.$dialog.find(".note-video-btn");i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),r.val(o).on("input",function(){i.toggleBtn(a,r.val())}).trigger("focus"),a.click(function(e){e.preventDefault(),t.resolve(r.val())}),n.bindEnterKey(r,a)}),i.onDialogHidden(n.$dialog,function(){r.off("input"),a.off("click"),"pending"===t.state()&&t.reject()}),i.showDialog(n.$dialog)})}},ct=function(e){var n=this,i=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;
this.createShortCutList=function(){var n=r.keyMap[d.isMac?"mac":"pc"];return Object.keys(n).map(function(i){var o=n[i],r=t('<div><div class="help-list-item"/></div>');return r.append(t("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append(t("<span/>").html(e.memo("help."+o)||o)),r.html()}).join("")},this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,n=['<p class="text-center">','<a href="//summernote.org/" target="_blank">Summernote 0.8.1</a> \xb7 ','<a href="//github.com/summernote/summernote" target="_blank">Project</a> \xb7 ','<a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=i.dialog({title:a.options.help,fade:r.dialogsFade,body:this.createShortCutList(),footer:n,callback:function(t){t.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return t.Deferred(function(t){i.onDialogShown(n.$dialog,function(){e.triggerEvent("dialog.shown"),t.resolve()}),i.showDialog(n.$dialog)}).promise()},this.show=function(){e.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.invoke("editor.restoreRange")})}},ut=function(e){var o=this,r=t.summernote.ui,a=e.options,s=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){o.update()},"summernote.change summernote.dialog.shown":function(){o.hide()},"summernote.focusout":function(t,e){d.isFF||e.relatedTarget&&f.ancestor(e.relatedTarget,n.eq(o.$popover[0]))||o.hide()}},this.shouldInitialize=function(){return a.airMode&&!i.isEmpty(a.popover.air)},this.initialize=function(){this.$popover=r.popover({className:"note-air-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,a.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=e.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var o=i.last(t.range.getClientRects());if(o){var r=n.rect2bnd(o);this.$popover.css({display:"block",left:Math.max(r.left+r.width/2,0)-s,top:r.top+r.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},dt=function(e){var o=this,r=t.summernote.ui,a=5,s=e.options.hint||[],l=e.options.hintDirection||"bottom",c=t.isArray(s)?s:[s];this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)},"summernote.dialog.shown":function(){o.hide()}},this.shouldInitialize=function(){return c.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=r.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){o.$content.find(".active").removeClass("active"),t(this).addClass("active"),o.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var n=t.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},this.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var n=t.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},this.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var n=this.nodeFromItem(t);this.lastWordRange.insertNode(n),j.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),e.invoke("editor.focus")}},this.nodeFromItem=function(t){var e=c[t.data("index")],n=t.data("item"),i=e.content?e.content(n):n;return"string"==typeof i&&(i=f.createText(i)),i},this.createItemTemplates=function(e,n){var i=c[e];return n.map(function(n,o){var r=t('<div class="note-hint-item"/>');return r.append(i.template?i.template(n):n+""),r.data({index:e,item:n}),0===e&&0===o&&r.addClass("active"),r})},this.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===O.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===O.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===O.code.DOWN&&(t.preventDefault(),this.moveDown()))},this.searchKeyword=function(t,e,n){var i=c[t];if(i&&i.match.test(e)&&i.search){var o=i.match.exec(e);i.search(o[1],n)}else n()},this.createGroup=function(e,n){var i=t('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,n,function(t){t=t||[],t.length&&(i.html(o.createItemTemplates(e,t)),o.show())}),i},this.handleKeyup=function(t){if(i.contains([O.code.ENTER,O.code.UP,O.code.DOWN],t.keyCode)){if(t.keyCode===O.code.ENTER&&this.$popover.is(":visible"))return}else{var r=e.invoke("editor.createRange").getWordRange(),s=r.toString();if(c.length&&s){this.$content.empty();var u=n.rect2bnd(i.last(r.getClientRects()));u&&(this.$popover.hide(),this.lastWordRange=r,c.forEach(function(t,e){t.match.test(s)&&o.createGroup(e,s).appendTo(o.$content)}),"top"===l?this.$popover.css({left:u.left,top:u.top-this.$popover.outerHeight()-a}):this.$popover.css({left:u.left,top:u.top+u.height+a}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};t.summernote=t.extend(t.summernote,{version:"0.8.1",ui:F,plugins:{},options:{modules:{editor:q,clipboard:Y,dropzone:V,codeview:G,statusbar:K,fullscreen:X,handle:J,hintPopover:dt,autoLink:Z,autoSync:tt,placeholder:et,buttons:nt,toolbar:it,linkDialog:ot,linkPopover:rt,imageDialog:at,imagePopover:st,videoDialog:lt,helpDialog:ct,airPopover:ut},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onSubmit:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function n(n,r,s){function l(t,e,i){var o,r="$()."+n+'("'+e+'")';return t.each(function(t,l){var c=s.data(l,n);if(!c)return void a(n+" not initialized. Cannot call methods, i.e. "+r);var u=c[e];if(!u||"_"==e.charAt(0))return void a(r+" is not a valid method");var d=u.apply(c,i);o=void 0===o?d:o}),void 0!==o?o:t}function c(t,e){t.each(function(t,i){var o=s.data(i,n);o?(o.option(e),o._init()):(o=new r(i,e),s.data(i,n,o))})}s=s||e||t.jQuery,s&&(r.prototype.option||(r.prototype.option=function(t){s.isPlainObject(t)&&(this.options=s.extend(!0,this.options,t))}),s.fn[n]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return l(this,t,e)}return c(this,t),this},i(s))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var o=Array.prototype.slice,r=t.console,a="undefined"==typeof r?function(){}:function(t){r.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return i.indexOf(e)==-1&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},i=n[t]=n[t]||{};return i[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return i!=-1&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var a=r&&r[o];a&&(this.off(t,o),delete r[o]),o.apply(this,e),i+=a?0:1,o=n[i]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),n=t.indexOf("%")==-1&&!isNaN(e);return n&&e}function e(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<c;e++){var n=l[e];t[n]=0}return t}function i(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var o=i(e);r.isBoxSizeOuter=a=200==t(o.width),n.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=i(e);if("none"==r.display)return n();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var u=s.isBorderBox="border-box"==r.boxSizing,d=0;d<c;d++){var h=l[d],p=r[h],f=parseFloat(p);s[h]=isNaN(f)?0:f}var m=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,y=s.marginTop+s.marginBottom,b=s.borderLeftWidth+s.borderRightWidth,w=s.borderTopWidth+s.borderBottomWidth,k=u&&a,x=t(r.width);x!==!1&&(s.width=x+(k?0:m+b));var C=t(r.height);return C!==!1&&(s.height=C+(k?0:g+w)),s.innerWidth=s.width-(m+b),s.innerHeight=s.height-(g+w),s.outerWidth=s.width+v,s.outerHeight=s.height+y,s}}var a,s="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n],o=i+"MatchesSelector";if(t[o])return o}}();return function(e,n){return e[t](n)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var n={};n.extend=function(t,e){for(var n in e)t[n]=e[n];return t},n.modulo=function(t,e){return(t%e+e)%e},n.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e},n.removeFrom=function(t,e){var n=t.indexOf(e);n!=-1&&t.splice(n,1)},n.getParent=function(t,n){for(;t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!i)return void o.push(t);e(t,i)&&o.push(t);for(var n=t.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}}),o},n.debounceMethod=function(t,e,n){var i=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,e),delete r[o]},n||100)}},n.docReady=function(t){"complete"==document.readyState?t():document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var i=t.console;return n.htmlInit=function(e,o){n.docReady(function(){var r=n.toDashed(o),a="data-"+r,s=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+r),c=n.makeArray(s).concat(n.makeArray(l)),u=a+"-options",d=t.jQuery;c.forEach(function(t){var n,r=t.getAttribute(a)||t.getAttribute(u);try{n=r&&JSON.parse(r)}catch(e){return void(i&&i.error("Error parsing "+a+" on "+t.className+": "+e))}var s=new e(t,n);d&&d.data(t,o,s)})})},n}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function n(t){for(var e in t)return!1;return e=null,!0}function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var r=document.documentElement.style,a="string"==typeof r.transition?"transition":"WebkitTransition",s="string"==typeof r.transform?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],c={transform:s,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"},u=i.prototype=Object.create(t.prototype);u.constructor=i,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.getSize=function(){this.size=e(this.element)},u.css=function(t){var e=this.element.style;for(var n in t){var i=c[n]||n;e[i]=t[n]}},u.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],o=t[n?"top":"bottom"],r=this.layout.size,a=i.indexOf("%")!=-1?parseFloat(i)/100*r.width:parseInt(i,10),s=o.indexOf("%")!=-1?parseFloat(o)/100*r.height:parseInt(o,10);a=isNaN(a)?0:a,s=isNaN(s)?0:s,a-=e?r.paddingLeft:r.paddingRight,s-=n?r.paddingTop:r.paddingBottom,this.position.x=a,this.position.y=s},u.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",a=n?"right":"left",s=this.position.x+t[o];e[r]=this.getXValue(s),e[a]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",u=i?"bottom":"top",d=this.position.y+t[l];e[c]=this.getYValue(d),e[u]="",this.css(e),this.emitEvent("layout",[this])},u.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},u.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},u._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),a=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var s=t-n,l=e-i,c={};c.transform=this.getTranslate(s,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(t,e){var n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop");return t=n?t:-t,e=i?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},u.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},u._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},u.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var d="opacity,"+o(s);u.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},u.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},u.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};u.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=h[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var o=e.onEnd[i];o.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},u._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var p={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(p)},u.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("visibleStyle");e[n]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},u.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");e[n]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,o,r){return e(t,n,i,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,o){"use strict";function r(t,e){var n=i.getQueryElement(t);if(!n)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(n||t)));this.element=n,c&&(this.$element=c(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var o=++d;this.element.outlayerGUID=o,h[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function s(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];if(!n.length)return 0;n=parseFloat(n);var o=f[i]||1;return n*o}var l=t.console,c=t.jQuery,u=function(){},d=0,h={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var p=r.prototype;i.extend(p,e.prototype),p.option=function(t){i.extend(this.options,t)},p._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},p._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},p.reloadItems=function(){this.items=this._itemize(this.element.children)},p._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0;o<e.length;o++){var r=e[o],a=new n(r,this);i.push(a)}return i},p._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},p.getItemElements=function(){return this.items.map(function(t){return t.element})},p.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},p._init=p.layout,p._resetLayout=function(){this.getSize()},p.getSize=function(){this.size=n(this.element)},p._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[t]=i?n(i)[e]:o):this[t]=0},p.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},p._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},p._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach(function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},p._getItemLayoutPosition=function(){return{x:0,y:0}},p._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},p.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=s(t),this.stagger)},p._positionItem=function(t,e,n,i,o){i?t.goTo(e,n):(t.stagger(o*this.stagger),t.moveTo(e,n))},p._postLayout=function(){this.resizeContainer()},p.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},p._getContainerSize=u,p._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},p._emitCompleteOnItems=function(t,e){function n(){o.dispatchEvent(t+"Complete",null,[e])}function i(){a++,a==r&&n()}var o=this,r=e.length;if(!e||!r)return void n();var a=0;e.forEach(function(e){e.once(t,i)})},p.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),c)if(this.$element=this.$element||c(this.element),e){var o=c.Event(e);o.type=t,this.$element.trigger(o,n)}else this.$element.trigger(t,n)},p.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},p.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},p.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},p.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},p._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)},p._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},p._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},p._manageStamp=u,p._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=n(t),r={left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom};return r},p.handleEvent=i.handleEvent,p.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},p.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},p.onresize=function(){this.resize()},i.debounceMethod(r,"onresize",100),p.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},p.needsResizeLayout=function(){var t=n(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},p.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},p.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},p.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},p.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.reveal()})}},p.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.hide()})}},p.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},p.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},p.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},p.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach(function(t){var n=this.getItem(t);n&&e.push(n)},this),e},p.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},p.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=i.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&h[e]},r.create=function(t,e){var n=a(r);return n.defaults=i.extend({},r.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},r.compatOptions),n.namespace=t,n.data=r.data,n.Item=a(o),i.htmlInit(n,t),c&&c.bridget&&c.bridget(t,n),n};var f={ms:1,s:1e3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var n=t.create("masonry");return n.compatOptions.fitWidth="isFitWidth",n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,a=i-o%i,s=a&&a<1?"round":"floor";r=Math[s](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),n=t?this.element.parentNode:this.element,i=e(n);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&e<1?"round":"ceil",i=Math[n](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var o=this._getColGroup(i),r=Math.min.apply(Math,o),a=o.indexOf(r),s={x:this.columnWidth*a,
y:r},l=r+t.size.outerHeight,c=this.cols+1-o.length,u=0;u<c;u++)this.colYs[a+u]=l;return s},n.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++){var o=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?i.left:i.right,a=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var l=Math.floor(a/this.columnWidth);l-=a%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var c=this._getOption("originTop"),u=(c?i.top:i.bottom)+n.outerHeight,d=s;d<=l;d++)this.colYs[d]=Math.max(u,this.colYs[d])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){"use strict";function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=i(t),this.options=n({},this.options),"function"==typeof e?r=e:n(this.options,e),r&&this.on("always",r),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}var s=t.jQuery,l=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}}};var c={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,t),i=n.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var n=new a(t,e);this.images.push(n)},o.prototype.check=function(){function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype=Object.create(r.prototype),a.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(s=e,s.fn.imagesLoaded=function(t,e){var n=new o(this,t,e);return n.jqDeferred.promise(s(this))})},o.makeJQueryPlugin(),o}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,n=Array.prototype.slice;return t.cleanData=function(e){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{i=t._data(o,"events"),i&&i.remove&&t(o).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var o,r,a,s,l={},c=e.split(".")[0];return e=e.split(".")[1],o=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},r=t[c][e],a=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}()):void(l[e]=i)}),a.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},l,{constructor:a,namespace:c,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,o,r=n.call(arguments,1),a=0,s=r.length;a<s;a++)for(i in r[a])o=r[a][i],r[a].hasOwnProperty(i)&&void 0!==o&&(t.isPlainObject(o)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):e[i]=o);return e},t.widget.bridge=function(e,i){var o=i.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=n.call(arguments,1),l=this;return a?this.each(function(){var n,i=t.data(this,o);return"instance"===r?(l=i,!1):i?t.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,s),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new i(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,a){function s(){if(e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,s):n.bind(c,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?o===!0||"number"==typeof o?n:o.effect||n:e;o=o||{},"number"==typeof o&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}}),t.widget}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var o=i.dataTransfer;o&&t.inArray("Files",o.types)!==-1&&this._trigger(e,t.Event(e,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(o.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),e},formData:function(t){return t.serializeArray()},add:function(e,n){return!e.isDefaultPrevented()&&void((n.autoUpload||n.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,o=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&o-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=o,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(o,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,o=e.files[0],r=e.multipart||!t.support.xhrFileUpload,a="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),r&&!e.blob&&this._isInstanceOf("File",o)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),r?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:a,value:e.blob}):t.each(e.files,function(i,o){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||a,value:o})})):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?n.append(a,e.blob,o.name):t.each(e.files,function(o,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append("array"===t.type(e.paramName)&&e.paramName[o]||a,r,r.uploadName||r.name)})),e.data=n):(e.contentType=o.type||"application/octet-stream",e.data=e.blob||o),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)i.push(n),o-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var o=t.Deferred(),r=o.promise();return n=n||this.options.context||r,e===!0?o.resolveWith(n,i):e===!1&&o.rejectWith(n,i),r.abort=o.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,n){var i=this,o=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,r){return(e||r)&&(n._processQueue=this._processQueue=(this._processQueue||o([this])).then(function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():o(arguments)}).then(e,r)),this._processQueue||o([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,o,r=this,a=e.files[0],s=a.size,l=e.uploadedBytes,c=e.maxChunkSize||s,u=this._blobSlice,d=t.Deferred(),h=d.promise();return!(!(this._isXHRUpload(e)&&u&&(l||c<s))||e.data)&&(!!n||(l>=s?(a.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",a.error])):(o=function(){var n=t.extend({},e),h=n._progress.loaded;n.blob=u.call(a,l,l+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),i=(r._trigger("chunksend",null,n)!==!1&&t.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,a,c){l=r._getUploadedBytes(c)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&r._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=a,n.jqXHR=c,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),l<s?o():d.resolveWith(n.context,[i,a,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),d.rejectWith(n.context,[t,e,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},o(),h)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,o){var r=o._progress.total,a=o._response;o._progress.loaded<r&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:r,total:r}),o),a.result=o.result=e,a.textStatus=o.textStatus=n,a.jqXHR=o.jqXHR=i,this._trigger("done",null,o)},_onFail:function(t,e,n,i){var o=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),o.jqXHR=i.jqXHR=t,o.textStatus=i.textStatus=e,o.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,o,r,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((o||s._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){s._onDone(t,e,n,l)}).fail(function(t,e,n){s._onFail(t,e,n,l)}).always(function(t,e,n){if(s._onAlways(t,e,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=t.Deferred(),this._slots.push(r),a=r.then(c)):(this._sequence=this._sequence.then(c,c),a=this._sequence),a.abort=function(){return o=[void 0,"abort","abort"],i?i.abort():(r&&r.rejectWith(l.context,o),c())},this._enhancePromise(a)):c()},_onAdd:function(e,n){var i,o,r,a,s=this,l=!0,c=t.extend({},this.options,n),u=n.files,d=u.length,h=c.limitMultiFileUploads,p=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!d)return!1;if(p&&void 0===u[0].size&&(p=void 0),(c.singleFileUploads||h||p)&&this._isXHRUpload(c))if(c.singleFileUploads||p||!h)if(!c.singleFileUploads&&p)for(r=[],i=[],a=0;a<d;a+=1)m+=u[a].size+f,(a+1===d||m+u[a+1].size+f>p||h&&a+1-v>=h)&&(r.push(u.slice(v,a+1)),o=g.slice(v,a+1),o.length||(o=g),i.push(o),v=a+1,m=0);else i=g;else for(r=[],i=[],a=0;a<d;a+=h)r.push(u.slice(a,a+h)),o=g.slice(a,a+h),o.length||(o=g),i.push(o);else r=[u],i=[g];return n.originalFiles=u,t.each(r||u,function(o,a){var c=t.extend({},n);return c.files=r?a:[a],c.paramName=i[o],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(e,c),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),c)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),o=n.is(document.activeElement);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),o&&i.focus(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,o=this,r=t.Deferred(),a=function(t){t&&!t.entry&&(t.entry=e),r.resolve([t])},s=function(t){o._handleFileTreeEntries(t,n+e.name+"/").done(function(t){r.resolve(t)}).fail(a)},l=function(){i.readEntries(function(t){t.length?(c=c.concat(t),l()):s(c)},a)},c=[];return n=n||"",e.isFile?e._file?(e._file.relativePath=n,r.resolve(e._file)):e.file(function(t){t.relativePath=n,r.resolve(t)},a):e.isDirectory?(i=e.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,o=e.prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(o){i.files=o,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",t.Event("change",{delegatedEvent:e}),i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)!==!1&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,o={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){o.files=i,n._trigger("drop",t.Event("drop",{delegatedEvent:e}),o)!==!1&&n._onAdd(e,o)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=t.inArray(e,this._specialOptions)!==-1;i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,function(t,o){var r,a=o.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),r=i[a],e._isRegExpOption(a,r)&&(r=e._getRegExp(r)),n[a]=r)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,o=this,r=t.Deferred(),a=r.promise();return a.abort=function(){return i=!0,n?n.abort():(r.reject(null,"abort","abort"),a)},this._getFileInputFiles(e.fileInput).always(function(t){if(!i){if(!t.length)return void r.reject();e.files=t,n=o._onSend(null,e),n.then(function(t,e,n){r.resolve(t,e,n)},function(t,e,n){r.reject(t,e,n)})}}),this._enhancePromise(a)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(){var t=[].slice;!function(e,n){"use strict";var i;return i=function(){function t(t,n){null==n&&(n={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},n),this.$wrapper=e("<div>",{"class":function(t){return function(){var e;return e=[""+t.options.baseClass].concat(t._getClasses(t.options.wrapperClass)),e.push(t.options.state?""+t.options.baseClass+"-on":""+t.options.baseClass+"-off"),null!=t.options.size&&e.push(""+t.options.baseClass+"-"+t.options.size),t.options.disabled&&e.push(""+t.options.baseClass+"-disabled"),t.options.readonly&&e.push(""+t.options.baseClass+"-readonly"),t.options.indeterminate&&e.push(""+t.options.baseClass+"-indeterminate"),t.options.inverse&&e.push(""+t.options.baseClass+"-inverse"),t.$element.attr("id")&&e.push(""+t.options.baseClass+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)()}),this.$container=e("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=e("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=e("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=e("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(e){return function(){return e.options.onInit.apply(t,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(e){return function(){return e.options.onSwitchChange.apply(t,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),
this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return t.prototype._constructor=t,t.prototype.state=function(t,e){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(""+this.options.baseClass+"-"+t),this._width(),this._containerPosition(),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,t===this.options.animate?this.$element:this.toggleAnimate())},t.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,t===this.options.disabled?this.$element:this.toggleDisabled())},t.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,t===this.options.readonly?this.$element:this.toggleReadonly())},t.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},t.prototype.indeterminate=function(t){return"undefined"==typeof t?this.options.indeterminate:(t=!!t,t===this.options.indeterminate?this.$element:this.toggleIndeterminate())},t.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},t.prototype.inverse=function(t){return"undefined"==typeof t?this.options.inverse:(t=!!t,t===this.options.inverse?this.$element:this.toggleInverse())},t.prototype.toggleInverse=function(){var t,e;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),e=this.$on.clone(!0),t=this.$off.clone(!0),this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(""+this.options.baseClass+"-"+e),this.$on.addClass(""+this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(""+this.options.baseClass+"-"+e),this.$off.addClass(""+this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)},t.prototype.handleWidth=function(t){return"undefined"==typeof t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.labelWidth=function(t){return"undefined"==typeof t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.baseClass=function(){return this.options.baseClass},t.prototype.wrapperClass=function(t){return"undefined"==typeof t?this.options.wrapperClass:(t||(t=e.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return"undefined"==typeof t?this.options.radioAllOff:(t=!!t,t===this.options.radioAllOff?this.$element:(this.options.radioAllOff=t,this.$element))},t.prototype.onInit=function(t){return"undefined"==typeof t?this.options.onInit:(t||(t=e.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return"undefined"==typeof t?this.options.onSwitchChange:(t||(t=e.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._width=function(){var t,e;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),e="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(e),this.$label.width(function(t){return function(n,i){return"auto"!==t.options.labelWidth?t.options.labelWidth:i<e?e:i}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},t.prototype._containerPosition=function(t,e){if(null==t&&(t=this.options.state),this.$container.css("margin-left",function(e){return function(){var n;return n=[0,"-"+e._handleWidth+"px"],e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?n[1]:n[0]:e.options.inverse?n[0]:n[1]}}(this)),e)return setTimeout(function(){return e()},50)},t.prototype._init=function(){var t,e;return t=function(t){return function(){return t._width(),t._containerPosition(null,function(){if(t.options.animate)return t.$wrapper.addClass(""+t.options.baseClass+"-animate")})}}(this),this.$wrapper.is(":visible")?t():e=n.setInterval(function(i){return function(){if(i.$wrapper.is(":visible"))return t(),n.clearInterval(e)}}(this),50)},t.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(t){return function(n,i){var o;if(n.preventDefault(),n.stopImmediatePropagation(),o=t.$element.is(":checked"),t._containerPosition(o),o!==t.options.state)return t.options.state=o,t.$wrapper.toggleClass(""+t.options.baseClass+"-off").toggleClass(""+t.options.baseClass+"-on"),i?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[o]))}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.addClass(""+t.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.removeClass(""+t.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly)switch(e.which){case 37:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){return function(e){if(!(t._dragStart||t.options.disabled||t.options.readonly))return e.preventDefault(),e.stopPropagation(),t._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(""+t.options.baseClass+"-animate"),t.$element.trigger("focus.bootstrapSwitch")}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){return function(e){var n;if(null!=t._dragStart&&(e.preventDefault(),n=(e.pageX||e.originalEvent.touches[0].pageX)-t._dragStart,!(n<-t._handleWidth||n>0)))return t._dragEnd=n,t.$container.css("margin-left",""+t._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){return function(e){var n;if(t._dragStart)return e.preventDefault(),t.options.animate&&t.$wrapper.addClass(""+t.options.baseClass+"-animate"),t._dragEnd?(n=t._dragEnd>-(t._handleWidth/2),t._dragEnd=!1,t.state(t.options.inverse?!n:n)):t.state(!t.options.state),t._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(t){return function(){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},t.prototype._externalLabelHandler=function(){var t;return t=this.$element.closest("label"),t.on("click",function(e){return function(n){if(n.preventDefault(),n.stopImmediatePropagation(),n.target===t[0])return e.toggleState()}}(this))},t.prototype._formHandler=function(){var t;if(t=this.$element.closest("form"),!t.data("bootstrap-switch"))return t.on("reset.bootstrapSwitch",function(){return n.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var n,i,o,r;if(!e.isArray(t))return[""+this.options.baseClass+"-"+t];for(i=[],o=0,r=t.length;o<r;o++)n=t[o],i.push(""+this.options.baseClass+"-"+n);return i},t}(),e.fn.bootstrapSwitch=function(){var n,o,r;return o=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],r=this,this.each(function(){var t,a;if(t=e(this),a=t.data("bootstrap-switch"),a||t.data("bootstrap-switch",a=new i(this,o)),"string"==typeof o)return r=a[o].apply(a,n)}),r},e.fn.bootstrapSwitch.Constructor=i,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),function(t){"use strict";var e,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',o=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],r=t(i).data("autosize",!0)[0];r.style.lineHeight="99px","99px"===t(r).css("lineHeight")&&o.push("lineHeight"),r.style.lineHeight="",t.fn.autosize=function(i){return this.length?(i=t.extend({},n,i||{}),r.parentNode!==document.body&&t(document.body).append(r),this.each(function(){function n(){var e,n=!!window.getComputedStyle&&window.getComputedStyle(h,null);n?(e=h.getBoundingClientRect().width,0!==e&&"number"==typeof e||(e=parseInt(n.width,10)),t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,i){e-=parseInt(n[i],10)})):e=p.width(),r.style.width=Math.max(e,0)+"px"}function a(){var a={};if(e=h,r.className=i.className,r.id=i.id,c=parseInt(p.css("maxHeight"),10),t.each(o,function(t,e){a[e]=p.css(e)}),t(r).css(a).attr("wrap",p.attr("wrap")),n(),window.chrome){var s=h.style.width;h.style.width="0px";h.offsetWidth;h.style.width=s}}function s(){var t,o;e!==h?a():n(),!h.value&&i.placeholder?r.value=(p.attr("placeholder")||"")+i.append:r.value=h.value+i.append,r.style.overflowY=h.style.overflowY,o=parseInt(h.style.height,10),r.scrollTop=0,r.scrollTop=9e4,t=r.scrollTop,c&&t>c?(h.style.overflowY="scroll",t=c):(h.style.overflowY="hidden",t<u&&(t=u)),t+=f,o!==t&&(h.style.height=t+"px",m&&i.callback.call(h,h))}function l(){clearTimeout(d),d=setTimeout(function(){var t=p.width();t!==v&&(v=t,s())},parseInt(i.resizeDelay,10))}var c,u,d,h=this,p=t(h),f=0,m=t.isFunction(i.callback),g={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},v=p.width(),y=p.css("resize");p.data("autosize")||(p.data("autosize",!0),"border-box"!==p.css("box-sizing")&&"border-box"!==p.css("-moz-box-sizing")&&"border-box"!==p.css("-webkit-box-sizing")||(f=p.outerHeight()-p.height()),u=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===y?p.css("resize","none"):"both"===y&&p.css("resize","horizontal"),"onpropertychange"in h?"oninput"in h?p.on("input.autosize keyup.autosize",s):p.on("propertychange.autosize",function(){"value"===event.propertyName&&s()}):p.on("input.autosize",s),i.resizeDelay!==!1&&t(window).on("resize.autosize",l),p.on("autosize.resize",s),p.on("autosize.resizeIncludeStyle",function(){e=null,s()}),p.on("autosize.destroy",function(){e=null,clearTimeout(d),t(window).off("resize",l),p.off("autosize").off(".autosize").css(g).removeData("autosize")}),s())})):this}}(window.jQuery||window.$),BestInPlaceEditor.prototype={activate:function(){"use strict";var t;if(this.isPlaceHolder())t="";else if(this.original_content)t=this.original_content;else switch(this.formType){case"input":case"textarea":if(this.display_raw)t=this.element.html().replace(/&amp;/gi,"&");else{var e=this.element.data("bipValue");t="undefined"==typeof e?"":"string"==typeof e?this.element.data("bipValue").replace(/&amp;/gi,"&"):this.element.data("bipValue")}break;case"select":t=this.element.html()}this.oldValue=this.isPlaceHolder()?"":this.element.html(),this.display_value=t,jQuery(this.activator).unbind("click",this.clickHandler),this.activateForm(),this.element.trigger(jQuery.Event("best_in_place:activate"))},abort:function(){"use strict";this.activateText(this.oldValue),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:abort")),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},abortIfConfirm:function(){"use strict";return this.useConfirm?void(confirm(BestInPlaceEditor.defaults.locales[""].confirmMessage)&&this.abort()):void this.abort()},update:function(){"use strict";var t=this,e=this.getValue();if(this.formType in{input:1,textarea:1}&&e===this.oldValue)return this.abort(),!0;switch(t.ajax({type:BestInPlaceEditor.defaults.ajaxMethod,dataType:BestInPlaceEditor.defaults.ajaxDataType,data:t.requestData(),success:function(e,n,i){t.loadSuccessCallback(e,n,i)},error:function(e,n){t.loadErrorCallback(e,n)}}),this.formType){case"select":this.previousCollectionValue=e,t.element.html(this.arrayToObject(this.values)[e]);break;case"checkbox":t.element.html(this.arrayToObject(this.values)[e]);break;default:""!==e?this.display_raw?t.element.html(e):t.element.text(e):t.element.html(this.placeHolder)}t.element.data("bipValue",e),t.element.trigger(jQuery.Event("best_in_place:update"))},activateForm:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},activateText:function(t){"use strict";this.element.html(t),this.isPlaceHolder()&&this.element.html(this.placeHolder)},initOptions:function(){"use strict";var t=this;t.element.parents().each(function(){var e=jQuery(this);t.url=t.url||e.data("bipUrl"),t.activator=t.activator||e.data("bipActivator"),t.okButton=t.okButton||e.data("bipOkButton"),t.okButtonClass=t.okButtonClass||e.data("bipOkButtonClass"),t.cancelButton=t.cancelButton||e.data("bipCancelButton"),t.cancelButtonClass=t.cancelButtonClass||e.data("bipCancelButtonClass")}),t.url=t.element.data("bipUrl")||t.url||document.location.pathname,t.collection=t.element.data("bipCollection")||t.collection,t.formType=t.element.data("bipType")||"input",t.objectName=t.element.data("bipObject")||t.objectName,t.attributeName=t.element.data("bipAttribute")||t.attributeName,t.activator=t.element.data("bipActivator")||t.element,t.okButton=t.element.data("bipOkButton")||t.okButton,t.okButtonClass=t.element.data("bipOkButtonClass")||t.okButtonClass||BestInPlaceEditor.defaults.okButtonClass,t.cancelButton=t.element.data("bipCancelButton")||t.cancelButton,t.cancelButtonClass=t.element.data("bipCancelButtonClass")||t.cancelButtonClass||BestInPlaceEditor.defaults.cancelButtonClass,null==t.element.data("bipPlaceholder")?t.placeHolder=BestInPlaceEditor.defaults.locales[""].placeHolder:t.placeHolder=t.element.data("bipPlaceholder"),t.inner_class=t.element.data("bipInnerClass"),t.html_attrs=t.element.data("bipHtmlAttrs"),t.original_content=t.element.data("bipOriginalContent")||t.original_content,t.display_raw=t.element.data("bip-raw"),t.useConfirm=t.element.data("bip-confirm"),"select"!==t.formType&&"checkbox"!==t.formType||(t.values=t.collection,t.collectionValue=t.element.data("bipValue")||t.collectionValue)},bindForm:function(){"use strict";this.activateForm=BestInPlaceEditor.forms[this.formType].activateForm,this.getValue=BestInPlaceEditor.forms[this.formType].getValue},initPlaceHolder:function(){"use strict";""===this.element.html()&&this.element.html(this.placeHolder)},isPlaceHolder:function(){"use strict";return""===this.element.html()||this.element.html()===this.placeHolder},getValue:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},arrayToObject:function(t,e){if(null==t)return{};for(var n={},i=0,o=t.length;i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},sanitizeValue:function(t){"use strict";return jQuery.trim(t)},requestData:function(){"use strict";var t=jQuery("meta[name=csrf-token]").attr("content"),e=jQuery("meta[name=csrf-param]").attr("content"),n="_method="+BestInPlaceEditor.defaults.ajaxMethod;return n+="&"+this.objectName+"["+this.attributeName+"]="+encodeURIComponent(this.getValue()),void 0!==e&&void 0!==t&&(n+="&"+e+"="+encodeURIComponent(t)),n},ajax:function(t){"use strict";return t.url=this.url,t.beforeSend=function(t){t.setRequestHeader("Accept","application/json")},jQuery.ajax(t)},loadSuccessCallback:function(t,e,n){"use strict";if(t=jQuery.trim(t),this.display_raw?this.original_content=this.element.html():this.original_content=this.element.text(),t&&""!==t){var i=jQuery.parseJSON(t);null!==i&&i.hasOwnProperty("display_as")&&(this.element.data("bip-original-content",this.element.text()),this.element.html(i.display_as))}this.element.trigger(jQuery.Event("best_in_place:success"),[t,e,n]),this.element.trigger(jQuery.Event("ajax:success"),[t,e,n]),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate")),null!==this.collectionValue&&"select"===this.formType&&(this.collectionValue=this.previousCollectionValue,this.previousCollectionValue=null)},loadErrorCallback:function(t,e){"use strict";this.activateText(this.oldValue),this.element.trigger(jQuery.Event("best_in_place:error"),[t,e]),this.element.trigger(jQuery.Event("ajax:error"),t,e),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},clickHandler:function(t){"use strict";t.preventDefault(),t.data.editor.activate()},setHtmlAttributes:function(){"use strict";var t=this.element.find(this.formType);if(this.html_attrs){var e=this.html_attrs;$.each(e,function(e,n){t.attr(e,n)})}},placeButtons:function(t,e){"use strict";e.okButton&&t.append(jQuery(document.createElement("input")).attr("type","submit").attr("class",e.okButtonClass).attr("value",e.okButton)),e.cancelButton&&t.append(jQuery(document.createElement("input")).attr("type","button").attr("class",e.cancelButtonClass).attr("value",e.cancelButton))}},BestInPlaceEditor.forms={input:{activateForm:function(){"use strict";var t=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),e=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).val(this.display_value);this.inner_class&&e.addClass(this.inner_class),t.append(e),this.placeButtons(t,this),this.element.html(t),this.setHtmlAttributes(),this.element.find("input[type='text']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.okButton||this.element.find("input[type='text']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='text']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("input").val())},inputBlurHandler:function(t){"use strict";t.data.editor.okButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.abort()},500):t.data.editor.cancelButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.update()},500):t.data.editor.update()},submitHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.update()},cancelButtonHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.abort(),t.stopPropagation()},keyupHandler:function(t){"use strict";27===t.keyCode&&(t.data.editor.abort(),t.stopImmediatePropagation())}},select:{activateForm:function(){"use strict";var t,e,n=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline"),i=jQuery(document.createElement("select")).attr("class",null!==this.inner_class?this.inner_class:""),o=this.collectionValue,r=this.arrayToObject(this.values);for(t in r){e=r[t];var a=jQuery(document.createElement("option")).val(t).html(e);String(t)===String(o)&&a.attr("selected","selected"),i.append(a)}n.append(i),this.element.html(n),this.setHtmlAttributes(),this.element.find("select").bind("change",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("blur",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("keyup",{editor:this},BestInPlaceEditor.forms.select.keyupHandler),this.element.find("select")[0].focus();try{var s=document.createEvent("MouseEvents");s.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.element.find("select")[0].dispatchEvent(s)}catch(t){}},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("select").val())},blurHandler:function(t){"use strict";t.data.editor.update()},keyupHandler:function(t){"use strict";27===t.keyCode&&t.data.editor.abort()}},checkbox:{activateForm:function(){"use strict";this.collectionValue=!this.getValue(),this.setHtmlAttributes(),this.update()},getValue:function(){"use strict";return this.collectionValue}},textarea:{activateForm:function(){"use strict";var t=this.element.css("width"),e=this.element.css("height"),n=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),i=jQuery(document.createElement("textarea")).attr("name",this.attributeName).val(this.sanitizeValue(this.display_value));null!==this.inner_class&&i.addClass(this.inner_class),n.append(i),this.placeButtons(n,this),this.element.html(n),this.setHtmlAttributes(),jQuery(this.element.find("textarea")[0]).css({"min-width":t,"min-height":e}),jQuery(this.element.find("textarea")[0]).autosize(),this.element.find("textarea")[0].focus(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.textarea.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.textarea.cancelButtonHandler),this.element.find("textarea").bind("blur",{editor:this},BestInPlaceEditor.forms.textarea.blurHandler),this.element.find("textarea").bind("keyup",{editor:this},BestInPlaceEditor.forms.textarea.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("textarea").val())},blurHandler:function(t){"use strict";t.data.editor.okButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.abortIfConfirm()},500):t.data.editor.cancelButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.update()},500):t.data.editor.update()},submitHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.update()},cancelButtonHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.abortIfConfirm(),t.stopPropagation()},keyupHandler:function(t){"use strict";27===t.keyCode&&t.data.editor.abortIfConfirm()}}},BestInPlaceEditor.defaults={locales:{},ajaxMethod:"put",ajaxDataType:"text",okButtonClass:"",cancelButtonClass:""},BestInPlaceEditor.defaults.locales[""]={confirmMessage:"Are you sure you want to discard your changes?",uninitializedForm:"The form was not properly initialized. getValue is unbound",placeHolder:"-"},jQuery.fn.best_in_place=function(){"use strict";function t(t){if(!t.data("bestInPlaceEditor"))return t.data("bestInPlaceEditor",new BestInPlaceEditor(t)),!0}return jQuery(this.context).delegate(this.selector,"click",function(){var e=jQuery(this);t(e)&&e.click()}),this.each(function(){t(jQuery(this))}),this},BestInPlaceEditor.defaults.purrErrorContainer="<span class='bip-flash-error'></span>",jQuery(document).on("best_in_place:error",function(t,e){"use strict";jQuery.each(jQuery.parseJSON(e.responseText),function(t,e){"object"==typeof e&&(e=t+" "+e.toString());var n=jQuery(BestInPlaceEditor.defaults.purrErrorContainer).html(e);n.purr()})}),function(t){t.purr=function(e,n){function i(){var i=document.createElement("a");if(t(i).attr({"class":"close",href:"#close"}).appendTo(e).click(function(){return o(),!1}),t(document).keyup(function(t){27===t.keyCode&&o()}),e.appendTo(r).hide(),e.fadeIn(n.fadeInSpeed),!n.isSticky)var a=setInterval(function(){0===e.prevAll(".purr").length&&(clearInterval(a),setTimeout(function(){o()},n.removeTimer))},200)}function o(){e.animate({opacity:"0"},{duration:n.fadeOutSpeed,complete:function(){e.animate({height:"0px"},{duration:n.fadeOutSpeed,complete:function(){e.remove()}})}})}e=t(e),e.addClass("purr");var r=document.getElementById("purr-container");r||(r='<div id="purr-container"></div>'),r=t(r),t("body").append(r),i()},t.fn.purr=function(e){return e=e||{},e.fadeInSpeed=e.fadeInSpeed||500,e.fadeOutSpeed=e.fadeOutSpeed||500,e.removeTimer=e.removeTimer||4e3,e.isSticky=e.isSticky||!1,e.usingTransparentPNG=e.usingTransparentPNG||!1,this.each(function(){new t.purr(this,e)}),this}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["inputmask.dependencyLib"],t):"object"==typeof exports?module.exports=t(require("./inputmask.dependencyLib.jquery")):t(window.dependencyLib||jQuery)}(function(t){function e(n,i){return this instanceof e?(t.isPlainObject(n)?i=n:(i=i||{},i.alias=n),this.el=void 0,this.opts=t.extend(!0,{},this.defaults,i),this.noMasksCache=i&&void 0!==i.definitions,this.userOptions=i||{},this.events={},void o(this.opts.alias,i,this.opts)):new e(n,i)}function n(t){var e=document.createElement("input"),n="on"+t,i=n in e;return i||(e.setAttribute(n,"return;"),i="function"==typeof e[n]),e=null,i}function i(e,n){var i=e.getAttribute("type"),o="INPUT"===e.tagName&&-1!==t.inArray(i,n.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!o){var r=document.createElement("input");r.setAttribute("type",i),o="text"===r.type,r=null}return o}function o(e,n,i){var r=i.aliases[e];return r?(r.alias&&o(r.alias,void 0,i),t.extend(!0,i,r),t.extend(!0,i,n),!0):(null===i.mask&&(i.mask=e),!1)}function r(e,n,i){function r(t,n){n=void 0!==n?n:e.getAttribute("data-inputmask-"+t),null!==n&&("string"==typeof n&&(0===t.indexOf("on")?n=window[n]:"false"===n?n=!1:"true"===n&&(n=!0)),i[t]=n)}var a,s,l,c,u=e.getAttribute("data-inputmask");if(u&&""!==u&&(u=u.replace(new RegExp("'","g"),'"'),s=JSON.parse("{"+u+"}")),s){l=void 0;for(c in s)if("alias"===c.toLowerCase()){l=s[c];break}}r("alias",l),i.alias&&o(i.alias,i,n);for(a in n){if(s){l=void 0;for(c in s)if(c.toLowerCase()===a.toLowerCase()){l=s[c];break}}r(a,l)}return t.extend(!0,n,i),n}function a(n,i){function o(e){function i(t,e,n,i){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function o(e,i,o){var r=n.definitions[i];o=void 0!==o?o:e.matches.length;var a=e.matches[o-1];if(r&&!v){r.placeholder=t.isFunction(r.placeholder)?r.placeholder(n):r.placeholder;for(var s=r.prevalidator,l=s?s.length:0,c=1;c<r.cardinality;c++){var u=l>=c?s[c-1]:[],d=u.validator,h=u.cardinality;e.matches.splice(o++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:h?h:1,optionality:e.isOptional,newBlockMarker:void 0===a||a.def!==(r.definitionSymbol||i),casing:r.casing,def:r.definitionSymbol||i,placeholder:r.placeholder,mask:i}),a=e.matches[o-1]}e.matches.splice(o++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:e.isOptional,newBlockMarker:void 0===a||a.def!==(r.definitionSymbol||i),casing:r.casing,def:r.definitionSymbol||i,placeholder:r.placeholder,mask:i})}else e.matches.splice(o++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===a||a.def!==i,casing:null,def:n.staticDefinitionSymbol||i,placeholder:void 0!==n.staticDefinitionSymbol?i:void 0,mask:i}),v=!1}function r(t,e){t.isGroup&&(t.isGroup=!1,o(t,n.groupmarker.start,0),e!==!0&&o(t,n.groupmarker.end))}function a(t,e,n,i){e.matches.length>0&&(void 0===i||i)&&(n=e.matches[e.matches.length-1],r(n)),o(e,t)}function s(){if(b.length>0){if(h=b[b.length-1],a(u,h,f,!h.isAlternator),h.isAlternator){p=b.pop();for(var t=0;t<p.matches.length;t++)p.matches[t].isGroup=!1;b.length>0?(h=b[b.length-1],h.matches.push(p)):y.matches.push(p)}}else a(u,y,f)}function l(t){function e(t){return t===n.optionalmarker.start?t=n.optionalmarker.end:t===n.optionalmarker.end?t=n.optionalmarker.start:t===n.groupmarker.start?t=n.groupmarker.end:t===n.groupmarker.end&&(t=n.groupmarker.start),t}t.matches=t.matches.reverse();for(var i in t.matches){var o=parseInt(i);if(t.matches[i].isQuantifier&&t.matches[o+1]&&t.matches[o+1].isGroup){var r=t.matches[i];t.matches.splice(i,1),t.matches.splice(o+1,0,r)}void 0!==t.matches[i].matches?t.matches[i]=l(t.matches[i]):t.matches[i]=e(t.matches[i])}return t}for(var c,u,d,h,p,f,m,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=!1,y=new i,b=[],w=[];c=g.exec(e);)if(u=c[0],v)s();else switch(u.charAt(0)){case n.escapeChar:v=!0;break;case n.optionalmarker.end:case n.groupmarker.end:if(d=b.pop(),void 0!==d)if(b.length>0){if(h=b[b.length-1],h.matches.push(d),h.isAlternator){p=b.pop();for(var k=0;k<p.matches.length;k++)p.matches[k].isGroup=!1;b.length>0?(h=b[b.length-1],h.matches.push(p)):y.matches.push(p)}}else y.matches.push(d);else s();break;case n.optionalmarker.start:b.push(new i(!1,!0));break;case n.groupmarker.start:b.push(new i(!0));break;case n.quantifiermarker.start:var x=new i(!1,!1,!0);u=u.replace(/[{}]/g,"");
var C=u.split(","),_=isNaN(C[0])?C[0]:parseInt(C[0]),S=1===C.length?_:isNaN(C[1])?C[1]:parseInt(C[1]);if(("*"===S||"+"===S)&&(_="*"===S?0:1),x.quantifier={min:_,max:S},b.length>0){var D=b[b.length-1].matches;c=D.pop(),c.isGroup||(m=new i(!0),m.matches.push(c),c=m),D.push(c),D.push(x)}else c=y.matches.pop(),c.isGroup||(m=new i(!0),m.matches.push(c),c=m),y.matches.push(c),y.matches.push(x);break;case n.alternatormarker:b.length>0?(h=b[b.length-1],f=h.matches.pop()):f=y.matches.pop(),f.isAlternator?b.push(f):(p=new i(!1,!1,!1,!0),p.matches.push(f),b.push(p));break;default:s()}for(;b.length>0;)d=b.pop(),r(d,!0),y.matches.push(d);return y.matches.length>0&&(f=y.matches[y.matches.length-1],r(f),w.push(y)),n.numericInput&&l(w[0]),w}function r(r,a){if(null!==r&&""!==r){if(1===r.length&&n.greedy===!1&&0!==n.repeat&&(n.placeholder=""),n.repeat>0||"*"===n.repeat||"+"===n.repeat){var s="*"===n.repeat?0:"+"===n.repeat?1:n.repeat;r=n.groupmarker.start+r+n.groupmarker.end+n.quantifiermarker.start+s+","+n.repeat+n.quantifiermarker.end}var l;return void 0===e.prototype.masksCache[r]||i===!0?(l={mask:r,maskToken:o(r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a},i!==!0&&(e.prototype.masksCache[n.numericInput?r.split("").reverse().join(""):r]=l,l=t.extend(!0,{},e.prototype.masksCache[n.numericInput?r.split("").reverse().join(""):r]))):l=t.extend(!0,{},e.prototype.masksCache[n.numericInput?r.split("").reverse().join(""):r]),l}}function a(t){return t=t.toString()}var s;if(t.isFunction(n.mask)&&(n.mask=n.mask(n)),t.isArray(n.mask)){if(n.mask.length>1){n.keepStatic=null===n.keepStatic||n.keepStatic;var l="(";return t.each(n.numericInput?n.mask.reverse():n.mask,function(e,n){l.length>1&&(l+=")|("),l+=a(void 0===n.mask||t.isFunction(n.mask)?n:n.mask)}),l+=")",r(l,n.mask)}n.mask=n.mask.pop()}return n.mask&&(s=void 0===n.mask.mask||t.isFunction(n.mask.mask)?r(a(n.mask),n.mask):r(a(n.mask.mask),n.mask)),s}function s(o,r,a){function l(t,e,n){e=e||0;var i,o,r,s=[],l=0,c=f();do{if(t===!0&&h().validPositions[l]){var u=h().validPositions[l];o=u.match,i=u.locator.slice(),s.push(n===!0?u.input:F(l,o))}else r=v(l,i,l-1),o=r.match,i=r.locator.slice(),(a.jitMasking===!1||c>l||isFinite(a.jitMasking)&&a.jitMasking>l)&&s.push(F(l,o));l++}while((void 0===ht||ht>l-1)&&null!==o.fn||null===o.fn&&""!==o.def||e>=l);return""===s[s.length-1]&&s.pop(),s}function h(){return r}function p(t){var e=h();e.buffer=void 0,t!==!0&&(e.tests={},e._buffer=void 0,e.validPositions={},e.p=0)}function f(t,e){var n=-1,i=-1,o=h().validPositions;void 0===t&&(t=-1);for(var r in o){var a=parseInt(r);o[a]&&(e||null!==o[a].match.fn)&&(t>=a&&(n=a),a>=t&&(i=a))}return-1!==n&&t-n>1||t>i?n:i}function m(e,n,i){if(a.insertMode&&void 0!==h().validPositions[e]&&void 0===i){var o,r=t.extend(!0,{},h().validPositions),s=f();for(o=e;s>=o;o++)delete h().validPositions[o];h().validPositions[e]=n;var l,c=!0,u=h().validPositions;for(o=l=e;s>=o;o++){var d=r[o];if(void 0!==d)for(var m=l,g=-1;m<E()&&(null==d.match.fn&&u[o]&&(u[o].match.optionalQuantifier===!0||u[o].match.optionality===!0)||null!=d.match.fn);){if(null===d.match.fn||!a.keepStatic&&u[o]&&(void 0!==u[o+1]&&k(o+1,u[o].locator.slice(),o).length>1||void 0!==u[o].alternation)?m++:m=A(l),b(m,d.match.def)){var v=T(m,d.input,!0,!0);c=v!==!1,l=v.caret||v.insert?f():m;break}if(c=null==d.match.fn,g===m)break;g=m}if(!c)break}if(!c)return h().validPositions=t.extend(!0,{},r),p(!0),!1}else h().validPositions[e]=n;return p(!0),!0}function g(t,e,n,i){var o,r=t;for(h().p=t,o=r;e>o;o++)void 0!==h().validPositions[o]&&(n===!0||a.canClearPosition(h(),o,f(),i,a)!==!1)&&delete h().validPositions[o];for(o=r+1;o<=f();){for(;void 0!==h().validPositions[r];)r++;var s=h().validPositions[r];if(r>o&&(o=r+1),void 0===h().validPositions[o]&&$(o)||void 0!==s)o++;else{var l=v(o);b(r,l.match.def)?T(r,l.input||F(o),!0)!==!1&&(delete h().validPositions[o],o++):$(o)||(o++,r--),r++}}var c=f(),u=E();for(i!==!0&&n!==!0&&void 0!==h().validPositions[c]&&h().validPositions[c].input===a.radixPoint&&delete h().validPositions[c],o=c+1;u>=o;o++)h().validPositions[o]&&delete h().validPositions[o];p(!0)}function v(t,e,n){var i=h().validPositions[t];if(void 0===i)for(var o=k(t,e,n),r=f(),s=h().validPositions[r]||k(0)[0],l=void 0!==s.alternation?s.locator[s.alternation].toString().split(","):[],c=0;c<o.length&&(i=o[c],!(i.match&&(a.greedy&&i.match.optionalQuantifier!==!0||(i.match.optionality===!1||i.match.newBlockMarker===!1)&&i.match.optionalQuantifier!==!0)&&(void 0===s.alternation||s.alternation!==i.alternation||void 0!==i.locator[s.alternation]&&D(i.locator[s.alternation].toString().split(","),l))));c++);return i}function y(t){return h().validPositions[t]?h().validPositions[t].match:k(t)[0].match}function b(t,e){for(var n=!1,i=k(t),o=0;o<i.length;o++)if(i[o].match&&i[o].match.def===e){n=!0;break}return n}function w(e,n){var i,o;return(h().tests[e]||h().validPositions[e])&&t.each(h().tests[e]||[h().validPositions[e]],function(t,e){var r=e.alternation?e.locator[e.alternation].toString().indexOf(n):-1;(void 0===o||o>r)&&-1!==r&&(i=e,o=r)}),i}function k(e,n,i){function o(n,i,r,s){function c(r,s,f){function m(e,n){var i=0===t.inArray(e,n.matches);return i||t.each(n.matches,function(t,o){return(o.isQuantifier!==!0||!(i=m(e,n.matches[t-1])))&&void 0}),i}function g(t,e){var n=w(t,e);return n?n.locator.slice(n.alternation+1):[]}if(l>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+h().mask;if(l===e&&void 0===r.matches)return u.push({match:r,locator:s.reverse(),cd:p}),!0;if(void 0!==r.matches){if(r.isGroup&&f!==r){if(r=c(n.matches[t.inArray(r,n.matches)+1],s))return!0}else if(r.isOptional){var v=r;if(r=o(r,i,s,f)){if(a=u[u.length-1].match,!m(a,v))return!0;d=!0,l=e}}else if(r.isAlternator){var y,b=r,k=[],x=u.slice(),C=s.length,_=i.length>0?i.shift():-1;if(-1===_||"string"==typeof _){var S,D=l,T=i.slice(),$=[];if("string"==typeof _)$=_.split(",");else for(S=0;S<b.matches.length;S++)$.push(S);for(var E=0;E<$.length;E++){if(S=parseInt($[E]),u=[],i=g(l,S),r=c(b.matches[S]||n.matches[S],[S].concat(s),f)||r,r!==!0&&void 0!==r&&$[$.length-1]<b.matches.length){var A=t.inArray(r,n.matches)+1;n.matches.length>A&&(r=c(n.matches[A],[A].concat(s.slice(1,s.length)),f),r&&($.push(A.toString()),t.each(u,function(t,e){e.alternation=s.length-1})))}y=u.slice(),l=D,u=[];for(var I=0;I<T.length;I++)i[I]=T[I];for(var P=0;P<y.length;P++){var M=y[P];M.alternation=M.alternation||C;for(var F=0;F<k.length;F++){var L=k[F];if(M.match.def===L.match.def&&("string"!=typeof _||-1!==t.inArray(M.locator[M.alternation].toString(),$))){M.match.mask===L.match.mask&&(y.splice(P,1),P--),-1===L.locator[M.alternation].toString().indexOf(M.locator[M.alternation])&&(L.locator[M.alternation]=L.locator[M.alternation]+","+M.locator[M.alternation],L.alternation=M.alternation);break}}}k=k.concat(y)}"string"==typeof _&&(k=t.map(k,function(e,n){if(isFinite(n)){var i,o=e.alternation,r=e.locator[o].toString().split(",");e.locator[o]=void 0,e.alternation=void 0;for(var a=0;a<r.length;a++)i=-1!==t.inArray(r[a],$),i&&(void 0!==e.locator[o]?(e.locator[o]+=",",e.locator[o]+=r[a]):e.locator[o]=parseInt(r[a]),e.alternation=o);if(void 0!==e.locator[o])return e}})),u=x.concat(k),l=e,d=u.length>0}else r=c(b.matches[_]||n.matches[_],[_].concat(s),f);if(r)return!0}else if(r.isQuantifier&&f!==n.matches[t.inArray(r,n.matches)-1])for(var O=r,j=i.length>0?i.shift():0;j<(isNaN(O.quantifier.max)?j+1:O.quantifier.max)&&e>=l;j++){var R=n.matches[t.inArray(O,n.matches)-1];if(r=c(R,[j].concat(s),R)){if(a=u[u.length-1].match,a.optionalQuantifier=j>O.quantifier.min-1,m(a,R)){if(j>O.quantifier.min-1){d=!0,l=e;break}return!0}return!0}}else if(r=o(r,i,s,f))return!0}else l++}for(var f=i.length>0?i.shift():0;f<n.matches.length;f++)if(n.matches[f].isQuantifier!==!0){var m=c(n.matches[f],[f].concat(r),s);if(m&&l===e)return m;if(l>e)break}}function r(t){var e=t[0]||t;return e.locator.slice()}var a,s=h().maskToken,l=n?i:0,c=n||[0],u=[],d=!1,p=n?n.join(""):"";if(e>-1){if(void 0===n){for(var f,m=e-1;void 0===(f=h().validPositions[m]||h().tests[m])&&m>-1;)m--;void 0!==f&&m>-1&&(c=r(f),p=c.join(""),f=f[0]||f,l=m)}if(h().tests[e]&&h().tests[e][0].cd===p)return h().tests[e];for(var g=c.shift();g<s.length;g++){var v=o(s[g],c,[g]);if(v&&l===e||l>e)break}}return(0===u.length||d)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),h().tests[e]=t.extend(!0,[],u),h().tests[e]}function x(){return void 0===h()._buffer&&(h()._buffer=l(!1,1)),h()._buffer}function C(t){if(void 0===h().buffer||t===!0){if(t===!0)for(var e in h().tests)void 0===h().validPositions[e]&&delete h().tests[e];h().buffer=l(!0,f(),!0)}return h().buffer}function _(t,e,n){var i;if(n=n,t===!0)p(),t=0,e=n.length;else for(i=t;e>i;i++)delete h().validPositions[i],delete h().tests[i];for(i=t;e>i;i++)p(!0),n[i]!==a.skipOptionalPartCharacter&&T(i,n[i],!0,!0)}function S(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function D(e,n){for(var i=a.greedy?n:n.slice(0,1),o=!1,r=0;r<e.length;r++)if(-1!==t.inArray(e[r],i)){o=!0;break}return o}function T(e,n,i,o){function r(e,n,i,o){var r=!1;return t.each(k(e),function(s,l){for(var c=l.match,u=n?1:0,d="",v=c.cardinality;v>u;v--)d+=P(e-(v-1));if(n&&(d+=n),C(!0),r=null!=c.fn?c.fn.test(d,h(),e,i,a):(n===c.def||n===a.skipOptionalPartCharacter)&&""!==c.def&&{c:c.placeholder||c.def,pos:e},r!==!1){var y=void 0!==r.c?r.c:n;y=y===a.skipOptionalPartCharacter&&null===c.fn?c.placeholder||c.def:y;var b=e,w=C();if(void 0!==r.remove&&(t.isArray(r.remove)||(r.remove=[r.remove]),t.each(r.remove.sort(function(t,e){return e-t}),function(t,e){g(e,e+1,!0)})),void 0!==r.insert&&(t.isArray(r.insert)||(r.insert=[r.insert]),t.each(r.insert.sort(function(t,e){return t-e}),function(t,e){T(e.pos,e.c,!1,o)})),r.refreshFromBuffer){var k=r.refreshFromBuffer;if(i=!0,_(k===!0?k:k.start,k.end,w),void 0===r.pos&&void 0===r.c)return r.pos=f(),!1;if(b=void 0!==r.pos?r.pos:e,b!==e)return r=t.extend(r,T(b,y,!0,o)),!1}else if(r!==!0&&void 0!==r.pos&&r.pos!==e&&(b=r.pos,_(e,b,C().slice()),b!==e))return r=t.extend(r,T(b,y,!0)),!1;return(r===!0||void 0!==r.pos||void 0!==r.c)&&(s>0&&p(!0),m(b,t.extend({},l,{input:S(y,c)}),o)||(r=!1),!1)}}),r}function s(e,n,i,o){for(var r,s,l,c,u,d,m=t.extend(!0,{},h().validPositions),g=t.extend(!0,{},h().tests),y=f();y>=0&&(c=h().validPositions[y],!c||void 0===c.alternation||(r=y,s=h().validPositions[r].alternation,v(r).locator[c.alternation]===c.locator[c.alternation]));y--);if(void 0!==s){r=parseInt(r);for(var b in h().validPositions)if(b=parseInt(b),c=h().validPositions[b],b>=r&&void 0!==c.alternation){var k;0===r?(k=[],t.each(h().tests[r],function(t,e){void 0!==e.locator[s]&&(k=k.concat(e.locator[s].toString().split(",")))})):k=h().validPositions[r].locator[s].toString().split(",");var x=void 0!==c.locator[s]?c.locator[s]:k[0];x.length>0&&(x=x.split(",")[0]);for(var C=0;C<k.length;C++){var _=[],S=0,D=0;if(x<k[C]){for(var $,E,A=b;A>=0;A--)if($=h().validPositions[A],void 0!==$){var I=w(A,k[C]);h().validPositions[A].match.def!==I.match.def&&(_.push(h().validPositions[A].input),h().validPositions[A]=I,h().validPositions[A].input=F(A),null===h().validPositions[A].match.fn&&D++,$=I),E=$.locator[s],$.locator[s]=parseInt(k[C]);break}if(x!==$.locator[s]){for(u=b+1;u<f(void 0,!0)+1;u++)d=h().validPositions[u],d&&null!=d.match.fn?_.push(d.input):e>u&&S++,delete h().validPositions[u],delete h().tests[u];for(p(!0),a.keepStatic=!a.keepStatic,l=!0;_.length>0;){var P=_.shift();if(P!==a.skipOptionalPartCharacter&&!(l=T(f(void 0,!0)+1,P,!1,o)))break}if($.alternation=s,$.locator[s]=E,l){var M=f(e)+1;for(u=b+1;u<f()+1;u++)d=h().validPositions[u],(void 0===d||null==d.match.fn)&&e>u&&D++;e+=D-S,l=T(e>M?M:e,n,i,o)}if(a.keepStatic=!a.keepStatic,l)return l;p(),h().validPositions=t.extend(!0,{},m),h().tests=t.extend(!0,{},g)}}}break}}return!1}function l(e,n){for(var i=h().validPositions[n],o=i.locator,r=o.length,a=e;n>a;a++)if(void 0===h().validPositions[a]&&!$(a,!0)){var s=k(a),l=s[0],c=-1;t.each(s,function(t,e){for(var n=0;r>n&&void 0!==e.locator[n]&&D(e.locator[n].toString().split(","),o[n].toString().split(","));n++)n>c&&(c=n,l=e)}),m(a,t.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}i=i===!0;for(var c=C(),u=e-1;u>-1&&!h().validPositions[u];u--);for(u++;e>u;u++)void 0===h().validPositions[u]&&((!$(u)||c[u]!==F(u))&&k(u).length>1||c[u]===a.radixPoint||"0"===c[u]&&t.inArray(a.radixPoint,c)<u)&&r(u,c[u],!0,o);var d=e,y=!1,b=t.extend(!0,{},h().validPositions);if(d<E()&&(y=r(d,n,i,o),(!i||o===!0)&&y===!1)){var x=h().validPositions[d];if(!x||null!==x.match.fn||x.match.def!==n&&n!==a.skipOptionalPartCharacter){if((a.insertMode||void 0===h().validPositions[A(d)])&&!$(d,!0)){var I=v(d).match,I=I.placeholder||I.def;r(d,I,i,o);for(var M=d+1,L=A(d);L>=M;M++)if(y=r(M,n,i,o),y!==!1){l(d,M),d=M;break}}}else y={caret:A(d)}}if(y===!1&&a.keepStatic&&(y=s(e,n,i,o)),y===!0&&(y={pos:d}),t.isFunction(a.postValidation)&&y!==!1&&!i&&o!==!0){var O=a.postValidation(C(!0),y,a);if(O){if(O.refreshFromBuffer){var j=O.refreshFromBuffer;_(j===!0?j:j.start,j.end,O.buffer),p(!0),y=O}}else p(!0),h().validPositions=t.extend(!0,{},b),y=!1}return y}function $(t,e){var n;if(e?(n=v(t).match,""==n.def&&(n=y(t))):n=y(t),null!=n.fn)return n.fn;if(e!==!0&&t>-1&&!a.keepStatic&&void 0===h().validPositions[t]){var i=k(t);return i.length>2}return!1}function E(){var t;ht=void 0!==ut?ut.maxLength:void 0,-1===ht&&(ht=void 0);var e,n=f(),i=h().validPositions[n],o=void 0!==i?i.locator.slice():void 0;for(e=n+1;void 0===i||null!==i.match.fn||null===i.match.fn&&""!==i.match.def;e++)i=v(e,o,e-1),o=i.locator.slice();var r=y(e-1);return t=""!==r.def?e:e-1,void 0===ht||ht>t?t:ht}function A(t,e){var n=E();if(t>=n)return n;for(var i=t;++i<n&&(e===!0&&(y(i).newBlockMarker!==!0||!$(i))||e!==!0&&!$(i)&&(a.nojumps!==!0||a.nojumpsThreshold>i)););return i}function I(t,e){var n=t;if(0>=n)return 0;for(;--n>0&&(e===!0&&y(n).newBlockMarker!==!0||e!==!0&&!$(n)););return n}function P(t){return void 0===h().validPositions[t]?F(t):h().validPositions[t].input}function M(e,n,i,o,r){if(o&&t.isFunction(a.onBeforeWrite)){var s=a.onBeforeWrite(o,n,i,a);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;_(l===!0?l:l.start,l.end,s.buffer||n),n=C(!0)}void 0!==i&&(i=void 0!==s.caret?s.caret:i)}}e.inputmask._valueSet(n.join("")),void 0===i||void 0!==o&&"blur"===o.type||j(e,i),r===!0&&(gt=!0,t(e).trigger("input"))}function F(t,e){if(e=e||y(t),void 0!==e.placeholder)return e.placeholder;if(null===e.fn){if(t>-1&&!a.keepStatic&&void 0===h().validPositions[t]){var n,i=k(t),o=0;if(i.length>2)for(var r=0;r<i.length;r++)if(i[r].match.optionality!==!0&&i[r].match.optionalQuantifier!==!0&&(null===i[r].match.fn||void 0===n||i[r].match.fn.test(n.match.def,h(),t,!0,a)!==!1)&&(o++,null===i[r].match.fn&&(n=i[r]),o>1))return a.placeholder.charAt(t%a.placeholder.length)}return e.def}return a.placeholder.charAt(t%a.placeholder.length)}function L(n,i,o,r){function s(){var t=!1,e=x().slice(u,A(u)).join("").indexOf(c);if(-1!==e&&!$(u)){t=!0;for(var n=x().slice(u,u+e),i=0;i<n.length;i++)if(" "!==n[i]){t=!1;break}}return t}var l=r.slice(),c="",u=0;if(p(),h().p=A(-1),!o)if(a.autoUnmask!==!0){var d=x().slice(0,A(-1)).join(""),m=l.join("").match(new RegExp("^"+e.escapeRegex(d),"g"));m&&m.length>0&&(l.splice(0,m.length*d.length),u=A(u))}else u=A(u);t.each(l,function(e,i){if(void 0!==i){var r=new t.Event("keypress");r.which=i.charCodeAt(0),c+=i;var l=f(void 0,!0),d=h().validPositions[l],p=v(l+1,d?d.locator.slice():void 0,l);if(!s()||o||a.autoUnmask){var m=o?e:null==p.match.fn&&p.match.optionality&&l+1<h().p?l+1:h().p;q.call(n,r,!0,!1,o,m),u=m+1,c=""}else q.call(n,r,!0,!1,!0,l+1)}}),i&&M(n,C(),document.activeElement===n?A(f(0)):void 0,new t.Event("checkval"))}function O(e){if(e&&void 0===e.inputmask)return e.value;var n=[],i=h().validPositions;for(var o in i)i[o].match&&null!=i[o].match.fn&&n.push(i[o].input);var r=0===n.length?null:(ft?n.reverse():n).join("");if(null!==r){var s=(ft?C().slice().reverse():C()).join("");t.isFunction(a.onUnMask)&&(r=a.onUnMask(s,r,a)||r)}return r}function j(t,e,n,i){function o(t){if(i!==!0&&ft&&"number"==typeof t&&(!a.greedy||""!==a.placeholder)){var e=C().join("").length;t=e-t}return t}var r;if("number"!=typeof e)return t.setSelectionRange?(e=t.selectionStart,n=t.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0),(r.commonAncestorContainer.parentNode===t||r.commonAncestorContainer===t)&&(e=r.startOffset,n=r.endOffset)):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),e=0-r.duplicate().moveStart("character",-1e5),n=e+r.text.length),{begin:o(e),end:o(n)};e=o(e),n=o(n),n="number"==typeof n?n:e;var s=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*n;if(t.scrollLeft=s>t.scrollWidth?s:0,c||a.insertMode!==!1||e!==n||n++,t.setSelectionRange)t.selectionStart=e,t.selectionEnd=n;else if(window.getSelection){if(r=document.createRange(),void 0===t.firstChild||null===t.firstChild){var l=document.createTextNode("");t.appendChild(l)}r.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),r.setEnd(t.firstChild,n<t.inputmask._valueGet().length?n:t.inputmask._valueGet().length),r.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(r)}else t.createTextRange&&(r=t.createTextRange(),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r.select())}function R(e){var n,i,o=C(),r=o.length,a=f(),s={},l=h().validPositions[a],c=void 0!==l?l.locator.slice():void 0;for(n=a+1;n<o.length;n++)i=v(n,c,n-1),c=i.locator.slice(),s[n]=t.extend(!0,{},i);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(n=r-1;n>a&&(i=s[n],(i.match.optionality||i.match.optionalQuantifier||u&&(u!==s[n].locator[l.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[l.alternation]&&D(i.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==k(n)[0].def))&&o[n]===F(n,i.match));n--)r--;return e?{l:r,def:s[r]?s[r].match:void 0}:r}function N(t){for(var e=R(),n=t.length-1;n>e&&!$(n);n--);return t.splice(e,n+1-e),t}function H(e){if(t.isFunction(a.isComplete))return a.isComplete(e,a);if("*"!==a.repeat){var n=!1,i=R(!0),o=I(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){n=!0;for(var r=0;o>=r;r++){var s=v(r).match;if(null!==s.fn&&void 0===h().validPositions[r]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null===s.fn&&e[r]!==F(r,s)){n=!1;break}}}return n}}function B(t,e){return ft?t-e>1||t-e===1&&a.insertMode:e-t>1||e-t===1&&a.insertMode}function W(e){function n(e){if(t.valHooks&&(void 0===t.valHooks[e]||t.valHooks[e].inputmaskpatch!==!0)){var n=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},i=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=n(t),i=t.inputmask.maskset,o=i._buffer;return o=o?o.join(""):"",e!==o?e:""}return n(t)},set:function(e,n){var o,r=t(e);return o=i(e,n),e.inputmask&&r.trigger("setvalue"),o},inputmaskpatch:!0}}}function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():s.call(this)!==x().join("")?document.activeElement===this&&a.clearMaskOnLostFocus?(ft?N(C().slice()).reverse():N(C().slice())).join(""):s.call(this):"":s.call(this)}function o(e){l.call(this,e),this.inputmask&&t(this).trigger("setvalue")}function r(e){wt.on(e,"mouseenter",function(){var e=t(this),n=this,i=n.inputmask._valueGet();i!==C().join("")&&f()>0&&e.trigger("setvalue")})}var s,l;e.inputmask.__valueGet||(Object.getOwnPropertyDescriptor&&void 0===e.value?(s=function(){return this.textContent},l=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:i,set:o})):document.__lookupGetter__&&e.__lookupGetter__("value")?(s=e.__lookupGetter__("value"),l=e.__lookupSetter__("value"),e.__defineGetter__("value",i),e.__defineSetter__("value",o)):(s=function(){return e.value},l=function(t){e.value=t},n(e.type),r(e)),e.inputmask.__valueGet=s,e.inputmask._valueGet=function(t){return ft&&t!==!0?s.call(this.el).split("").reverse().join(""):s.call(this.el)},e.inputmask.__valueSet=l,e.inputmask._valueSet=function(t,e){l.call(this.el,null===t||void 0===t?"":e!==!0&&ft?t.split("").reverse().join(""):t)})}function z(n,i,o,r){function s(){if(a.keepStatic){p(!0);var e,i=[],o=t.extend(!0,{},h().validPositions);for(e=f();e>=0;e--){var r=h().validPositions[e];if(r&&(null!=r.match.fn&&i.push(r.input),delete h().validPositions[e],void 0!==r.alternation&&r.locator[r.alternation]===v(e).locator[r.alternation]))break}if(e>-1)for(;i.length>0;){h().p=A(f());var s=new t.Event("keypress");s.which=i.pop().charCodeAt(0),q.call(n,s,!0,!1,!1,h().p)}else h().validPositions=t.extend(!0,{},o)}}if((a.numericInput||ft)&&(i===e.keyCode.BACKSPACE?i=e.keyCode.DELETE:i===e.keyCode.DELETE&&(i=e.keyCode.BACKSPACE),ft)){var l=o.end;o.end=o.begin,o.begin=l}i===e.keyCode.BACKSPACE&&(o.end-o.begin<1||a.insertMode===!1)?(o.begin=I(o.begin),void 0===h().validPositions[o.begin]||h().validPositions[o.begin].input!==a.groupSeparator&&h().validPositions[o.begin].input!==a.radixPoint||o.begin--):i===e.keyCode.DELETE&&o.begin===o.end&&(o.end=$(o.end)?o.end+1:A(o.end)+1,void 0===h().validPositions[o.begin]||h().validPositions[o.begin].input!==a.groupSeparator&&h().validPositions[o.begin].input!==a.radixPoint||o.end++),g(o.begin,o.end,!1,r),r!==!0&&s();var c=f(o.begin);c<o.begin?(-1===c&&p(),h().p=A(c)):r!==!0&&(h().p=o.begin)}function U(i){var o=this,r=t(o),s=i.keyCode,l=j(o);if(s===e.keyCode.BACKSPACE||s===e.keyCode.DELETE||d&&127===s||i.ctrlKey&&88===s&&!n("cut"))i.preventDefault(),88===s&&(lt=C().join("")),z(o,s,l),M(o,C(),h().p,i,lt!==C().join("")),o.inputmask._valueGet()===x().join("")?r.trigger("cleared"):H(C())===!0&&r.trigger("complete"),a.showTooltip&&(o.title=a.tooltip||h().mask);else if(s===e.keyCode.END||s===e.keyCode.PAGE_DOWN){i.preventDefault();var c=A(f());a.insertMode||c!==E()||i.shiftKey||c--,j(o,i.shiftKey?l.begin:c,c,!0)}else s===e.keyCode.HOME&&!i.shiftKey||s===e.keyCode.PAGE_UP?(i.preventDefault(),j(o,0,i.shiftKey?l.begin:0,!0)):(a.undoOnEscape&&s===e.keyCode.ESCAPE||90===s&&i.ctrlKey)&&i.altKey!==!0?(L(o,!0,!1,lt.split("")),r.trigger("click")):s!==e.keyCode.INSERT||i.shiftKey||i.ctrlKey?a.tabThrough===!0&&s===e.keyCode.TAB?(i.shiftKey===!0?(null===y(l.begin).fn&&(l.begin=A(l.begin)),l.end=I(l.begin,!0),l.begin=I(l.end,!0)):(l.begin=A(l.begin,!0),l.end=A(l.begin,!0),l.end<E()&&l.end--),l.begin<E()&&(i.preventDefault(),j(o,l.begin,l.end))):a.insertMode!==!1||i.shiftKey||(s===e.keyCode.RIGHT?setTimeout(function(){var t=j(o);j(o,t.begin)},0):s===e.keyCode.LEFT&&setTimeout(function(){var t=j(o);j(o,ft?t.begin+1:t.begin-1)},0)):(a.insertMode=!a.insertMode,j(o,a.insertMode||l.begin!==E()?l.begin:l.begin-1));a.onKeyDown.call(this,i,C(),j(o).begin,a),vt=-1!==t.inArray(s,a.ignorables)}function q(n,i,o,r,s){var l=this,c=t(l),u=n.which||n.charCode||n.keyCode;if(!(i===!0||n.ctrlKey&&n.altKey)&&(n.ctrlKey||n.metaKey||vt))return u===e.keyCode.ENTER&&lt!==C().join("")&&(lt=C().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&n.shiftKey===!1&&","===a.radixPoint&&(u=44);var d,f=i?{begin:s,end:s}:j(l),g=String.fromCharCode(u),v=B(f.begin,f.end);v&&(h().undoPositions=t.extend(!0,{},h().validPositions),z(l,e.keyCode.DELETE,f,!0),f.begin=h().p,a.insertMode||(a.insertMode=!a.insertMode,m(f.begin,r),a.insertMode=!a.insertMode),v=!a.multi),h().writeOutBuffer=!0;var y=ft&&!v?f.end:f.begin,b=T(y,g,r);if(b!==!1){if(b!==!0&&(y=void 0!==b.pos?b.pos:y,g=void 0!==b.c?b.c:g),p(!0),void 0!==b.caret)d=b.caret;else{var w=h().validPositions;d=!a.keepStatic&&(void 0!==w[y+1]&&k(y+1,w[y].locator.slice(),y).length>1||void 0!==w[y].alternation)?y+1:A(y)}h().p=d}if(o!==!1){var x=this;if(setTimeout(function(){a.onKeyValidation.call(x,u,b,a)},0),h().writeOutBuffer&&b!==!1){var S=C();M(l,S,a.numericInput&&void 0===b.caret?I(d):d,n,i!==!0),i!==!0&&setTimeout(function(){H(S)===!0&&c.trigger("complete")},0)}else v&&(h().buffer=void 0,h().validPositions=h().undoPositions)}else v&&(h().buffer=void 0,h().validPositions=h().undoPositions);if(a.showTooltip&&(l.title=a.tooltip||h().mask),i&&t.isFunction(a.onBeforeWrite)){var D=a.onBeforeWrite(n,C(),d,a);if(D&&D.refreshFromBuffer){var $=D.refreshFromBuffer;_($===!0?$:$.start,$.end,D.buffer),p(!0),D.caret&&(h().p=D.caret)}}if(n.preventDefault(),i)return b}}function Y(e){var n=this,i=e.originalEvent||e,o=t(n),r=n.inputmask._valueGet(!0),s=j(n),l=r.substr(0,s.begin),c=r.substr(s.end,r.length);l===x().slice(0,s.begin).join("")&&(l=""),c===x().slice(s.end).join("")&&(c=""),window.clipboardData&&window.clipboardData.getData?r=l+window.clipboardData.getData("Text")+c:i.clipboardData&&i.clipboardData.getData&&(r=l+i.clipboardData.getData("text/plain")+c);var u=r;if(t.isFunction(a.onBeforePaste)){if(u=a.onBeforePaste(r,a),u===!1)return e.preventDefault(),!1;u||(u=r)}return L(n,!1,!1,ft?u.split("").reverse():u.toString().split("")),M(n,C(),void 0,e,!0),o.trigger("click"),H(C())===!0&&o.trigger("complete"),!1}function V(n){var i=this,o=i.inputmask._valueGet();if(C().join("")!==o){var r=j(i);if(o=o.replace(new RegExp("("+e.escapeRegex(x().join(""))+")*"),""),u){var a=o.replace(C().join(""),"");if(1===a.length){var s=new t.Event("keypress");return s.which=a.charCodeAt(0),q.call(i,s,!0,!0,!1,h().validPositions[r.begin-1]?r.begin:r.begin-1),!1}}if(r.begin>o.length&&(j(i,o.length),r=j(i)),C().length-o.length!==1||o.charAt(r.begin)===C()[r.begin]||o.charAt(r.begin+1)===C()[r.begin]||$(r.begin)){for(var l=f()+1,c=C().slice(l).join("");null===o.match(e.escapeRegex(c)+"$");)c=c.slice(1);o=o.replace(c,""),o=o.split(""),L(i,!0,!1,o),H(C())===!0&&t(i).trigger("complete")}else n.keyCode=e.keyCode.BACKSPACE,U.call(i,n);n.preventDefault()}}function G(t){var e=t.originalEvent||t;lt=C().join(""),""===ct||0!==e.data.indexOf(ct)}function Q(e){var n=this,i=e.originalEvent||e,o=C().join("");0===i.data.indexOf(ct)&&(p(),h().p=A(-1));for(var r=i.data,s=0;s<r.length;s++){var l=new t.Event("keypress");l.which=r.charCodeAt(s),mt=!1,vt=!1,q.call(n,l,!0,!1,!1,h().p)}o!==C().join("")&&setTimeout(function(){var t=h().p;M(n,C(),a.numericInput?I(t):t)},0),ct=i.data}function K(){}function X(){var e=this,n=e.inputmask._valueGet();L(e,!0,!1,(t.isFunction(a.onBeforeMask)?a.onBeforeMask(n,a)||n:n).split("")),lt=C().join(""),(a.clearMaskOnLostFocus||a.clearIncomplete)&&e.inputmask._valueGet()===x().join("")&&e.inputmask._valueSet("")}function J(){var t=this,e=t.inputmask._valueGet();a.showMaskOnFocus&&(!a.showMaskOnHover||a.showMaskOnHover&&""===e)?t.inputmask._valueGet()!==C().join("")&&M(t,C(),A(f())):yt===!1&&j(t,A(f())),a.positionCaretOnTab===!0&&setTimeout(function(){j(t,A(f()))},0),lt=C().join("")}function Z(){var t=this;if(yt=!1,a.clearMaskOnLostFocus&&document.activeElement!==t){var e=C().slice(),n=t.inputmask._valueGet();n!==t.getAttribute("placeholder")&&""!==n&&(-1===f()&&n===x().join("")?e=[]:N(e),M(t,e))}}function tt(){function e(e){if(a.radixFocus&&""!==a.radixPoint){var n=h().validPositions;if(void 0===n[e]||n[e].input===F(e)){if(e<A(-1))return!0;var i=t.inArray(a.radixPoint,C());if(-1!==i){for(var o in n)if(o>i&&n[o].input!==F(o))return!1;return!0}}}return!1}var n=this;if(document.activeElement===n){var i=j(n);if(i.begin===i.end)if(e(i.begin))j(n,a.numericInput?A(t.inArray(a.radixPoint,C())):t.inArray(a.radixPoint,C()));else{var o=i.begin,r=f(o),s=A(r);s>o?j(n,$(o)||$(o-1)?o:A(o)):((C()[s]!==F(s)||!$(s,!0)&&y(s).def===F(s))&&(s=A(s)),j(n,s))}}}function et(){var t=this;setTimeout(function(){j(t,0,A(f()))},0)}function nt(n){var i=this,o=t(i),r=j(i),s=n.originalEvent||n,l=window.clipboardData||s.clipboardData,c=ft?C().slice(r.end,r.begin):C().slice(r.begin,r.end);l.setData("text",ft?c.reverse().join(""):c.join("")),document.execCommand&&document.execCommand("copy"),z(i,e.keyCode.DELETE,r),M(i,C(),h().p,n,lt!==C().join("")),i.inputmask._valueGet()===x().join("")&&o.trigger("cleared"),a.showTooltip&&(i.title=a.tooltip||h().mask)}function it(e){var n=t(this),i=this;if(i.inputmask){var o=i.inputmask._valueGet(),r=C().slice();lt!==r.join("")&&setTimeout(function(){n.trigger("change"),lt=r.join("")},0),""!==o&&(a.clearMaskOnLostFocus&&(-1===f()&&o===x().join("")?r=[]:N(r)),H(r)===!1&&(setTimeout(function(){n.trigger("incomplete")},0),a.clearIncomplete&&(p(),r=a.clearMaskOnLostFocus?[]:x().slice())),M(i,r,void 0,e))}}function ot(){var t=this;yt=!0,document.activeElement!==t&&a.showMaskOnHover&&t.inputmask._valueGet()!==C().join("")&&M(t,C())}function rt(){lt!==C().join("")&&dt.trigger("change"),a.clearMaskOnLostFocus&&-1===f()&&ut.inputmask._valueGet&&ut.inputmask._valueGet()===x().join("")&&ut.inputmask._valueSet(""),a.removeMaskOnSubmit&&(ut.inputmask._valueSet(ut.inputmask.unmaskedvalue(),!0),setTimeout(function(){M(ut,C())},0))}function at(){setTimeout(function(){dt.trigger("setvalue")},0)}function st(e){if(ut=e,dt=t(ut),a.showTooltip&&(ut.title=a.tooltip||h().mask),("rtl"===ut.dir||a.rightAlign)&&(ut.style.textAlign="right"),("rtl"===ut.dir||a.numericInput)&&(ut.dir="ltr",ut.removeAttribute("dir"),ut.inputmask.isRTL=!0,ft=!0),wt.off(ut),W(ut),i(ut,a)&&(wt.on(ut,"submit",rt),wt.on(ut,"reset",at),wt.on(ut,"mouseenter",ot),wt.on(ut,"blur",it),wt.on(ut,"focus",J),wt.on(ut,"mouseleave",Z),wt.on(ut,"click",tt),wt.on(ut,"dblclick",et),wt.on(ut,"paste",Y),wt.on(ut,"dragdrop",Y),wt.on(ut,"drop",Y),wt.on(ut,"cut",nt),wt.on(ut,"complete",a.oncomplete),wt.on(ut,"incomplete",a.onincomplete),wt.on(ut,"cleared",a.oncleared),wt.on(ut,"keydown",U),wt.on(ut,"keypress",q),wt.on(ut,"input",V),c||(wt.on(ut,"compositionstart",G),wt.on(ut,"compositionupdate",Q),wt.on(ut,"compositionend",K))),wt.on(ut,"setvalue",X),""!==ut.inputmask._valueGet()||a.clearMaskOnLostFocus===!1){var n=t.isFunction(a.onBeforeMask)?a.onBeforeMask(ut.inputmask._valueGet(),a)||ut.inputmask._valueGet():ut.inputmask._valueGet();L(ut,!0,!1,n.split(""));var o=C().slice();lt=o.join(""),H(o)===!1&&a.clearIncomplete&&p(),a.clearMaskOnLostFocus&&(o.join("")===x().join("")?o=[]:N(o)),M(ut,o),document.activeElement===ut&&j(ut,A(f()))}}var lt,ct,ut,dt,ht,pt,ft=!1,mt=!1,gt=!1,vt=!1,yt=!0,bt=!1,wt={on:function(n,i,o){var r=function(n){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var i=t.data(this,"_inputmask_opts");i?new e(i).mask(this):wt.off(this)}else{if("setvalue"===n.type||!(this.disabled||this.readOnly&&!("keydown"===n.type&&n.ctrlKey&&67===n.keyCode||a.tabThrough===!1&&n.keyCode===e.keyCode.TAB))){switch(n.type){case"input":if(gt===!0||bt===!0)return gt=bt,n.preventDefault();break;case"keydown":mt=!1,gt=!1,bt=!1;break;case"keypress":if(mt===!0)return n.preventDefault();mt=!0;break;case"compositionstart":bt=!0;break;case"compositionupdate":gt=!0;break;case"compositionend":bt=!1;break;case"cut":gt=!0;break;case"click":if(u){var r=this;return setTimeout(function(){o.apply(r,arguments)},0),!1}}return o.apply(this,arguments)}n.preventDefault()}};n.inputmask.events[i]=n.inputmask.events[i]||[],n.inputmask.events[i].push(r),-1!==t.inArray(i,["submit","reset"])?null!=n.form&&t(n.form).on(i,r):t(n).on(i,r)},off:function(e,n){if(e.inputmask&&e.inputmask.events){var i;n?(i=[],i[n]=e.inputmask.events[n]):i=e.inputmask.events,t.each(i,function(n,i){for(;i.length>0;){var o=i.pop();-1!==t.inArray(n,["submit","reset"])?null!=e.form&&t(e.form).off(n,o):t(e).off(n,o)}delete e.inputmask.events[n]})}}};if(void 0!==o)switch(o.action){case"isComplete":return ut=o.el,H(C());case"unmaskedvalue":return ut=o.el,void 0!==ut&&void 0!==ut.inputmask?(r=ut.inputmask.maskset,a=ut.inputmask.opts,ft=ut.inputmask.isRTL):(pt=o.value,a.numericInput&&(ft=!0),pt=(t.isFunction(a.onBeforeMask)?a.onBeforeMask(pt,a)||pt:pt).split(""),L(void 0,!1,!1,ft?pt.reverse():pt),t.isFunction(a.onBeforeWrite)&&a.onBeforeWrite(void 0,C(),0,a)),O(ut);case"mask":ut=o.el,r=ut.inputmask.maskset,a=ut.inputmask.opts,ft=ut.inputmask.isRTL,lt=C().join(""),st(ut);break;case"format":return a.numericInput&&(ft=!0),pt=(t.isFunction(a.onBeforeMask)?a.onBeforeMask(o.value,a)||o.value:o.value).split(""),L(void 0,!1,!1,ft?pt.reverse():pt),t.isFunction(a.onBeforeWrite)&&a.onBeforeWrite(void 0,C(),0,a),o.metadata?{value:ft?C().slice().reverse().join(""):C().join(""),metadata:s({action:"getmetadata"},r,a)}:ft?C().slice().reverse().join(""):C().join("");case"isValid":a.numericInput&&(ft=!0),o.value?(pt=o.value.split(""),L(void 0,!1,!0,ft?pt.reverse():pt)):o.value=C().join("");for(var kt=C(),xt=R(),Ct=kt.length-1;Ct>xt&&!$(Ct);Ct--);
return kt.splice(xt,Ct+1-xt),H(kt)&&o.value===C().join("");case"getemptymask":return x();case"remove":ut=o.el,dt=t(ut),r=ut.inputmask.maskset,a=ut.inputmask.opts,ut.inputmask._valueSet(O(ut)),wt.off(ut);var _t;Object.getOwnPropertyDescriptor&&(_t=Object.getOwnPropertyDescriptor(ut,"value")),_t&&_t.get?ut.inputmask.__valueGet&&Object.defineProperty(ut,"value",{get:ut.inputmask.__valueGet,set:ut.inputmask.__valueSet}):document.__lookupGetter__&&ut.__lookupGetter__("value")&&ut.inputmask.__valueGet&&(ut.__defineGetter__("value",ut.inputmask.__valueGet),ut.__defineSetter__("value",ut.inputmask.__valueSet)),ut.inputmask=void 0;break;case"getmetadata":if(t.isArray(r.metadata)){for(var St,Dt=f(),Tt=Dt;Tt>=0;Tt--)if(h().validPositions[Tt]&&void 0!==h().validPositions[Tt].alternation){St=h().validPositions[Tt].alternation;break}return void 0!==St?r.metadata[h().validPositions[Dt].locator[St]]:r.metadata[0]}return r.metadata}}e.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,n){return t.isFunction(n.onBeforeMask)?n.onBeforeMask(e,n):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:t.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1},masksCache:{},mask:function(n){var i=this;return"string"==typeof n&&(n=document.getElementById(n)||document.querySelectorAll(n)),n=n.nodeName?[n]:n,t.each(n,function(n,o){var l=t.extend(!0,{},i.opts);r(o,l,t.extend(!0,{},i.userOptions));var c=a(l,i.noMasksCache);void 0!==c&&(void 0!==o.inputmask&&o.inputmask.remove(),o.inputmask=new e,o.inputmask.opts=l,o.inputmask.noMasksCache=i.noMasksCache,o.inputmask.userOptions=t.extend(!0,{},i.userOptions),o.inputmask.el=o,o.inputmask.maskset=c,o.inputmask.isRTL=!1,t.data(o,"_inputmask_opts",l),s({action:"mask",el:o}))}),n&&n[0]?n[0].inputmask||this:this},option:function(e){return"string"==typeof e?this.opts[e]:"object"==typeof e?(t.extend(this.opts,e),t.extend(this.userOptions,e),this.el&&(void 0!==e.mask||void 0!==e.alias?this.mask(this.el):(t.data(this.el,"_inputmask_opts",this.opts),s({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(t){return s({action:"unmaskedvalue",el:this.el,value:t},this.el&&this.el.inputmask?this.el.inputmask.maskset:a(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(s({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return s({action:"getemptymask"},this.maskset||a(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return s({action:"isComplete",el:this.el},this.maskset||a(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return s({action:"getmetadata"},this.maskset||a(this.opts,this.noMasksCache),this.opts)},isValid:function(t){return s({action:"isValid",value:t},this.maskset||a(this.opts,this.noMasksCache),this.opts)},format:function(t,e){return s({action:"format",value:t,metadata:e},this.maskset||a(this.opts,this.noMasksCache),this.opts)}},e.extendDefaults=function(n){t.extend(!0,e.prototype.defaults,n)},e.extendDefinitions=function(n){t.extend(!0,e.prototype.defaults.definitions,n)},e.extendAliases=function(n){t.extend(!0,e.prototype.defaults.aliases,n)},e.format=function(t,n,i){return e(n).format(t,i)},e.unmask=function(t,n){return e(n).unmaskedvalue(t)},e.isValid=function(t,n){return e(n).isValid(t)},e.remove=function(e){t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},e.escapeRegex=function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},e.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var l=navigator.userAgent,c=/mobile/i.test(l),u=/iemobile/i.test(l),d=/iphone/i.test(l)&&!u;return/android.*safari.*/i.test(l)&&!u,window.Inputmask=e,e}),!function(t){"function"==typeof define&&define.amd?define(["jquery","inputmask"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("./inputmask")):t(window.dependencyLib||jQuery,window.Inputmask)}(function(t,e){return e.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",phoneCodeCache:{},mask:function(e){if(void 0===e.phoneCodeCache[e.url]){var n=[];e.definitions["#"]=e.definitions[9],t.ajax({url:e.url,async:!1,type:"get",dataType:"json",success:function(t){n=t},error:function(t,n,i){alert(i+" - "+e.url)}}),e.phoneCodeCache[e.url]=n.sort(function(t,e){return(t.mask||t)<(e.mask||e)?-1:1})}return e.phoneCodeCache[e.url]},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(t,e){var n=t.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(e.countrycode)>1||-1===n.indexOf(e.countrycode))&&(n="+"+e.countrycode+n),n}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),e}),!function(t){"function"==typeof define&&define.amd?define(["jquery","inputmask"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("./inputmask")):t(jQuery,window.Inputmask)}(function(t,e){return void 0===t.fn.inputmask&&(t.fn.inputmask=function(n,i){var o,r=this[0];if(i=i||{},"string"==typeof n)switch(n){case"unmaskedvalue":return r&&r.inputmask?r.inputmask.unmaskedvalue():t(r).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return r&&r.inputmask?r.inputmask.getemptymask():"";case"hasMaskedValue":return!(!r||!r.inputmask)&&r.inputmask.hasMaskedValue();case"isComplete":return!r||!r.inputmask||r.inputmask.isComplete();case"getmetadata":return r&&r.inputmask?r.inputmask.getmetadata():void 0;case"setvalue":t(r).val(i),r&&void 0!==r.inputmask&&t(r).triggerHandler("setvalue");break;case"option":if("string"!=typeof i)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void 0});if(r&&void 0!==r.inputmask)return r.inputmask.option(i);break;default:return i.alias=n,o=new e(i),this.each(function(){o.mask(this)})}else{if("object"==typeof n)return o=new e(n),void 0===n.mask&&void 0===n.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void o.mask(this)}):this.each(function(){o.mask(this)});if(void 0===n)return this.each(function(){o=new e(i),o.mask(this)})}}),t.fn.inputmask}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e,n){var i,o,r,a,s,c=t('<div class="minicolors" />'),u=t.minicolors.defaults;if(!e.data("minicolors-initialized")){if(n=t.extend(!0,{},u,n),c.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity).toggleClass("minicolors-no-data-uris",n.dataUris!==!0),void 0!==n.position&&t.each(n.position.split(" "),function(){c.addClass("minicolors-position-"+this)}),i="rgb"===n.format?n.opacity?"25":"20":n.keywords?"11":"7",e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",i).wrap(c).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-input-swatch").on("click",function(t){t.preventDefault(),e.focus()})),a=e.parent().find(".minicolors-panel"),a.on("selectstart",function(){return!1}).end(),n.swatches&&0!==n.swatches.length)for(n.swatches.length>7&&(n.swatches.length=7),a.addClass("minicolors-with-swatches"),o=t('<ul class="minicolors-swatches"></ul>').appendTo(a),s=0;s<n.swatches.length;++s)r=n.swatches[s],r=v(r)?f(r,!0):S(p(r,!0)),t('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(o).data("swatch-color",n.swatches[s]).find(".minicolors-swatch-color").css({backgroundColor:k(r),opacity:r.a}),n.swatches[s]=r;n.inline&&e.parent().addClass("minicolors-inline"),l(e,!1),e.data("minicolors-initialized",!0)}}function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function i(t){var e=t.parent(),n=e.find(".minicolors-panel"),i=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(o(),e.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(t.get(0))}))}function o(){t(".minicolors-focus").each(function(){var e=t(this),n=e.find(".minicolors-input"),i=e.find(".minicolors-panel"),o=n.data("minicolors-settings");i.fadeOut(o.hideSpeed,function(){o.hide&&o.hide.call(n.get(0)),e.removeClass("minicolors-focus")})})}function r(t,e,n){var i,o,r,s,l=t.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),u=t.find("[class$=-picker]"),d=t.offset().left,h=t.offset().top,p=Math.round(e.pageX-d),f=Math.round(e.pageY-h),m=n?c.animationSpeed:0;e.originalEvent.changedTouches&&(p=e.originalEvent.changedTouches[0].pageX-d,f=e.originalEvent.changedTouches[0].pageY-h),p<0&&(p=0),f<0&&(f=0),p>t.width()&&(p=t.width()),f>t.height()&&(f=t.height()),t.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(i=75-p,o=75-f,r=Math.sqrt(i*i+o*o),s=Math.atan2(o,i),s<0&&(s+=2*Math.PI),r>75&&(r=75,p=75-75*Math.cos(s),f=75-75*Math.sin(s)),p=Math.round(p),f=Math.round(f)),t.is(".minicolors-grid")?u.stop(!0).animate({top:f+"px",left:p+"px"},m,c.animationEasing,function(){a(l,t)}):u.stop(!0).animate({top:f+"px"},m,c.animationEasing,function(){a(l,t)})}function a(t,e){function n(t,e){var n,i;return t.length&&e?(n=t.offset().left,i=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:i-e.offset().top+t.outerHeight()/2}):null}var i,o,r,a,l,u,d,h=t.val(),p=t.attr("data-opacity"),f=t.parent(),m=t.data("minicolors-settings"),v=f.find(".minicolors-input-swatch"),y=f.find(".minicolors-grid"),b=f.find(".minicolors-slider"),w=f.find(".minicolors-opacity-slider"),k=y.find("[class$=-picker]"),C=b.find("[class$=-picker]"),_=w.find("[class$=-picker]"),S=n(k,y),D=n(C,b),T=n(_,w);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(m.control){case"wheel":a=y.width()/2-S.x,l=y.height()/2-S.y,u=Math.sqrt(a*a+l*l),d=Math.atan2(l,a),d<0&&(d+=2*Math.PI),u>75&&(u=75,S.x=69-75*Math.cos(d),S.y=69-75*Math.sin(d)),o=g(u/.75,0,100),i=g(180*d/Math.PI,0,360),r=g(100-Math.floor(D.y*(100/b.height())),0,100),h=x({h:i,s:o,b:r}),b.css("backgroundColor",x({h:i,s:o,b:100}));break;case"saturation":i=g(parseInt(S.x*(360/y.width()),10),0,360),o=g(100-Math.floor(D.y*(100/b.height())),0,100),r=g(100-Math.floor(S.y*(100/y.height())),0,100),h=x({h:i,s:o,b:r}),b.css("backgroundColor",x({h:i,s:100,b:r})),f.find(".minicolors-grid-inner").css("opacity",o/100);break;case"brightness":i=g(parseInt(S.x*(360/y.width()),10),0,360),o=g(100-Math.floor(S.y*(100/y.height())),0,100),r=g(100-Math.floor(D.y*(100/b.height())),0,100),h=x({h:i,s:o,b:r}),b.css("backgroundColor",x({h:i,s:o,b:100})),f.find(".minicolors-grid-inner").css("opacity",1-r/100);break;default:i=g(360-parseInt(D.y*(360/b.height()),10),0,360),o=g(Math.floor(S.x*(100/y.width())),0,100),r=g(100-Math.floor(S.y*(100/y.height())),0,100),h=x({h:i,s:o,b:r}),y.css("backgroundColor",x({h:i,s:100,b:100}))}p=m.opacity?parseFloat(1-T.y/w.height()).toFixed(2):1,s(t,h,p)}else v.find("span").css({backgroundColor:h,opacity:p}),c(t,h,p)}function s(t,e,n){var i,o=t.parent(),r=t.data("minicolors-settings"),a=o.find(".minicolors-input-swatch");r.opacity&&t.attr("data-opacity",n),"rgb"===r.format?(i=v(e)?f(e,!0):S(p(e,!0)),n=""===t.attr("data-opacity")?1:g(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&r.opacity||(n=1),e=t.minicolors("rgbObject").a<=1&&i&&r.opacity?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):(v(e)&&(e=w(e)),e=h(e,r.letterCase)),t.val(e),a.find("span").css({backgroundColor:e,opacity:n}),c(t,e,n)}function l(e,n){var i,o,r,a,s,l,u,d,b,k,_=e.parent(),S=e.data("minicolors-settings"),D=_.find(".minicolors-input-swatch"),T=_.find(".minicolors-grid"),$=_.find(".minicolors-slider"),E=_.find(".minicolors-opacity-slider"),A=T.find("[class$=-picker]"),I=$.find("[class$=-picker]"),P=E.find("[class$=-picker]");switch(v(e.val())?(i=w(e.val()),s=g(parseFloat(y(e.val())).toFixed(2),0,1),s&&e.attr("data-opacity",s)):i=h(p(e.val(),!0),S.letterCase),i||(i=h(m(S.defaultValue,!0),S.letterCase)),o=C(i),a=S.keywords?t.map(S.keywords.split(","),function(e){return t.trim(e.toLowerCase())}):[],l=""!==e.val()&&t.inArray(e.val().toLowerCase(),a)>-1?h(e.val()):v(e.val())?f(e.val()):i,n||e.val(l),S.opacity&&(r=""===e.attr("data-opacity")?1:g(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),e.attr("data-opacity",r),D.find("span").css("opacity",r),d=g(E.height()-E.height()*r,0,E.height()),P.css("top",d+"px")),"transparent"===e.val().toLowerCase()&&D.find("span").css("opacity",0),D.find("span").css("backgroundColor",i),S.control){case"wheel":b=g(Math.ceil(.75*o.s),0,T.height()/2),k=o.h*Math.PI/180,u=g(75-Math.cos(k)*b,0,T.width()),d=g(75-Math.sin(k)*b,0,T.height()),A.css({top:d+"px",left:u+"px"}),d=150-o.b/(100/T.height()),""===i&&(d=0),I.css("top",d+"px"),$.css("backgroundColor",x({h:o.h,s:o.s,b:100}));break;case"saturation":u=g(5*o.h/12,0,150),d=g(T.height()-Math.ceil(o.b/(100/T.height())),0,T.height()),A.css({top:d+"px",left:u+"px"}),d=g($.height()-o.s*($.height()/100),0,$.height()),I.css("top",d+"px"),$.css("backgroundColor",x({h:o.h,s:100,b:o.b})),_.find(".minicolors-grid-inner").css("opacity",o.s/100);break;case"brightness":u=g(5*o.h/12,0,150),d=g(T.height()-Math.ceil(o.s/(100/T.height())),0,T.height()),A.css({top:d+"px",left:u+"px"}),d=g($.height()-o.b*($.height()/100),0,$.height()),I.css("top",d+"px"),$.css("backgroundColor",x({h:o.h,s:o.s,b:100})),_.find(".minicolors-grid-inner").css("opacity",1-o.b/100);break;default:u=g(Math.ceil(o.s/(100/T.width())),0,T.width()),d=g(T.height()-Math.ceil(o.b/(100/T.height())),0,T.height()),A.css({top:d+"px",left:u+"px"}),d=g($.height()-o.h/(360/$.height()),0,$.height()),I.css("top",d+"px"),T.css("backgroundColor",x({h:o.h,s:100,b:100}))}e.data("minicolors-initialized")&&c(e,l,r)}function c(t,e,n){var i,o,r,a=t.data("minicolors-settings"),s=t.data("minicolors-lastChange");if(!s||s.value!==e||s.opacity!==n){if(t.data("minicolors-lastChange",{value:e,opacity:n}),a.swatches&&0!==a.swatches.length){for(i=v(e)?f(e,!0):S(e),o=-1,r=0;r<a.swatches.length;++r)if(i.r===a.swatches[r].r&&i.g===a.swatches[r].g&&i.b===a.swatches[r].b&&i.a===a.swatches[r].a){o=r;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),r!==-1&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(r).addClass("selected")}a.change&&(a.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){a.change.call(t.get(0),e,n)},a.changeDelay))):a.change.call(t.get(0),e,n)),t.trigger("change").trigger("input")}}function u(e){var n=p(t(e).val(),!0),i=S(n),o=t(e).attr("data-opacity");return i?(void 0!==o&&t.extend(i,{a:parseFloat(o)}),i):null}function d(e,n){var i=p(t(e).val(),!0),o=S(i),r=t(e).attr("data-opacity");return o?(void 0===r&&(r=1),n?"rgba("+o.r+", "+o.g+", "+o.b+", "+parseFloat(r)+")":"rgb("+o.r+", "+o.g+", "+o.b+")"):null}function h(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function p(t,e){return t=t.replace(/^#/g,""),t.match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function f(t,e){var n=t.replace(/[^\d,.]/g,""),i=n.split(",");return i[0]=g(parseInt(i[0],10),0,255),i[1]=g(parseInt(i[1],10),0,255),i[2]=g(parseInt(i[2],10),0,255),i[3]&&(i[3]=g(parseFloat(i[3],10),0,1)),e?{r:i[0],g:i[1],b:i[2],a:i[3]?i[3]:null}:"undefined"!=typeof i[3]&&i[3]<=1?"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+")":"rgb("+i[0]+", "+i[1]+", "+i[2]+")"}function m(t,e){return v(t)?f(t):p(t,e)}function g(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}function v(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function y(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i),t&&6===t.length?t[4]:"1"}function b(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),o=Math.round(255*t.b/100);if(0===i)e.r=e.g=e.b=o;else{var r=o,a=(255-i)*o/255,s=(r-a)*(n%60)/60;360===n&&(n=0),n<60?(e.r=r,e.b=a,e.g=a+s):n<120?(e.g=r,e.b=a,e.r=r-s):n<180?(e.g=r,e.r=a,e.b=a+s):n<240?(e.b=r,e.r=a,e.g=r-s):n<300?(e.b=r,e.g=a,e.r=a+s):n<360?(e.r=r,e.g=a,e.b=r-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function w(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function k(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function x(t){return k(b(t))}function C(t){var e=_(S(t));return 0===e.s&&(e.h=360),e}function _(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),o=i-n;return e.b=i,e.s=0!==i?255*o/i:0,0!==e.s?t.r===i?e.h=(t.g-t.b)/o:t.g===i?e.h=2+(t.b-t.r)/o:e.h=4+(t.r-t.g)/o:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function S(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},t.extend(t.fn,{minicolors:function(r,a){switch(r){case"destroy":return t(this).each(function(){n(t(this))}),t(this);case"hide":return o(),t(this);case"opacity":return void 0===a?t(this).attr("data-opacity"):(t(this).each(function(){l(t(this).attr("data-opacity",a))}),t(this));case"rgbObject":return u(t(this),"rgbaObject"===r);case"rgbString":case"rgbaString":return d(t(this),"rgbaString"===r);case"settings":return void 0===a?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};n(t(this)),t(this).minicolors(t.extend(!0,e,a))}),t(this));case"show":return i(t(this).eq(0)),t(this);case"value":return void 0===a?t(this).val():(t(this).each(function(){"object"==typeof a?(a.opacity&&t(this).attr("data-opacity",g(a.opacity,0,1)),a.color&&t(this).val(a.color)):t(this).val(a),l(t(this))}),t(this));default:return"create"!==r&&(a=r),t(this).each(function(){e(t(this),a)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||o()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var n=t(this);e.preventDefault(),t(document).data("minicolors-target",n),r(n,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var n=t(document).data("minicolors-target");n&&r(n,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(e){e.preventDefault();var n=t(this),i=n.parents(".minicolors").find(".minicolors-input"),o=n.data("swatch-color");s(i,o,y(o)),l(i)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(e){var n=t(this).parent().find(".minicolors-input");e.preventDefault(),i(n)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&i(e)}).on("blur.minicolors",".minicolors-input",function(){var e,n,i,o,r,a=t(this),s=a.data("minicolors-settings");a.data("minicolors-initialized")&&(e=s.keywords?t.map(s.keywords.split(","),function(e){return t.trim(e.toLowerCase())}):[],""!==a.val()&&t.inArray(a.val().toLowerCase(),e)>-1?r=a.val():(v(a.val())?i=f(a.val(),!0):(n=p(a.val(),!0),i=n?S(n):null),r=null===i?s.defaultValue:"rgb"===s.format?f(s.opacity?"rgba("+i.r+","+i.g+","+i.b+","+a.attr("data-opacity")+")":"rgb("+i.r+","+i.g+","+i.b+")"):k(i)),o=s.opacity?a.attr("data-opacity"):1,"transparent"===r.toLowerCase()&&(o=0),a.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",o),a.val(r),""===a.val()&&a.val(m(s.defaultValue,!0)),a.val(h(a.val(),s.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var n=t(this);if(n.data("minicolors-initialized"))switch(e.keyCode){case 9:o();break;case 13:case 27:o(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&l(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){l(e,!0)},1)})}),function(t){function e(e,n,i){var o=n.data("dF").dirtyFieldsDataProperty,r=t.inArray(e,o);"dirty"==i&&r==-1?(o.push(e),n.data("dF").dirtyFieldsDataProperty=o):"clean"==i&&r>-1&&(o.splice(r,1),n.data("dF").dirtyFieldsDataProperty=o)}function n(e){e.data("dF").dirtyFieldsDataProperty.length>0?(e.addClass(e.data("dF").dirtyFormClass),t.isFunction(e.data("dF").formChangeCallback)&&e.data("dF").formChangeCallback.call(e,!0,e.data("dF").dirtyFieldsDataProperty)):(e.removeClass(e.data("dF").dirtyFormClass),t.isFunction(e.data("dF").formChangeCallback)&&e.data("dF").formChangeCallback.call(e,!1,e.data("dF").dirtyFieldsDataProperty))}function i(e,n,i,o){if(o.data("dF").denoteDirtyFields){var r=o.data("dF").fieldOverrides,a=n.attr("id"),s=!1;for(var l in r)a==l&&("changed"==i?t("#"+r[l]).addClass(o.data("dF").dirtyFieldClass):t("#"+r[l]).removeClass(o.data("dF").dirtyFieldClass),s=!0);if(0==s){var c=o.data("dF")[e],u=c.split("-");switch(u[0]){case"next":"changed"==i?n.next(u[1]).addClass(o.data("dF").dirtyFieldClass):n.next(u[1]).removeClass(o.data("dF").dirtyFieldClass);break;case"previous":"changed"==i?n.prev(u[1]).addClass(o.data("dF").dirtyFieldClass):n.prev(u[1]).removeClass(o.data("dF").dirtyFieldClass);break;case"closest":"changed"==i?n.closest(u[1]).addClass(o.data("dF").dirtyFieldClass):n.closest(u[1]).removeClass(o.data("dF").dirtyFieldClass);break;case"self":"changed"==i?n.addClass(o.data("dF").dirtyFieldClass):n.removeClass(o.data("dF").dirtyFieldClass);break;default:if("id"==u[0]||"name"==u[0])switch(u[1]){case"class":"changed"==i?t("."+n.attr(u[0]),o).addClass(o.data("dF").dirtyFieldClass):t("."+n.attr(u[0]),o).removeClass(o.data("dF").dirtyFieldClass);break;case"title":"changed"==i?t("*[title='"+n.attr(u[0])+"']",o).addClass(o.data("dF").dirtyFieldClass):t("*[title='"+n.attr(u[0])+"']",o).removeClass(o.data("dF").dirtyFieldClass);break;case"for":"changed"==i?t("label[for='"+n.attr(u[0])+"']",o).addClass(o.data("dF").dirtyFieldClass):t("label[for='"+n.attr(u[0])+"']",o).removeClass(o.data("dF").dirtyFieldClass)}}}}}function o(o,r){var a=o.attr("name"),s=!1;if(r.data("dF").trimText)var l=jQuery.trim(o.val());else var l=o.val();if(o.hasClass(r.data("dF").ignoreCaseClass))var l=l.toUpperCase(),c=o.data(r.data("dF").startingValueDataProperty).toUpperCase();else var c=o.data(r.data("dF").startingValueDataProperty);l!=c?(i("textboxContext",o,"changed",r),e(a,r,"dirty"),s=!0):(i("textboxContext",o,"unchanged",r),e(a,r,"clean")),t.isFunction(r.data("dF").fieldChangeCallback)&&r.data("dF").fieldChangeCallback.call(o,o.data(r.data("dF").startingValueDataProperty),s),r.data("dF").denoteDirtyForm&&n(r)}function r(o,r){var a=o.attr("name"),s=!1;if(0==r.data("dF").denoteDirtyOptions&&1!=o.attr("multiple")){if(o.hasClass(r.data("dF").ignoreCaseClass))var l=o.val().toUpperCase(),c=o.data(r.data("dF").startingValueDataProperty).toUpperCase();else var l=o.val(),c=o.data(r.data("dF").startingValueDataProperty);l!=c?(i("selectContext",o,"changed",r),e(a,r,"dirty"),s=!0):(i("selectContext",o,"unchanged",r),e(a,r,"clean"))}else{var u=!1;o.children("option").each(function(){var e=t(this),n=e.is(":selected");n!=e.data(r.data("dF").startingValueDataProperty)?(r.data("dF").denoteDirtyOptions&&e.addClass(r.data("dF").dirtyOptionClass),u=!0):r.data("dF").denoteDirtyOptions&&e.removeClass(r.data("dF").dirtyOptionClass)}),u?(i("selectContext",o,"changed",r),e(a,r,"dirty"),s=!0):(i("selectContext",o,"unchanged",r),e(a,r,"clean"))}t.isFunction(r.data("dF").fieldChangeCallback)&&r.data("dF").fieldChangeCallback.call(o,o.data(r.data("dF").startingValueDataProperty),s),r.data("dF").denoteDirtyForm&&n(r)}function a(o,r){var a=o.attr("name"),s=!1,l=o.attr("type");t(":"+l+"[name='"+a+"']",r).each(function(){var e=t(this),n=e.is(":checked");n!=e.data(r.data("dF").startingValueDataProperty)?(i("checkboxRadioContext",e,"changed",r),s=!0):i("checkboxRadioContext",e,"unchanged",r)}),s?e(a,r,"dirty"):e(a,r,"clean"),t.isFunction(r.data("dF").fieldChangeCallback)&&r.data("dF").fieldChangeCallback.call(o,o.data(r.data("dF").startingValueDataProperty),s),r.data("dF").denoteDirtyForm&&n(r)}t.fn.dirtyFields=function(e){var n=t.extend({},t.fn.dirtyFields.defaults,e);return this.each(function(){var e=t(this);e.data("dF",n),e.data("dF").dirtyFieldsDataProperty=new Array,t("input[type='text'],input[type='file'],input[type='password'],textarea",e).not("."+e.data("dF").exclusionClass).each(function(){t.fn.dirtyFields.configureField(t(this),e,"text")}),t("select",e).not("."+e.data("dF").exclusionClass).each(function(){t.fn.dirtyFields.configureField(t(this),e,"select")}),t(":checkbox,:radio",e).not("."+e.data("dF").exclusionClass).each(function(){t.fn.dirtyFields.configureField(t(this),e,"checkRadio")}),t.fn.dirtyFields.setStartingValues(e)})},t.fn.dirtyFields.defaults={checkboxRadioContext:"next-span",denoteDirtyOptions:!1,denoteDirtyFields:!0,denoteDirtyForm:!1,dirtyFieldClass:"dirtyField",dirtyFieldsDataProperty:"dirtyFields",dirtyFormClass:"dirtyForm",dirtyOptionClass:"dirtyOption",exclusionClass:"dirtyExclude",fieldChangeCallback:"",fieldOverrides:{none:"none"},formChangeCallback:"",ignoreCaseClass:"dirtyIgnoreCase",preFieldChangeCallback:"",selectContext:"id-for",startingValueDataProperty:"startingValue",textboxContext:"id-for",trimText:!1},t.fn.dirtyFields.configureField=function(e,n,i,s){if(!e.hasClass(n.data("dF").exclusionClass))switch("undefined"!=typeof s&&(n.data("dF").fieldOverrides[e.attr("id")]=s),i){case"text":e.change(function(){return(!t.isFunction(n.data("dF").preFieldChangeCallback)||0!=n.data("dF").preFieldChangeCallback.call(e,e.data(n.data("dF").startingValueDataProperty)))&&void o(e,n)});break;case"select":e.change(function(){return(!t.isFunction(n.data("dF").preFieldChangeCallback)||0!=n.data("dF").preFieldChangeCallback.call(e,e.data(n.data("dF").startingValueDataProperty)))&&void r(e,n)});break;case"checkRadio":e.change(function(){return(!t.isFunction(n.data("dF").preFieldChangeCallback)||0!=n.data("dF").preFieldChangeCallback.call(e,e.data(n.data("dF").startingValueDataProperty)))&&void a(e,n)})}},t.fn.dirtyFields.formSaved=function(e){t.fn.dirtyFields.setStartingValues(e),t.fn.dirtyFields.markContainerFieldsClean(e)},t.fn.dirtyFields.markContainerFieldsClean=function(e){var n=new Array;e.data("dF").dirtyFieldsDataProperty=n,t("."+e.data("dF").dirtyFieldClass,e).removeClass(e.data("dF").dirtyFieldClass),e.data("dF").denoteDirtyOptions&&t("."+e.data("dF").dirtyOptionClass,e).removeClass(e.data("dF").dirtyOptionClass),e.data("dF").denoteDirtyForm&&e.removeClass(e.data("dF").dirtyFormClass)},t.fn.dirtyFields.setStartingValues=function(e){t("input[type='text'],input[type='file'],input[type='password'],:checkbox,:radio,textarea",e).not("."+e.data("dF").exclusionClass).each(function(){var n=t(this);"radio"==n.attr("type")||"checkbox"==n.attr("type")?t.fn.dirtyFields.setStartingCheckboxRadioValue(n,e):t.fn.dirtyFields.setStartingTextValue(n,e)}),t("select",e).not("."+e.data("dF").exclusionClass).each(function(){t.fn.dirtyFields.setStartingSelectValue(t(this),e)})},t.fn.dirtyFields.setStartingTextValue=function(e,n){return e.not("."+n.data("dF").exclusionClass).each(function(){var e=t(this);e.data(n.data("dF").startingValueDataProperty,e.val())})},t.fn.dirtyFields.setStartingCheckboxRadioValue=function(e,n){return e.not("."+n.data("dF").exclusionClass).each(function(){var e=t(this);e.is(":checked")?e.data(n.data("dF").startingValueDataProperty,!0):e.data(n.data("dF").startingValueDataProperty,!1)})},t.fn.dirtyFields.setStartingSelectValue=function(e,n){return e.not("."+n.data("dF").exclusionClass).each(function(){var e=t(this);if(0==n.data("dF").denoteDirtyOptions&&1!=e.attr("multiple"))e.data(n.data("dF").startingValueDataProperty,e.val());else{var i=new Array;e.children("option").each(function(){var e=t(this);e.is(":selected")?(e.data(n.data("dF").startingValueDataProperty,!0),i.push(e.val())):e.data(n.data("dF").startingValueDataProperty,!1)}),e.data(n.data("dF").startingValueDataProperty,i)}})},t.fn.dirtyFields.rollbackTextValue=function(e,n,i){return"undefined"==typeof i&&(i=!0),e.not("."+n.data("dF").exclusionClass).each(function(){var e=t(this);e.val(e.data(n.data("dF").startingValueDataProperty)),i&&o(e,n)})},t.fn.dirtyFields.updateTextState=function(e,n){return e.not("."+n.data("dF").exclusionClass).each(function(){o(t(this),n)})},t.fn.dirtyFields.rollbackCheckboxRadioState=function(e,n,i){return"undefined"==typeof i&&(i=!0),e.not("."+n.data("dF").exclusionClass).each(function(){var e=t(this);e.data(n.data("dF").startingValueDataProperty)?e.attr("checked",!0):e.attr("checked",!1),i&&a(e,n)})},t.fn.dirtyFields.updateCheckboxRadioState=function(e,n){return e.not("."+n.data("dF").exclusionClass).each(function(){a(t(this),n)})},t.fn.dirtyFields.rollbackSelectState=function(e,n,i){return"undefined"==typeof i&&(i=!0),e.not("."+n.data("dF").exclusionClass).each(function(){var e=t(this);0==n.data("dF").denoteDirtyOptions&&1!=e.attr("multiple")?e.val(e.data(n.data("dF").startingValueDataProperty)):e.children("option").each(function(){var e=t(this);e.data(n.data("dF").startingValueDataProperty)?e.attr("selected",!0):e.attr("selected",!1)}),i&&r(e,n)})},t.fn.dirtyFields.updateSelectState=function(e,n){return e.not("."+n.data("dF").exclusionClass).each(function(){r(t(this),n)})},t.fn.dirtyFields.rollbackForm=function(e){t("input[type='text'],input[type='file'],input[type='password'],:checkbox,:radio,textarea",e).not("."+e.data("dF").exclusionClass).each(function(){$object=t(this),"radio"==$object.attr("type")||"checkbox"==$object.attr("type")?t.fn.dirtyFields.rollbackCheckboxRadioState($object,e,!1):t.fn.dirtyFields.rollbackTextValue($object,e,!1)}),t("select",e).not("."+e.data("dF").exclusionClass).each(function(){t.fn.dirtyFields.rollbackSelectState(t(this),e,!1)}),t.fn.dirtyFields.markContainerFieldsClean(e)},t.fn.dirtyFields.updateFormState=function(e){t("input[type='text'],input[type='file'],input[type='password'],:checkbox,:radio,textarea",e).not("."+e.data("dF").exclusionClass).each(function(){
$object=t(this),"radio"==$object.attr("type")||"checkbox"==$object.attr("type")?t.fn.dirtyFields.updateCheckboxRadioState($object,e):t.fn.dirtyFields.updateTextState($object,e)}),t("select",e).not("."+e.data("dF").exclusionClass).each(function(){$object=t(this),t.fn.dirtyFields.updateSelectState($object,e)})},t.fn.dirtyFields.getDirtyFieldNames=function(t){return t.data("dF").dirtyFieldsDataProperty}}(jQuery),function(t){t.color={},t.color.make=function(e,n,i,o){var r={};return r.r=e||0,r.g=n||0,r.b=i||0,r.a=null!=o?o:1,r.add=function(t,e){for(var n=0;n<t.length;++n)r[t.charAt(n)]+=e;return r.normalize()},r.scale=function(t,e){for(var n=0;n<t.length;++n)r[t.charAt(n)]*=e;return r.normalize()},r.toString=function(){return r.a>=1?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"},r.normalize=function(){function t(t,e,n){return e<t?t:e>n?n:e}return r.r=t(0,parseInt(r.r),255),r.g=t(0,parseInt(r.g),255),r.b=t(0,parseInt(r.b),255),r.a=t(0,r.a,1),r},r.clone=function(){return t.color.make(r.r,r.b,r.g,r.a)},r.normalize()},t.color.extract=function(e,n){var i;do{if(i=e.css(n).toLowerCase(),""!=i&&"transparent"!=i)break;e=e.parent()}while(e.length&&!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),t.color.parse(i)},t.color.parse=function(n){var i,o=t.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return o(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10));if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return o(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return o(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]));if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return o(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]),parseFloat(i[4]));if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return o(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16));if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return o(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16));var r=t.trim(n).toLowerCase();return"transparent"==r?o(255,255,255,0):(i=e[r]||[0,0,0],o(i[0],i[1],i[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,n){var i=n.children("."+e)[0];if(null==i&&(i=document.createElement("canvas"),i.className=e,t(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var o=this.context=i.getContext("2d"),r=window.devicePixelRatio||1,a=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;this.pixelRatio=r/a,this.resize(n.width(),n.height()),this.textContainer=null,this.text={},this._textCache={}}function n(n,o,r,a){function s(t,e){e=[gt].concat(e);for(var n=0;n<t.length;++n)t[n].apply(this,e)}function l(){for(var n={Canvas:e},i=0;i<a.length;++i){var o=a[i];o.init(gt,n),o.options&&t.extend(!0,ot,o.options)}}function c(e){t.extend(!0,ot,e),e&&e.colors&&(ot.colors=e.colors),null==ot.xaxis.color&&(ot.xaxis.color=t.color.parse(ot.grid.color).scale("a",.22).toString()),null==ot.yaxis.color&&(ot.yaxis.color=t.color.parse(ot.grid.color).scale("a",.22).toString()),null==ot.xaxis.tickColor&&(ot.xaxis.tickColor=ot.grid.tickColor||ot.xaxis.color),null==ot.yaxis.tickColor&&(ot.yaxis.tickColor=ot.grid.tickColor||ot.yaxis.color),null==ot.grid.borderColor&&(ot.grid.borderColor=ot.grid.color),null==ot.grid.tickColor&&(ot.grid.tickColor=t.color.parse(ot.grid.color).scale("a",.22).toString());var i,o,r,a=n.css("font-size"),l=a?+a.replace("px",""):13,c={style:n.css("font-style"),size:Math.round(.8*l),variant:n.css("font-variant"),weight:n.css("font-weight"),family:n.css("font-family")};for(r=ot.xaxes.length||1,i=0;i<r;++i)o=ot.xaxes[i],o&&!o.tickColor&&(o.tickColor=o.color),o=t.extend(!0,{},ot.xaxis,o),ot.xaxes[i]=o,o.font&&(o.font=t.extend({},c,o.font),o.font.color||(o.font.color=o.color),o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size)));for(r=ot.yaxes.length||1,i=0;i<r;++i)o=ot.yaxes[i],o&&!o.tickColor&&(o.tickColor=o.color),o=t.extend(!0,{},ot.yaxis,o),ot.yaxes[i]=o,o.font&&(o.font=t.extend({},c,o.font),o.font.color||(o.font.color=o.color),o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size)));for(ot.xaxis.noTicks&&null==ot.xaxis.ticks&&(ot.xaxis.ticks=ot.xaxis.noTicks),ot.yaxis.noTicks&&null==ot.yaxis.ticks&&(ot.yaxis.ticks=ot.yaxis.noTicks),ot.x2axis&&(ot.xaxes[1]=t.extend(!0,{},ot.xaxis,ot.x2axis),ot.xaxes[1].position="top",null==ot.x2axis.min&&(ot.xaxes[1].min=null),null==ot.x2axis.max&&(ot.xaxes[1].max=null)),ot.y2axis&&(ot.yaxes[1]=t.extend(!0,{},ot.yaxis,ot.y2axis),ot.yaxes[1].position="right",null==ot.y2axis.min&&(ot.yaxes[1].min=null),null==ot.y2axis.max&&(ot.yaxes[1].max=null)),ot.grid.coloredAreas&&(ot.grid.markings=ot.grid.coloredAreas),ot.grid.coloredAreasColor&&(ot.grid.markingsColor=ot.grid.coloredAreasColor),ot.lines&&t.extend(!0,ot.series.lines,ot.lines),ot.points&&t.extend(!0,ot.series.points,ot.points),ot.bars&&t.extend(!0,ot.series.bars,ot.bars),null!=ot.shadowSize&&(ot.series.shadowSize=ot.shadowSize),null!=ot.highlightColor&&(ot.series.highlightColor=ot.highlightColor),i=0;i<ot.xaxes.length;++i)g(ut,i+1).options=ot.xaxes[i];for(i=0;i<ot.yaxes.length;++i)g(dt,i+1).options=ot.yaxes[i];for(var u in mt)ot.hooks[u]&&ot.hooks[u].length&&(mt[u]=mt[u].concat(ot.hooks[u]));s(mt.processOptions,[ot])}function u(t){it=d(t),v(),y()}function d(e){for(var n=[],i=0;i<e.length;++i){var o=t.extend(!0,{},ot.series);null!=e[i].data?(o.data=e[i].data,delete e[i].data,t.extend(!0,o,e[i]),e[i].data=o.data):o.data=e[i],n.push(o)}return n}function h(t,e){var n=t[e+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function p(){return t.grep(ut.concat(dt),function(t){return t})}function f(t){var e,n,i={};for(e=0;e<ut.length;++e)n=ut[e],n&&n.used&&(i["x"+n.n]=n.c2p(t.left));for(e=0;e<dt.length;++e)n=dt[e],n&&n.used&&(i["y"+n.n]=n.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function m(t){var e,n,i,o={};for(e=0;e<ut.length;++e)if(n=ut[e],n&&n.used&&(i="x"+n.n,null==t[i]&&1==n.n&&(i="x"),null!=t[i])){o.left=n.p2c(t[i]);break}for(e=0;e<dt.length;++e)if(n=dt[e],n&&n.used&&(i="y"+n.n,null==t[i]&&1==n.n&&(i="y"),null!=t[i])){o.top=n.p2c(t[i]);break}return o}function g(e,n){return e[n-1]||(e[n-1]={n:n,direction:e==ut?"x":"y",options:t.extend(!0,{},e==ut?ot.xaxis:ot.yaxis)}),e[n-1]}function v(){var e,n=it.length,i=-1;for(e=0;e<it.length;++e){var o=it[e].color;null!=o&&(n--,"number"==typeof o&&o>i&&(i=o))}n<=i&&(n=i+1);var r,a=[],s=ot.colors,l=s.length,c=0;for(e=0;e<n;e++)r=t.color.parse(s[e%l]||"#666"),e%l==0&&e&&(c=c>=0?c<.5?-c-.2:0:-c),a[e]=r.scale("rgb",1+c);var u,d=0;for(e=0;e<it.length;++e){if(u=it[e],null==u.color?(u.color=a[d].toString(),++d):"number"==typeof u.color&&(u.color=a[u.color].toString()),null==u.lines.show){var p,f=!0;for(p in u)if(u[p]&&u[p].show){f=!1;break}f&&(u.lines.show=!0)}null==u.lines.zero&&(u.lines.zero=!!u.lines.fill),u.xaxis=g(ut,h(u,"x")),u.yaxis=g(dt,h(u,"y"))}}function y(){function e(t,e,n){e<t.datamin&&e!=-y&&(t.datamin=e),n>t.datamax&&n!=y&&(t.datamax=n)}var n,i,o,r,a,l,c,u,d,h,f,m,g=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=Number.MAX_VALUE;for(t.each(p(),function(t,e){e.datamin=g,e.datamax=v,e.used=!1}),n=0;n<it.length;++n)a=it[n],a.datapoints={points:[]},s(mt.processRawData,[a,a.data,a.datapoints]);for(n=0;n<it.length;++n){if(a=it[n],f=a.data,m=a.datapoints.format,!m){if(m=[],m.push({x:!0,number:!0,required:!0}),m.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var b=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);m.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),a.bars.horizontal&&(delete m[m.length-1].y,m[m.length-1].x=!0)}a.datapoints.format=m}if(null==a.datapoints.pointsize){a.datapoints.pointsize=m.length,c=a.datapoints.pointsize,l=a.datapoints.points;var w=a.lines.show&&a.lines.steps;for(a.xaxis.used=a.yaxis.used=!0,i=o=0;i<f.length;++i,o+=c){h=f[i];var k=null==h;if(!k)for(r=0;r<c;++r)u=h[r],d=m[r],d&&(d.number&&null!=u&&(u=+u,isNaN(u)?u=null:u==1/0?u=y:u==-(1/0)&&(u=-y)),null==u&&(d.required&&(k=!0),null!=d.defaultValue&&(u=d.defaultValue))),l[o+r]=u;if(k)for(r=0;r<c;++r)u=l[o+r],null!=u&&(d=m[r],d.autoscale!==!1&&(d.x&&e(a.xaxis,u,u),d.y&&e(a.yaxis,u,u))),l[o+r]=null;else if(w&&o>0&&null!=l[o-c]&&l[o-c]!=l[o]&&l[o-c+1]!=l[o+1]){for(r=0;r<c;++r)l[o+c+r]=l[o+r];l[o+1]=l[o-c+1],o+=c}}}}for(n=0;n<it.length;++n)a=it[n],s(mt.processDatapoints,[a,a.datapoints]);for(n=0;n<it.length;++n){a=it[n],l=a.datapoints.points,c=a.datapoints.pointsize,m=a.datapoints.format;var x=g,C=g,_=v,S=v;for(i=0;i<l.length;i+=c)if(null!=l[i])for(r=0;r<c;++r)u=l[i+r],d=m[r],d&&d.autoscale!==!1&&u!=y&&u!=-y&&(d.x&&(u<x&&(x=u),u>_&&(_=u)),d.y&&(u<C&&(C=u),u>S&&(S=u)));if(a.bars.show){var D;switch(a.bars.align){case"left":D=0;break;case"right":D=-a.bars.barWidth;break;default:D=-a.bars.barWidth/2}a.bars.horizontal?(C+=D,S+=D+a.bars.barWidth):(x+=D,_+=D+a.bars.barWidth)}e(a.xaxis,x,_),e(a.yaxis,C,S)}t.each(p(),function(t,e){e.datamin==g&&(e.datamin=null),e.datamax==v&&(e.datamax=null)})}function b(){n.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==n.css("position")&&n.css("position","relative"),rt=new e("flot-base",n),at=new e("flot-overlay",n),lt=rt.context,ct=at.context,st=t(at.element).unbind();var i=n.data("plot");i&&(i.shutdown(),at.clear()),n.data("plot",gt)}function w(){ot.grid.hoverable&&(st.mousemove(q),st.bind("mouseleave",Y)),ot.grid.clickable&&st.click(V),s(mt.bindEvents,[st])}function k(){yt&&clearTimeout(yt),st.unbind("mousemove",q),st.unbind("mouseleave",Y),st.unbind("click",V),s(mt.shutdown,[st])}function x(t){function e(t){return t}var n,i,o=t.options.transform||e,r=t.options.inverseTransform;"x"==t.direction?(n=t.scale=pt/Math.abs(o(t.max)-o(t.min)),i=Math.min(o(t.max),o(t.min))):(n=t.scale=ft/Math.abs(o(t.max)-o(t.min)),n=-n,i=Math.max(o(t.max),o(t.min))),o==e?t.p2c=function(t){return(t-i)*n}:t.p2c=function(t){return(o(t)-i)*n},r?t.c2p=function(t){return r(i+t/n)}:t.c2p=function(t){return i+t/n}}function C(t){for(var e=t.options,n=t.ticks||[],i=e.labelWidth||0,o=e.labelHeight||0,r=i||("x"==t.direction?Math.floor(rt.width/(n.length||1)):null),a=t.direction+"Axis "+t.direction+t.n+"Axis",s="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+a,l=e.font||"flot-tick-label tickLabel",c=0;c<n.length;++c){var u=n[c];if(u.label){var d=rt.getTextInfo(s,u.label,l,null,r);i=Math.max(i,d.width),o=Math.max(o,d.height)}}t.labelWidth=e.labelWidth||i,t.labelHeight=e.labelHeight||o}function _(e){var n=e.labelWidth,i=e.labelHeight,o=e.options.position,r="x"===e.direction,a=e.options.tickLength,s=ot.grid.axisMargin,l=ot.grid.labelMargin,c=!0,u=!0,d=!0,h=!1;t.each(r?ut:dt,function(t,n){n&&(n.show||n.reserveSpace)&&(n===e?h=!0:n.options.position===o&&(h?u=!1:c=!1),h||(d=!1))}),u&&(s=0),null==a&&(a=d?"full":5),isNaN(+a)||(l+=+a),r?(i+=l,"bottom"==o?(ht.bottom+=i+s,e.box={top:rt.height-ht.bottom,height:i}):(e.box={top:ht.top+s,height:i},ht.top+=i+s)):(n+=l,"left"==o?(e.box={left:ht.left+s,width:n},ht.left+=n+s):(ht.right+=n+s,e.box={left:rt.width-ht.right,width:n})),e.position=o,e.tickLength=a,e.box.padding=l,e.innermost=c}function S(t){"x"==t.direction?(t.box.left=ht.left-t.labelWidth/2,t.box.width=rt.width-ht.left-ht.right+t.labelWidth):(t.box.top=ht.top-t.labelHeight/2,t.box.height=rt.height-ht.bottom-ht.top+t.labelHeight)}function D(){var e,n=ot.grid.minBorderMargin;if(null==n)for(n=0,e=0;e<it.length;++e)n=Math.max(n,2*(it[e].points.radius+it[e].points.lineWidth/2));var i={left:n,right:n,top:n,bottom:n};t.each(p(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(i.left=Math.max(i.left,e.labelWidth/2),i.right=Math.max(i.right,e.labelWidth/2)):(i.bottom=Math.max(i.bottom,e.labelHeight/2),i.top=Math.max(i.top,e.labelHeight/2)))}),ht.left=Math.ceil(Math.max(i.left,ht.left)),ht.right=Math.ceil(Math.max(i.right,ht.right)),ht.top=Math.ceil(Math.max(i.top,ht.top)),ht.bottom=Math.ceil(Math.max(i.bottom,ht.bottom))}function T(){var e,n=p(),i=ot.grid.show;for(var o in ht){var r=ot.grid.margin||0;ht[o]="number"==typeof r?r:r[o]||0}s(mt.processOffset,[ht]);for(var o in ht)"object"==typeof ot.grid.borderWidth?ht[o]+=i?ot.grid.borderWidth[o]:0:ht[o]+=i?ot.grid.borderWidth:0;if(t.each(n,function(t,e){var n=e.options;e.show=null==n.show?e.used:n.show,e.reserveSpace=null==n.reserveSpace?e.show:n.reserveSpace,$(e)}),i){var a=t.grep(n,function(t){return t.show||t.reserveSpace});for(t.each(a,function(t,e){E(e),A(e),I(e,e.ticks),C(e)}),e=a.length-1;e>=0;--e)_(a[e]);D(),t.each(a,function(t,e){S(e)})}pt=rt.width-ht.left-ht.right,ft=rt.height-ht.bottom-ht.top,t.each(n,function(t,e){x(e)}),i&&O(),z()}function $(t){var e=t.options,n=+(null!=e.min?e.min:t.datamin),i=+(null!=e.max?e.max:t.datamax),o=i-n;if(0==o){var r=0==i?1:.01;null==e.min&&(n-=r),null!=e.max&&null==e.min||(i+=r)}else{var a=e.autoscaleMargin;null!=a&&(null==e.min&&(n-=o*a,n<0&&null!=t.datamin&&t.datamin>=0&&(n=0)),null==e.max&&(i+=o*a,i>0&&null!=t.datamax&&t.datamax<=0&&(i=0)))}t.min=n,t.max=i}function E(e){var n,o=e.options;n="number"==typeof o.ticks&&o.ticks>0?o.ticks:.3*Math.sqrt("x"==e.direction?rt.width:rt.height);var r=(e.max-e.min)/n,a=-Math.floor(Math.log(r)/Math.LN10),s=o.tickDecimals;null!=s&&a>s&&(a=s);var l,c=Math.pow(10,-a),u=r/c;if(u<1.5?l=1:u<3?(l=2,u>2.25&&(null==s||a+1<=s)&&(l=2.5,++a)):l=u<7.5?5:10,l*=c,null!=o.minTickSize&&l<o.minTickSize&&(l=o.minTickSize),e.delta=r,e.tickDecimals=Math.max(0,null!=s?s:a),e.tickSize=o.tickSize||l,"time"==o.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(e.tickGenerator||(e.tickGenerator=function(t){var e,n=[],o=i(t.min,t.tickSize),r=0,a=Number.NaN;do e=a,a=o+r*t.tickSize,n.push(a),++r;while(a<t.max&&a!=e);return n},e.tickFormatter=function(t,e){var n=e.tickDecimals?Math.pow(10,e.tickDecimals):1,i=""+Math.round(t*n)/n;if(null!=e.tickDecimals){var o=i.indexOf("."),r=o==-1?0:i.length-o-1;if(r<e.tickDecimals)return(r?i:i+".")+(""+n).substr(1,e.tickDecimals-r)}return i}),t.isFunction(o.tickFormatter)&&(e.tickFormatter=function(t,e){return""+o.tickFormatter(t,e)}),null!=o.alignTicksWithAxis){var d=("x"==e.direction?ut:dt)[o.alignTicksWithAxis-1];if(d&&d.used&&d!=e){var h=e.tickGenerator(e);if(h.length>0&&(null==o.min&&(e.min=Math.min(e.min,h[0])),null==o.max&&h.length>1&&(e.max=Math.max(e.max,h[h.length-1]))),e.tickGenerator=function(t){var e,n,i=[];for(n=0;n<d.ticks.length;++n)e=(d.ticks[n].v-d.min)/(d.max-d.min),e=t.min+e*(t.max-t.min),i.push(e);return i},!e.mode&&null==o.tickDecimals){var p=Math.max(0,-Math.floor(Math.log(e.delta)/Math.LN10)+1),f=e.tickGenerator(e);f.length>1&&/\..*0$/.test((f[1]-f[0]).toFixed(p))||(e.tickDecimals=p)}}}}function A(e){var n=e.options.ticks,i=[];null==n||"number"==typeof n&&n>0?i=e.tickGenerator(e):n&&(i=t.isFunction(n)?n(e):n);var o,r;for(e.ticks=[],o=0;o<i.length;++o){var a=null,s=i[o];"object"==typeof s?(r=+s[0],s.length>1&&(a=s[1])):r=+s,null==a&&(a=e.tickFormatter(r,e)),isNaN(r)||e.ticks.push({v:r,label:a})}}function I(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function P(){rt.clear(),s(mt.drawBackground,[lt]);var t=ot.grid;t.show&&t.backgroundColor&&F(),t.show&&!t.aboveData&&L();for(var e=0;e<it.length;++e)s(mt.drawSeries,[lt,it[e]]),j(it[e]);s(mt.draw,[lt]),t.show&&t.aboveData&&L(),rt.render(),Q()}function M(t,e){for(var n,i,o,r,a=p(),s=0;s<a.length;++s)if(n=a[s],n.direction==e&&(r=e+n.n+"axis",t[r]||1!=n.n||(r=e+"axis"),t[r])){i=t[r].from,o=t[r].to;break}if(t[r]||(n="x"==e?ut[0]:dt[0],i=t[e+"1"],o=t[e+"2"]),null!=i&&null!=o&&i>o){var l=i;i=o,o=l}return{from:i,to:o,axis:n}}function F(){lt.save(),lt.translate(ht.left,ht.top),lt.fillStyle=nt(ot.grid.backgroundColor,ft,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,pt,ft),lt.restore()}function L(){var e,n,i,o;lt.save(),lt.translate(ht.left,ht.top);var r=ot.grid.markings;if(r)for(t.isFunction(r)&&(n=gt.getAxes(),n.xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,r=r(n)),e=0;e<r.length;++e){var a=r[e],s=M(a,"x"),l=M(a,"y");if(null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),!(s.to<s.axis.min||s.from>s.axis.max||l.to<l.axis.min||l.from>l.axis.max)){s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max);var c=s.from===s.to,u=l.from===l.to;if(!c||!u)if(s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),c||u){var d=a.lineWidth||ot.grid.markingsLineWidth,h=d%2?.5:0;lt.beginPath(),lt.strokeStyle=a.color||ot.grid.markingsColor,lt.lineWidth=d,c?(lt.moveTo(s.to+h,l.from),lt.lineTo(s.to+h,l.to)):(lt.moveTo(s.from,l.to+h),lt.lineTo(s.to,l.to+h)),lt.stroke()}else lt.fillStyle=a.color||ot.grid.markingsColor,lt.fillRect(s.from,l.to,s.to-s.from,l.from-l.to)}}n=p(),i=ot.grid.borderWidth;for(var f=0;f<n.length;++f){var m,g,v,y,b=n[f],w=b.box,k=b.tickLength;if(b.show&&0!=b.ticks.length){for(lt.lineWidth=1,"x"==b.direction?(m=0,g="full"==k?"top"==b.position?0:ft:w.top-ht.top+("top"==b.position?w.height:0)):(g=0,m="full"==k?"left"==b.position?0:pt:w.left-ht.left+("left"==b.position?w.width:0)),b.innermost||(lt.strokeStyle=b.options.color,lt.beginPath(),v=y=0,"x"==b.direction?v=pt+1:y=ft+1,1==lt.lineWidth&&("x"==b.direction?g=Math.floor(g)+.5:m=Math.floor(m)+.5),lt.moveTo(m,g),lt.lineTo(m+v,g+y),lt.stroke()),lt.strokeStyle=b.options.tickColor,lt.beginPath(),e=0;e<b.ticks.length;++e){var x=b.ticks[e].v;v=y=0,isNaN(x)||x<b.min||x>b.max||"full"==k&&("object"==typeof i&&i[b.position]>0||i>0)&&(x==b.min||x==b.max)||("x"==b.direction?(m=b.p2c(x),y="full"==k?-ft:k,"top"==b.position&&(y=-y)):(g=b.p2c(x),v="full"==k?-pt:k,"left"==b.position&&(v=-v)),1==lt.lineWidth&&("x"==b.direction?m=Math.floor(m)+.5:g=Math.floor(g)+.5),lt.moveTo(m,g),lt.lineTo(m+v,g+y))}lt.stroke()}}i&&(o=ot.grid.borderColor,"object"==typeof i||"object"==typeof o?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof o&&(o={top:o,right:o,bottom:o,left:o}),i.top>0&&(lt.strokeStyle=o.top,lt.lineWidth=i.top,lt.beginPath(),lt.moveTo(0-i.left,0-i.top/2),lt.lineTo(pt,0-i.top/2),lt.stroke()),i.right>0&&(lt.strokeStyle=o.right,lt.lineWidth=i.right,lt.beginPath(),lt.moveTo(pt+i.right/2,0-i.top),lt.lineTo(pt+i.right/2,ft),lt.stroke()),i.bottom>0&&(lt.strokeStyle=o.bottom,lt.lineWidth=i.bottom,lt.beginPath(),lt.moveTo(pt+i.right,ft+i.bottom/2),lt.lineTo(0,ft+i.bottom/2),lt.stroke()),i.left>0&&(lt.strokeStyle=o.left,lt.lineWidth=i.left,lt.beginPath(),lt.moveTo(0-i.left/2,ft+i.bottom),lt.lineTo(0-i.left/2,0),lt.stroke())):(lt.lineWidth=i,lt.strokeStyle=ot.grid.borderColor,lt.strokeRect(-i/2,-i/2,pt+i,ft+i))),lt.restore()}function O(){t.each(p(),function(t,e){var n,i,o,r,a,s=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",c="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,u=e.options.font||"flot-tick-label tickLabel";if(rt.removeText(c),e.show&&0!=e.ticks.length)for(var d=0;d<e.ticks.length;++d)n=e.ticks[d],!n.label||n.v<e.min||n.v>e.max||("x"==e.direction?(r="center",i=ht.left+e.p2c(n.v),"bottom"==e.position?o=s.top+s.padding:(o=s.top+s.height-s.padding,a="bottom")):(a="middle",o=ht.top+e.p2c(n.v),"left"==e.position?(i=s.left+s.width-s.padding,r="right"):i=s.left+s.padding),rt.addText(c,i,o,n.label,u,null,null,r,a))})}function j(t){t.lines.show&&R(t),t.bars.show&&B(t),t.points.show&&N(t)}function R(t){function e(t,e,n,i,o){var r=t.points,a=t.pointsize,s=null,l=null;lt.beginPath();for(var c=a;c<r.length;c+=a){var u=r[c-a],d=r[c-a+1],h=r[c],p=r[c+1];if(null!=u&&null!=h){if(d<=p&&d<o.min){if(p<o.min)continue;u=(o.min-d)/(p-d)*(h-u)+u,d=o.min}else if(p<=d&&p<o.min){if(d<o.min)continue;h=(o.min-d)/(p-d)*(h-u)+u,p=o.min}if(d>=p&&d>o.max){if(p>o.max)continue;u=(o.max-d)/(p-d)*(h-u)+u,d=o.max}else if(p>=d&&p>o.max){if(d>o.max)continue;h=(o.max-d)/(p-d)*(h-u)+u,p=o.max}if(u<=h&&u<i.min){if(h<i.min)continue;d=(i.min-u)/(h-u)*(p-d)+d,u=i.min}else if(h<=u&&h<i.min){if(u<i.min)continue;p=(i.min-u)/(h-u)*(p-d)+d,h=i.min}if(u>=h&&u>i.max){if(h>i.max)continue;d=(i.max-u)/(h-u)*(p-d)+d,u=i.max}else if(h>=u&&h>i.max){if(u>i.max)continue;p=(i.max-u)/(h-u)*(p-d)+d,h=i.max}u==s&&d==l||lt.moveTo(i.p2c(u)+e,o.p2c(d)+n),s=h,l=p,lt.lineTo(i.p2c(h)+e,o.p2c(p)+n)}}lt.stroke()}function n(t,e,n){for(var i=t.points,o=t.pointsize,r=Math.min(Math.max(0,n.min),n.max),a=0,s=!1,l=1,c=0,u=0;;){if(o>0&&a>i.length+o)break;a+=o;var d=i[a-o],h=i[a-o+l],p=i[a],f=i[a+l];if(s){if(o>0&&null!=d&&null==p){u=a,o=-o,l=2;continue}if(o<0&&a==c+o){lt.fill(),s=!1,o=-o,l=1,a=c=u+o;continue}}if(null!=d&&null!=p){if(d<=p&&d<e.min){if(p<e.min)continue;h=(e.min-d)/(p-d)*(f-h)+h,d=e.min}else if(p<=d&&p<e.min){if(d<e.min)continue;f=(e.min-d)/(p-d)*(f-h)+h,p=e.min}if(d>=p&&d>e.max){if(p>e.max)continue;h=(e.max-d)/(p-d)*(f-h)+h,d=e.max}else if(p>=d&&p>e.max){if(d>e.max)continue;f=(e.max-d)/(p-d)*(f-h)+h,p=e.max}if(s||(lt.beginPath(),lt.moveTo(e.p2c(d),n.p2c(r)),s=!0),h>=n.max&&f>=n.max)lt.lineTo(e.p2c(d),n.p2c(n.max)),lt.lineTo(e.p2c(p),n.p2c(n.max));else if(h<=n.min&&f<=n.min)lt.lineTo(e.p2c(d),n.p2c(n.min)),lt.lineTo(e.p2c(p),n.p2c(n.min));else{var m=d,g=p;h<=f&&h<n.min&&f>=n.min?(d=(n.min-h)/(f-h)*(p-d)+d,h=n.min):f<=h&&f<n.min&&h>=n.min&&(p=(n.min-h)/(f-h)*(p-d)+d,f=n.min),h>=f&&h>n.max&&f<=n.max?(d=(n.max-h)/(f-h)*(p-d)+d,h=n.max):f>=h&&f>n.max&&h<=n.max&&(p=(n.max-h)/(f-h)*(p-d)+d,f=n.max),d!=m&&lt.lineTo(e.p2c(m),n.p2c(h)),lt.lineTo(e.p2c(d),n.p2c(h)),lt.lineTo(e.p2c(p),n.p2c(f)),p!=g&&(lt.lineTo(e.p2c(p),n.p2c(f)),lt.lineTo(e.p2c(g),n.p2c(f)))}}}}lt.save(),lt.translate(ht.left,ht.top),lt.lineJoin="round";var i=t.lines.lineWidth,o=t.shadowSize;if(i>0&&o>0){lt.lineWidth=o,lt.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;e(t.datapoints,Math.sin(r)*(i/2+o/2),Math.cos(r)*(i/2+o/2),t.xaxis,t.yaxis),lt.lineWidth=o/2,e(t.datapoints,Math.sin(r)*(i/2+o/4),Math.cos(r)*(i/2+o/4),t.xaxis,t.yaxis)}lt.lineWidth=i,lt.strokeStyle=t.color;var a=W(t.lines,t.color,0,ft);a&&(lt.fillStyle=a,n(t.datapoints,t.xaxis,t.yaxis)),i>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),lt.restore()}function N(t){function e(t,e,n,i,o,r,a,s){for(var l=t.points,c=t.pointsize,u=0;u<l.length;u+=c){var d=l[u],h=l[u+1];null==d||d<r.min||d>r.max||h<a.min||h>a.max||(lt.beginPath(),d=r.p2c(d),h=a.p2c(h)+i,"circle"==s?lt.arc(d,h,e,0,o?Math.PI:2*Math.PI,!1):s(lt,d,h,e,o),lt.closePath(),n&&(lt.fillStyle=n,lt.fill()),lt.stroke())}}lt.save(),lt.translate(ht.left,ht.top);var n=t.points.lineWidth,i=t.shadowSize,o=t.points.radius,r=t.points.symbol;if(0==n&&(n=1e-4),n>0&&i>0){var a=i/2;lt.lineWidth=a,lt.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,o,null,a+a/2,!0,t.xaxis,t.yaxis,r),lt.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,o,null,a/2,!0,t.xaxis,t.yaxis,r)}lt.lineWidth=n,lt.strokeStyle=t.color,e(t.datapoints,o,W(t.points,t.color),0,!1,t.xaxis,t.yaxis,r),lt.restore()}function H(t,e,n,i,o,r,a,s,l,c,u){var d,h,p,f,m,g,v,y,b;c?(y=g=v=!0,m=!1,d=n,h=t,f=e+i,p=e+o,h<d&&(b=h,h=d,d=b,m=!0,g=!1)):(m=g=v=!0,y=!1,d=t+i,h=t+o,p=n,f=e,f<p&&(b=f,f=p,p=b,y=!0,v=!1)),h<a.min||d>a.max||f<s.min||p>s.max||(d<a.min&&(d=a.min,m=!1),h>a.max&&(h=a.max,g=!1),p<s.min&&(p=s.min,y=!1),f>s.max&&(f=s.max,v=!1),d=a.p2c(d),p=s.p2c(p),h=a.p2c(h),f=s.p2c(f),r&&(l.fillStyle=r(p,f),l.fillRect(d,f,h-d,p-f)),u>0&&(m||g||v||y)&&(l.beginPath(),l.moveTo(d,p),m?l.lineTo(d,f):l.moveTo(d,f),v?l.lineTo(h,f):l.moveTo(h,f),g?l.lineTo(h,p):l.moveTo(h,p),y?l.lineTo(d,p):l.moveTo(d,p),l.stroke()))}function B(t){function e(e,n,i,o,r,a){for(var s=e.points,l=e.pointsize,c=0;c<s.length;c+=l)null!=s[c]&&H(s[c],s[c+1],s[c+2],n,i,o,r,a,lt,t.bars.horizontal,t.bars.lineWidth)}lt.save(),lt.translate(ht.left,ht.top),lt.lineWidth=t.bars.lineWidth,lt.strokeStyle=t.color;var n;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}var i=t.bars.fill?function(e,n){return W(t.bars,t.color,e,n)}:null;e(t.datapoints,n,n+t.bars.barWidth,i,t.xaxis,t.yaxis),lt.restore()}function W(e,n,i,o){var r=e.fill;if(!r)return null;if(e.fillColor)return nt(e.fillColor,i,o,n);var a=t.color.parse(n);return a.a="number"==typeof r?r:.4,a.normalize(),a.toString()}function z(){if(null!=ot.legend.container?t(ot.legend.container).html(""):n.find(".legend").remove(),ot.legend.show){for(var e,i,o=[],r=[],a=!1,s=ot.legend.labelFormatter,l=0;l<it.length;++l)e=it[l],e.label&&(i=s?s(e.label,e):e.label,i&&r.push({label:i,color:e.color}));if(ot.legend.sorted)if(t.isFunction(ot.legend.sorted))r.sort(ot.legend.sorted);else if("reverse"==ot.legend.sorted)r.reverse();else{var c="descending"!=ot.legend.sorted;r.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=c?1:-1})}for(var l=0;l<r.length;++l){var u=r[l];l%ot.legend.noColumns==0&&(a&&o.push("</tr>"),o.push("<tr>"),a=!0),o.push('<td class="legendColorBox"><div style="border:1px solid '+ot.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+u.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+u.label+"</td>")}if(a&&o.push("</tr>"),0!=o.length){var d='<table style="font-size:smaller;color:'+ot.grid.color+'">'+o.join("")+"</table>";if(null!=ot.legend.container)t(ot.legend.container).html(d);else{var h="",p=ot.legend.position,f=ot.legend.margin;null==f[0]&&(f=[f,f]),"n"==p.charAt(0)?h+="top:"+(f[1]+ht.top)+"px;":"s"==p.charAt(0)&&(h+="bottom:"+(f[1]+ht.bottom)+"px;"),"e"==p.charAt(1)?h+="right:"+(f[0]+ht.right)+"px;":"w"==p.charAt(1)&&(h+="left:"+(f[0]+ht.left)+"px;");var m=t('<div class="legend">'+d.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(n);if(0!=ot.legend.backgroundOpacity){var g=ot.legend.backgroundColor;null==g&&(g=ot.grid.backgroundColor,g=g&&"string"==typeof g?t.color.parse(g):t.color.extract(m,"background-color"),g.a=1,g=g.toString());var v=m.children();t('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+h+"background-color:"+g+';"> </div>').prependTo(m).css("opacity",ot.legend.backgroundOpacity)}}}}}function U(t,e,n){var i,o,r,a=ot.grid.mouseActiveRadius,s=a*a+1,l=null;for(i=it.length-1;i>=0;--i)if(n(it[i])){var c=it[i],u=c.xaxis,d=c.yaxis,h=c.datapoints.points,p=u.c2p(t),f=d.c2p(e),m=a/u.scale,g=a/d.scale;if(r=c.datapoints.pointsize,u.options.inverseTransform&&(m=Number.MAX_VALUE),d.options.inverseTransform&&(g=Number.MAX_VALUE),c.lines.show||c.points.show)for(o=0;o<h.length;o+=r){var v=h[o],y=h[o+1];if(null!=v&&!(v-p>m||v-p<-m||y-f>g||y-f<-g)){var b=Math.abs(u.p2c(v)-t),w=Math.abs(d.p2c(y)-e),k=b*b+w*w;k<s&&(s=k,l=[i,o/r])}}if(c.bars.show&&!l){var x,C;switch(c.bars.align){case"left":x=0;break;case"right":x=-c.bars.barWidth;break;default:x=-c.bars.barWidth/2}for(C=x+c.bars.barWidth,o=0;o<h.length;o+=r){var v=h[o],y=h[o+1],_=h[o+2];null!=v&&(it[i].bars.horizontal?p<=Math.max(_,v)&&p>=Math.min(_,v)&&f>=y+x&&f<=y+C:p>=v+x&&p<=v+C&&f>=Math.min(_,y)&&f<=Math.max(_,y))&&(l=[i,o/r])}}}return l?(i=l[0],o=l[1],r=it[i].datapoints.pointsize,{datapoint:it[i].datapoints.points.slice(o*r,(o+1)*r),dataIndex:o,series:it[i],seriesIndex:i}):null}function q(t){ot.grid.hoverable&&G("plothover",t,function(t){return 0!=t.hoverable})}function Y(t){ot.grid.hoverable&&G("plothover",t,function(){return!1})}function V(t){G("plotclick",t,function(t){return 0!=t.clickable})}function G(t,e,i){var o=st.offset(),r=e.pageX-o.left-ht.left,a=e.pageY-o.top-ht.top,s=f({left:r,top:a});s.pageX=e.pageX,s.pageY=e.pageY;var l=U(r,a,i);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+o.left+ht.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+o.top+ht.top,10)),ot.grid.autoHighlight){for(var c=0;c<vt.length;++c){var u=vt[c];u.auto!=t||l&&u.series==l.series&&u.point[0]==l.datapoint[0]&&u.point[1]==l.datapoint[1]||J(u.series,u.point)}l&&X(l.series,l.datapoint,t)}n.trigger(t,[s,l])}function Q(){var t=ot.interaction.redrawOverlayInterval;return t==-1?void K():void(yt||(yt=setTimeout(K,t)))}function K(){yt=null,ct.save(),at.clear(),ct.translate(ht.left,ht.top);var t,e;for(t=0;t<vt.length;++t)e=vt[t],e.series.bars.show?et(e.series,e.point):tt(e.series,e.point);ct.restore(),s(mt.drawOverlay,[ct])}function X(t,e,n){if("number"==typeof t&&(t=it[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var o=Z(t,e);o==-1?(vt.push({series:t,point:e,auto:n}),Q()):n||(vt[o].auto=!1)}function J(t,e){if(null==t&&null==e)return vt=[],void Q();if("number"==typeof t&&(t=it[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var i=Z(t,e);i!=-1&&(vt.splice(i,1),Q())}function Z(t,e){for(var n=0;n<vt.length;++n){var i=vt[n];if(i.series==t&&i.point[0]==e[0]&&i.point[1]==e[1])return n}return-1}function tt(e,n){var i=n[0],o=n[1],r=e.xaxis,a=e.yaxis,s="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString();if(!(i<r.min||i>r.max||o<a.min||o>a.max)){var l=e.points.radius+e.points.lineWidth/2;ct.lineWidth=l,ct.strokeStyle=s;var c=1.5*l;i=r.p2c(i),o=a.p2c(o),ct.beginPath(),"circle"==e.points.symbol?ct.arc(i,o,c,0,2*Math.PI,!1):e.points.symbol(ct,i,o,c,!1),ct.closePath(),ct.stroke()}}function et(e,n){var i,o="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString(),r=o;switch(e.bars.align){case"left":i=0;break;case"right":i=-e.bars.barWidth;break;default:i=-e.bars.barWidth/2}ct.lineWidth=e.bars.lineWidth,ct.strokeStyle=o,H(n[0],n[1],n[2]||0,i,i+e.bars.barWidth,function(){return r},e.xaxis,e.yaxis,ct,e.bars.horizontal,e.bars.lineWidth)}function nt(e,n,i,o){if("string"==typeof e)return e;for(var r=lt.createLinearGradient(0,i,0,n),a=0,s=e.colors.length;a<s;++a){var l=e.colors[a];if("string"!=typeof l){var c=t.color.parse(o);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}r.addColorStop(a/(s-1),l)}return r}var it=[],ot={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10
},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},rt=null,at=null,st=null,lt=null,ct=null,ut=[],dt=[],ht={left:0,right:0,top:0,bottom:0},pt=0,ft=0,mt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},gt=this;gt.setData=u,gt.setupGrid=T,gt.draw=P,gt.getPlaceholder=function(){return n},gt.getCanvas=function(){return rt.element},gt.getPlotOffset=function(){return ht},gt.width=function(){return pt},gt.height=function(){return ft},gt.offset=function(){var t=st.offset();return t.left+=ht.left,t.top+=ht.top,t},gt.getData=function(){return it},gt.getAxes=function(){var e={};return t.each(ut.concat(dt),function(t,n){n&&(e[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),e},gt.getXAxes=function(){return ut},gt.getYAxes=function(){return dt},gt.c2p=f,gt.p2c=m,gt.getOptions=function(){return ot},gt.highlight=X,gt.unhighlight=J,gt.triggerRedrawOverlay=Q,gt.pointOffset=function(t){return{left:parseInt(ut[h(t,"x")-1].p2c(+t.x)+ht.left,10),top:parseInt(dt[h(t,"y")-1].p2c(+t.y)+ht.top,10)}},gt.shutdown=k,gt.destroy=function(){k(),n.removeData("plot").empty(),it=[],ot=null,rt=null,at=null,st=null,lt=null,ct=null,ut=[],dt=[],mt=null,vt=[],gt=null},gt.resize=function(){var t=n.width(),e=n.height();rt.resize(t,e),at.resize(t,e)},gt.hooks=mt,l(gt),c(r),b(),u(o),T(),P(),w();var vt=[],yt=null}function i(t,e){return e*Math.floor(t/e)}var o=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var n=this.element,i=this.context,o=this.pixelRatio;this.width!=t&&(n.width=t*o,n.style.width=t+"px",this.width=t),this.height!=e&&(n.height=e*o,n.style.height=e+"px",this.height=e),i.restore(),i.save(),i.scale(o,o)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var t=this._textCache;for(var e in t)if(o.call(t,e)){var n=this.getTextLayer(e),i=t[e];n.hide();for(var r in i)if(o.call(i,r)){var a=i[r];for(var s in a)if(o.call(a,s)){for(var l,c=a[s].positions,u=0;l=c[u];u++)l.active?l.rendered||(n.append(l.element),l.rendered=!0):(c.splice(u--,1),l.rendered&&l.element.detach());0==c.length&&delete a[s]}}n.show()}},e.prototype.getTextLayer=function(e){var n=this.text[e];return null==n&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),n=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),n},e.prototype.getTextInfo=function(e,n,i,o,r){var a,s,l,c;if(n=""+n,a="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,s=this._textCache[e],null==s&&(s=this._textCache[e]={}),l=s[a],null==l&&(l=s[a]={}),c=l[n],null==c){var u=t("<div></div>").html(n).css({position:"absolute","max-width":r,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof i?u.css({font:a,color:i.color}):"string"==typeof i&&u.addClass(i),c=l[n]={width:u.outerWidth(!0),height:u.outerHeight(!0),element:u,positions:[]},u.detach()}return c},e.prototype.addText=function(t,e,n,i,o,r,a,s,l){var c=this.getTextInfo(t,i,o,r,a),u=c.positions;"center"==s?e-=c.width/2:"right"==s&&(e-=c.width),"middle"==l?n-=c.height/2:"bottom"==l&&(n-=c.height);for(var d,h=0;d=u[h];h++)if(d.x==e&&d.y==n)return void(d.active=!0);d={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:e,y:n},u.push(d),d.element.css({top:Math.round(n),left:Math.round(e),"text-align":s})},e.prototype.removeText=function(t,e,n,i,r,a){if(null==i){var s=this._textCache[t];if(null!=s)for(var l in s)if(o.call(s,l)){var c=s[l];for(var u in c)if(o.call(c,u))for(var d,h=c[u].positions,p=0;d=h[p];p++)d.active=!1}}else for(var d,h=this.getTextInfo(t,i,r,a).positions,p=0;d=h[p];p++)d.x==e&&d.y==n&&(d.active=!1)},t.plot=function(e,i,o){var r=new n(t(e),i,o,t.plot.plugins);return r},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(e,n){return this.each(function(){t.plot(this,e,n)})}}(jQuery);var ResponsiveBootstrapToolkit=function(t){var e={detectionDivs:{bootstrap:{xs:t('<div class="device-xs visible-xs visible-xs-block"></div>'),sm:t('<div class="device-sm visible-sm visible-sm-block"></div>'),md:t('<div class="device-md visible-md visible-md-block"></div>'),lg:t('<div class="device-lg visible-lg visible-lg-block"></div>')},foundation:{small:t('<div class="device-xs show-for-small-only"></div>'),medium:t('<div class="device-sm show-for-medium-only"></div>'),large:t('<div class="device-md show-for-large-only"></div>'),xlarge:t('<div class="device-lg show-for-xlarge-only"></div>')}},applyDetectionDivs:function(){t(document).ready(function(){t.each(n.breakpoints,function(t){n.breakpoints[t].appendTo(".responsive-bootstrap-toolkit")})})},isAnExpression:function(t){return"<"==t.charAt(0)||">"==t.charAt(0)},splitExpression:function(t){var e=t.charAt(0),n="="==t.charAt(1),i=1+(n?1:0),o=t.slice(i);return{operator:e,orEqual:n,breakpointName:o}},isAnyActive:function(e){var i=!1;return t.each(e,function(t,e){if(n.breakpoints[e].is(":visible"))return i=!0,!1}),i},isMatchingExpression:function(t){var i=e.splitExpression(t),o=Object.keys(n.breakpoints),r=o.indexOf(i.breakpointName);if(r!==-1){var a=0,s=0;"<"==i.operator&&(a=0,s=i.orEqual?++r:r),">"==i.operator&&(a=i.orEqual?r:++r,s=void 0);var l=o.slice(a,s);return e.isAnyActive(l)}}},n={interval:300,framework:null,breakpoints:null,is:function(t){return e.isAnExpression(t)?e.isMatchingExpression(t):n.breakpoints[t]&&n.breakpoints[t].is(":visible")},use:function(t,i){n.framework=t.toLowerCase(),"bootstrap"===n.framework||"foundation"===n.framework?n.breakpoints=e.detectionDivs[n.framework]:n.breakpoints=i,e.applyDetectionDivs()},current:function(){var e="unrecognized";return t.each(n.breakpoints,function(t){n.is(t)&&(e=t)}),e},changed:function(t,e){var i;return function(){clearTimeout(i),i=setTimeout(function(){t()},e||n.interval)}}};return t(document).ready(function(){t('<div class="responsive-bootstrap-toolkit"></div>').appendTo("body")}),null===n.framework&&n.use("bootstrap"),n}(jQuery);!function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,o,r){var a;if("undefined"!=typeof document){if(arguments.length>1){if(r=t({path:"/"},i.defaults,r),"number"==typeof r.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(t){}return o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}e||(a={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,u=0;u<l.length;u++){var d=l[u].split("="),h=d.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var p=d[0].replace(c,decodeURIComponent);if(h=n.read?n.read(h,p):n(h,p)||h.replace(c,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(t){}if(e===p){a=h;break}e||(a[p]=h)}catch(t){}}return a}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e(function(){})}),function(){var t,e,n,i,o,r,a,s,l,c,u,d,h,p,f,m,g,v;n=function(){return document.querySelectorAll&&document.addEventListener},n()&&(isNaN(Date.parse("2011-01-01T12:00:00-05:00"))&&(s=Date.parse,o=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,Date.parse=function(t){var e,n,i,r,a,l,c,u,d,h;return t=t.toString(),(r=t.match(o))&&(e=r[0],d=r[1],l=r[2],n=r[3],i=r[4],a=r[5],u=r[6],h=r[7],"Z"!==h&&(c=h.replace(":","")),t=d+"/"+l+"/"+n+" "+i+":"+a+":"+u+" GMT"+[c]),s(t)}),v="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),r="January February March April May June July August September October November December".split(" "),a=function(t){return("0"+t).slice(-2)},l=function(t){var e,n,i,o,r;return r=t.toString(),(e=null!=(n=r.match(/\(([\w\s]+)\)$/))?n[1]:void 0)?/\s/.test(e)?e.match(/\b(\w)/g).join(""):e:(e=null!=(i=r.match(/(\w{3,4})\s\d{4}$/))?i[1]:void 0)?e:(e=null!=(o=r.match(/(UTC[\+\-]\d+)/))?o[1]:void 0)?e:""},m=function(t,e){var n,i,o,s,c,u,d;return i=t.getDay(),n=t.getDate(),c=t.getMonth(),d=t.getFullYear(),o=t.getHours(),s=t.getMinutes(),u=t.getSeconds(),e.replace(/%([%aAbBcdeHIlmMpPSwyYZ])/g,function(e){var h,p;switch(h=e[0],p=e[1]){case"%":return"%";case"a":return v[i].slice(0,3);case"A":return v[i];case"b":return r[c].slice(0,3);case"B":return r[c];case"c":return t.toString();case"d":return a(n);case"e":return n;case"H":return a(o);case"I":return a(m(t,"%l"));case"l":return 0===o||12===o?12:(o+12)%12;case"m":return a(c+1);case"M":return a(s);case"p":return o>11?"PM":"AM";case"P":return o>11?"pm":"am";case"S":return a(u);case"w":return i;case"y":return a(d%100);case"Y":return d;case"Z":return l(t)}})},t=function(){function t(t,e,n){this.date=new Date(Date.UTC(t,e-1)),this.date.setUTCDate(n),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}return t.fromDate=function(t){return new this(t.getFullYear(),t.getMonth()+1,t.getDate())},t.today=function(){return this.fromDate(new Date)},t.prototype.equals=function(t){return(null!=t?t.value:void 0)===this.value},t.prototype.is=function(t){return this.equals(t)},t.prototype.isToday=function(){return this.is(this.constructor.today())},t.prototype.occursOnSameYearAs=function(t){return this.year===(null!=t?t.year:void 0)},t.prototype.occursThisYear=function(){return this.occursOnSameYearAs(this.constructor.today())},t.prototype.daysSince=function(t){if(t)return(this.date-t.date)/864e5},t.prototype.daysPassed=function(){return this.constructor.today().daysSince(this)},t}(),e=function(){function e(e){this.date=e,this.calendarDate=t.fromDate(this.date)}return e.prototype.toString=function(){var t,e;return(t=this.timeElapsed())?t+" ago":(e=this.relativeWeekday())?e+" at "+this.formatTime():"on "+this.formatDate()},e.prototype.toTimeOrDateString=function(){return this.calendarDate.isToday()?this.formatTime():this.formatDate()},e.prototype.timeElapsed=function(){var t,e,n,i;return n=(new Date).getTime()-this.date.getTime(),i=Math.round(n/1e3),e=Math.round(i/60),t=Math.round(e/60),n<0?null:i<10?"a second":i<45?i+" seconds":i<90?"a minute":e<45?e+" minutes":e<90?"an hour":t<24?t+" hours":null},e.prototype.relativeWeekday=function(){switch(this.calendarDate.daysPassed()){case 0:return"today";case 1:return"yesterday";case 2:case 3:case 4:case 5:case 6:return m(this.date,"%A")}},e.prototype.formatDate=function(){var t;return t="%b %e",this.calendarDate.occursThisYear()||(t+=", %Y"),m(this.date,t)},e.prototype.formatTime=function(){return m(this.date,"%l:%M%P")},e}(),u=function(t){return new e(t).formatDate()},d=function(t){return new e(t).toString()},h=function(t){return new e(t).toTimeOrDateString()},p=function(t){var n;if(n=new e(t).relativeWeekday())return n.charAt(0).toUpperCase()+n.substring(1)},i=!1,g=function(t){return i&&t(),document.addEventListener("time:elapse",t),("undefined"!=typeof Turbolinks&&null!==Turbolinks?Turbolinks.supported:void 0)?document.addEventListener("page:update",t):"function"==typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,n){if(jQuery.trim(n.responseText))return t()}):void 0},c=function(t,e){return g(function(){var n,i,o,r,a;for(r=document.querySelectorAll(t),a=[],i=0,o=r.length;i<o;i++)n=r[i],a.push(e(n));return a})},document.addEventListener("DOMContentLoaded",function(){var t;return i=!0,t="textContent"in document.body?"textContent":"innerText",c("time[data-local]:not([data-localized])",function(e){var n,i,o,r;if(n=e.getAttribute("datetime"),i=e.getAttribute("data-format"),o=e.getAttribute("data-local"),r=new Date(Date.parse(n)),!isNaN(r))return e.hasAttribute("title")||e.setAttribute("title",m(r,"%B %e, %Y at %l:%M%P %Z")),e[t]=function(){var t,n;switch(o){case"date":return e.setAttribute("data-localized",!0),u(r);case"time":return e.setAttribute("data-localized",!0),m(r,i);case"time-ago":return d(r);case"time-or-date":return h(r);case"weekday":return null!=(t=p(r))?t:"";case"weekday-or-date":return null!=(n=p(r))?n:u(r)}}()})}),f=function(){var t;return t=document.createEvent("Events"),t.initEvent("time:elapse",!0,!0),document.dispatchEvent(t)},setInterval(f,6e4),this.LocalTime={relativeDate:u,relativeTimeAgo:d,relativeTimeOrDate:h,relativeWeekday:p,run:f,strftime:m})}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return mi.apply(null,arguments)}function e(t){mi=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){var e;for(e in t)return!1;return!0}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return ve(t,e,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=d()),t._pf}function p(t){if(null==t._isValid){var e=h(t),n=vi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function f(t){var e=u(NaN);return null!=t?c(h(e),t):h(e).userInvalidated=!0,e}function m(t){return void 0===t}function g(t,e){var n,i,o;if(m(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),m(e._i)||(t._i=e._i),m(e._f)||(t._f=e._f),m(e._l)||(t._l=e._l),m(e._strict)||(t._strict=e._strict),m(e._tzm)||(t._tzm=e._tzm),m(e._isUTC)||(t._isUTC=e._isUTC),m(e._offset)||(t._offset=e._offset),m(e._pf)||(t._pf=h(e)),m(e._locale)||(t._locale=e._locale),yi.length>0)for(n in yi)i=yi[n],o=e[i],m(o)||(t[i]=o);return t}function v(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),bi===!1&&(bi=!0,t.updateOffset(this),bi=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function k(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&a++;return a+r}function x(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,n){var i=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var o,r=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){o+="\n["+a+"] ";for(var s in arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];r.push(o)}x(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function _(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),wi[e]||(x(n),wi[e]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,n;for(n in t)e=t[n],S(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(t,e){var n,o=c({},t);for(n in e)l(e,n)&&(i(t[n])&&i(e[n])?(o[n]={},c(o[n],t[n]),c(o[n],e[n])):null!=e[n]?o[n]=e[n]:delete o[n]);for(n in t)l(t,n)&&!l(e,n)&&i(t[n])&&(o[n]=c({},o[n]));return o}function $(t){null!=t&&this.set(t)}function E(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return S(i)?i.call(e,n):i}function A(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function I(){return this._invalidDate}function P(t){return this._ordinal.replace("%d",t)}function M(t,e,n,i){var o=this._relativeTime[n];return S(o)?o(t,e,n,i):o.replace(/%d/i,t)}function F(t,e){var n=this._relativeTime[t>0?"future":"past"];return S(n)?n(e):n.replace(/%s/i,e)}function L(t,e){var n=t.toLowerCase();Ai[n]=Ai[n+"s"]=Ai[e]=t}function O(t){return"string"==typeof t?Ai[t]||Ai[t.toLowerCase()]:void 0}function j(t){var e,n,i={};for(n in t)l(t,n)&&(e=O(n),e&&(i[e]=t[n]));return i}function R(t,e){Ii[t]=e}function N(t){var e=[];for(var n in t)e.push({unit:n,priority:Ii[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(e,n){return function(i){return null!=i?(W(this,e,i),t.updateOffset(this,n),this):B(this,e)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function W(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function z(t){return t=O(t),S(this[t])?this[t]():this}function U(t,e){if("object"==typeof t){t=j(t);for(var n=N(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=O(t),S(this[t]))return this[t](e);return this}function q(t,e,n){var i=""+Math.abs(t),o=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function Y(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(Li[t]=o),e&&(Li[e[0]]=function(){return q(o.apply(this,arguments),e[1],e[2])}),n&&(Li[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,i=t.match(Pi);for(e=0,n=i.length;e<n;e++)Li[i[e]]?i[e]=Li[i[e]]:i[e]=V(i[e]);return function(e){var o,r="";for(o=0;o<n;o++)r+=i[o]instanceof Function?i[o].call(e,t):i[o];return r}}function Q(t,e){return t.isValid()?(e=K(e,t.localeData()),Fi[e]=Fi[e]||G(e),Fi[e](t)):t.localeData().invalidDate()}function K(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Mi.lastIndex=0;i>=0&&Mi.test(t);)t=t.replace(Mi,n),Mi.lastIndex=0,i-=1;return t}function X(t,e,n){Zi[t]=S(e)?e:function(t){return t&&n?n:e}}function J(t,e){return l(Zi,t)?Zi[t](e._strict,e._locale):new RegExp(Z(t))}function Z(t){return tt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o}))}function tt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function et(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),r(e)&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)to[t[n]]=i}function nt(t,e){et(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function it(t,e,n){null!=e&&l(to,t)&&to[t](e,n._a,n,t)}function ot(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ho).test(e)?"format":"standalone"][t.month()]:this._months}function at(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ho.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function st(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?(o=uo.call(this._shortMonthsParse,a),o!==-1?o:null):(o=uo.call(this._longMonthsParse,a),o!==-1?o:null):"MMM"===e?(o=uo.call(this._shortMonthsParse,a),o!==-1?o:(o=uo.call(this._longMonthsParse,a),o!==-1?o:null)):(o=uo.call(this._longMonthsParse,a),o!==-1?o:(o=uo.call(this._shortMonthsParse,a),o!==-1?o:null))}function lt(t,e,n){var i,o,r;if(this._monthsParseExact)return st.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ct(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(e=t.localeData().monthsParse(e),!r(e))return t;return n=Math.min(t.date(),ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ut(e){return null!=e?(ct(this,e),t.updateOffset(this,!0),this):B(this,"Month")}function dt(){return ot(this.year(),this.month())}function ht(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=mo),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=go),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ft(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],r=[];for(e=0;e<12;e++)n=u([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)i[e]=tt(i[e]),o[e]=tt(o[e]);for(e=0;e<24;e++)r[e]=tt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function mt(t){return gt(t)?366:365}function gt(t){return t%4===0&&t%100!==0||t%400===0}function vt(){return gt(this.year())}function yt(t,e,n,i,o,r,a){var s=new Date(t,e,n,i,o,r,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,n){var i=7+e-n,o=(7+bt(t,0,i).getUTCDay()-e)%7;return-o+i-1}function kt(t,e,n,i,o){var r,a,s=(7+n-i)%7,l=wt(t,i,o),c=1+7*(e-1)+s+l;return c<=0?(r=t-1,a=mt(r)+c):c>mt(t)?(r=t+1,a=c-mt(t)):(r=t,a=c),{year:r,dayOfYear:a}}function xt(t,e,n){var i,o,r=wt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?(o=t.year()-1,i=a+Ct(o,e,n)):a>Ct(t.year(),e,n)?(i=a-Ct(t.year(),e,n),o=t.year()+1):(o=t.year(),i=a),{week:i,year:o}}function Ct(t,e,n){var i=wt(t,e,n),o=wt(t+1,e,n);return(mt(t)-i+o)/7}function _t(t){return xt(t,this._week.dow,this._week.doy).week}function St(){return this._week.dow}function Dt(){return this._week.doy}function Tt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function $t(t){var e=xt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Et(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function At(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function It(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function Pt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Mt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ft(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?(o=uo.call(this._weekdaysParse,a),o!==-1?o:null):"ddd"===e?(o=uo.call(this._shortWeekdaysParse,a),o!==-1?o:null):(o=uo.call(this._minWeekdaysParse,a),o!==-1?o:null):"dddd"===e?(o=uo.call(this._weekdaysParse,a),o!==-1?o:(o=uo.call(this._shortWeekdaysParse,a),o!==-1?o:(o=uo.call(this._minWeekdaysParse,a),o!==-1?o:null))):"ddd"===e?(o=uo.call(this._shortWeekdaysParse,a),o!==-1?o:(o=uo.call(this._weekdaysParse,a),o!==-1?o:(o=uo.call(this._minWeekdaysParse,a),o!==-1?o:null))):(o=uo.call(this._minWeekdaysParse,a),o!==-1?o:(o=uo.call(this._weekdaysParse,a),o!==-1?o:(o=uo.call(this._shortWeekdaysParse,a),o!==-1?o:null)))}function Lt(t,e,n){var i,o,r;if(this._weekdaysParseExact)return Ft.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ot(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Et(t,this.localeData()),this.add(t-e,"d")):e}function jt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Rt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=At(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Nt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=xo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ht(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Co),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_o),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wt(){function t(t,e){return e.length-t.length}var e,n,i,o,r,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=u([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),s.push(o),l.push(r),c.push(i),c.push(o),c.push(r);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=tt(s[e]),l[e]=tt(l[e]),c[e]=tt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function zt(){return this.hours()%12||12}function Ut(){return this.hours()||24}function qt(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function Vt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Gt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,n,i,o,r=0;r<t.length;){for(o=Qt(t[r]).split("-"),e=o.length,n=Qt(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=Xt(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&k(o,n,!0)>=e-1)break;e--}r++}return null}function Xt(t){var e=null;if(!Eo[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=So._abbr,require("./locale/"+t),Jt(e)}catch(t){}return Eo[t]}function Jt(t,e){var n;return t&&(n=m(e)?ee(t):Zt(t,e),n&&(So=n)),So._abbr}function Zt(t,e){if(null!==e){var n=$o;if(e.abbr=t,null!=Eo[t])_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Eo[t]._config;else if(null!=e.parentLocale){if(null==Eo[e.parentLocale])return Ao[e.parentLocale]||(Ao[e.parentLocale]=[]),Ao[e.parentLocale].push({name:t,config:e}),null;n=Eo[e.parentLocale]._config}return Eo[t]=new $(T(n,e)),Ao[t]&&Ao[t].forEach(function(t){Zt(t.name,t.config)}),Jt(t),Eo[t]}return delete Eo[t],null}function te(t,e){if(null!=e){var n,i=$o;null!=Eo[t]&&(i=Eo[t]._config),e=T(i,e),n=new $(e),n.parentLocale=Eo[t],Eo[t]=n,Jt(t)}else null!=Eo[t]&&(null!=Eo[t].parentLocale?Eo[t]=Eo[t].parentLocale:null!=Eo[t]&&delete Eo[t]);return Eo[t]}function ee(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return So;if(!n(t)){if(e=Xt(t))return e;t=[t]}return Kt(t)}function ne(){return Ci(Eo)}function ie(t){var e,n=t._a;return n&&h(t).overflow===-2&&(e=n[no]<0||n[no]>11?no:n[io]<1||n[io]>ot(n[eo],n[no])?io:n[oo]<0||n[oo]>24||24===n[oo]&&(0!==n[ro]||0!==n[ao]||0!==n[so])?oo:n[ro]<0||n[ro]>59?ro:n[ao]<0||n[ao]>59?ao:n[so]<0||n[so]>999?so:-1,h(t)._overflowDayOfYear&&(e<eo||e>io)&&(e=io),h(t)._overflowWeeks&&e===-1&&(e=lo),h(t)._overflowWeekday&&e===-1&&(e=co),h(t).overflow=e),t}function oe(t){var e,n,i,o,r,a,s=t._i,l=Io.exec(s)||Po.exec(s);if(l){for(h(t).iso=!0,e=0,n=Fo.length;e<n;e++)if(Fo[e][1].exec(l[1])){o=Fo[e][0],i=Fo[e][2]!==!1;break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=Lo.length;e<n;e++)if(Lo[e][1].exec(l[3])){r=(l[2]||" ")+Lo[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!Mo.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(r||"")+(a||""),ue(t)}else t._isValid=!1}function re(e){var n=Oo.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(oe(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ae(t,e,n){return null!=t?t:null!=e?e:n}function se(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function le(t){var e,n,i,o,r=[];if(!t._d){for(i=se(t),t._w&&null==t._a[io]&&null==t._a[no]&&ce(t),t._dayOfYear&&(o=ae(t._a[eo],i[eo]),t._dayOfYear>mt(o)&&(h(t)._overflowDayOfYear=!0),n=bt(o,0,t._dayOfYear),t._a[no]=n.getUTCMonth(),t._a[io]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[oo]&&0===t._a[ro]&&0===t._a[ao]&&0===t._a[so]&&(t._nextDay=!0,t._a[oo]=0),t._d=(t._useUTC?bt:yt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[oo]=24)}}function ce(t){
var e,n,i,o,r,a,s,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)r=1,a=4,n=ae(e.GG,t._a[eo],xt(ye(),1,4).year),i=ae(e.W,1),o=ae(e.E,1),(o<1||o>7)&&(l=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var c=xt(ye(),r,a);n=ae(e.gg,t._a[eo],c.year),i=ae(e.w,c.week),null!=e.d?(o=e.d,(o<0||o>6)&&(l=!0)):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r}i<1||i>Ct(n,r,a)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(s=kt(n,i,o,r,a),t._a[eo]=s.year,t._dayOfYear=s.dayOfYear)}function ue(e){if(e._f===t.ISO_8601)return void oe(e);e._a=[],h(e).empty=!0;var n,i,o,r,a,s=""+e._i,l=s.length,c=0;for(o=K(e._f,e._locale).match(Pi)||[],n=0;n<o.length;n++)r=o[n],i=(s.match(J(r,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),Li[r]?(i?h(e).empty=!1:h(e).unusedTokens.push(r),it(r,i,e)):e._strict&&!i&&h(e).unusedTokens.push(r);h(e).charsLeftOver=l-c,s.length>0&&h(e).unusedInput.push(s),e._a[oo]<=12&&h(e).bigHour===!0&&e._a[oo]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[oo]=de(e._locale,e._a[oo],e._meridiem),le(e),ie(e)}function de(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function he(t){var e,n,i,o,r;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ue(e),p(e)&&(r+=h(e).charsLeftOver,r+=10*h(e).unusedTokens.length,h(e).score=r,(null==i||r<i)&&(i=r,n=e));c(t,n||e)}function pe(t){if(!t._d){var e=j(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),le(t)}}function fe(t){var e=new v(ie(me(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function me(t){var e=t._i,i=t._f;return t._locale=t._locale||ee(t._l),null===e||void 0===i&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(ie(e)):(a(e)?t._d=e:n(i)?he(t):i?ue(t):ge(t),p(t)||(t._d=null),t))}function ge(e){var i=e._i;void 0===i?e._d=new Date(t.now()):a(i)?e._d=new Date(i.valueOf()):"string"==typeof i?re(e):n(i)?(e._a=s(i.slice(0),function(t){return parseInt(t,10)}),le(e)):"object"==typeof i?pe(e):r(i)?e._d=new Date(i):t.createFromInputFallback(e)}function ve(t,e,r,a,s){var l={};return r!==!0&&r!==!1||(a=r,r=void 0),(i(t)&&o(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=r,l._i=t,l._f=e,l._strict=a,fe(l)}function ye(t,e,n,i){return ve(t,e,n,i,!1)}function be(t,e){var i,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return ye();for(i=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](i)||(i=e[o]);return i}function we(){var t=[].slice.call(arguments,0);return be("isBefore",t)}function ke(){var t=[].slice.call(arguments,0);return be("isAfter",t)}function xe(t){var e=j(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=ee(),this._bubble()}function Ce(t){return t instanceof xe}function _e(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Se(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+q(~~(t/60),2)+e+q(~~t%60,2)})}function De(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],o=(i+"").match(Ho)||["-",0,0],r=+(60*o[1])+w(o[2]);return 0===r?0:"+"===o[0]?r:-r}function Te(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(y(e)||a(e)?e.valueOf():ye(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),t.updateOffset(i,!1),i):ye(e).local()}function $e(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ee(e,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=De(Ki,e),null===e)return this}else Math.abs(e)<16&&(e=60*e);return!this._isUTC&&n&&(i=$e(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?qe(this,He(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:$e(this)}function Ae(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ie(t){return this.utcOffset(0,t)}function Pe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($e(this),"m")),this}function Me(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=De(Qi,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Fe(t){return!!this.isValid()&&(t=t?ye(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Le(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Oe(){if(!m(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=me(t),t._a){var e=t._isUTC?u(t._a):ye(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function je(){return!!this.isValid()&&!this._isUTC}function Re(){return!!this.isValid()&&this._isUTC}function Ne(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function He(t,e){var n,i,o,a=t,s=null;return Ce(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(a={},e?a[e]=t:a.milliseconds=t):(s=Bo.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:w(s[io])*n,h:w(s[oo])*n,m:w(s[ro])*n,s:w(s[ao])*n,ms:w(_e(1e3*s[so]))*n}):(s=Wo.exec(t))?(n="-"===s[1]?-1:1,a={y:Be(s[2],n),M:Be(s[3],n),w:Be(s[4],n),d:Be(s[5],n),h:Be(s[6],n),m:Be(s[7],n),s:Be(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=ze(ye(a.from),ye(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),i=new xe(a),Ce(t)&&l(t,"_locale")&&(i._locale=t._locale),i}function Be(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function We(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ze(t,e){var n;return t.isValid()&&e.isValid()?(e=Te(e,t),t.isBefore(e)?n=We(t,e):(n=We(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ue(t,e){return function(n,i){var o,r;return null===i||isNaN(+i)||(_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=He(n,i),qe(this,o,t),this}}function qe(e,n,i,o){var r=n._milliseconds,a=_e(n._days),s=_e(n._months);e.isValid()&&(o=null==o||o,r&&e._d.setTime(e._d.valueOf()+r*i),a&&W(e,"Date",B(e,"Date")+a*i),s&&ct(e,B(e,"Month")+s*i),o&&t.updateOffset(e,a||s))}function Ye(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ve(e,n){var i=e||ye(),o=Te(i,this).startOf("day"),r=t.calendarFormat(this,o)||"sameElse",a=n&&(S(n[r])?n[r].call(this,i):n[r]);return this.format(a||this.localeData().calendar(r,this,ye(i)))}function Ge(){return new v(this)}function Qe(t,e){var n=y(t)?t:ye(t);return!(!this.isValid()||!n.isValid())&&(e=O(m(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Ke(t,e){var n=y(t)?t:ye(t);return!(!this.isValid()||!n.isValid())&&(e=O(m(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Xe(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Je(t,e){var n,i=y(t)?t:ye(t);return!(!this.isValid()||!i.isValid())&&(e=O(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Ze(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function tn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function en(t,e,n){var i,o,r,a;return this.isValid()?(i=Te(t,this),i.isValid()?(o=6e4*(i.utcOffset()-this.utcOffset()),e=O(e),"year"===e||"month"===e||"quarter"===e?(a=nn(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-o)/864e5:"week"===e?(r-o)/6048e5:r),n?a:b(a)):NaN):NaN}function nn(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return e-r<0?(n=t.clone().add(o-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(o+1,"months"),i=(e-r)/(n-r)),-(o+i)||0}function on(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?S(Date.prototype.toISOString)?this.toDate().toISOString():Q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function an(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]';return this.format(n+i+o+r)}function sn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Q(this,e);return this.localeData().postformat(n)}function ln(t,e){return this.isValid()&&(y(t)&&t.isValid()||ye(t).isValid())?He({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cn(t){return this.from(ye(),t)}function un(t,e){return this.isValid()&&(y(t)&&t.isValid()||ye(t).isValid())?He({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function dn(t){return this.to(ye(),t)}function hn(t){var e;return void 0===t?this._locale._abbr:(e=ee(t),null!=e&&(this._locale=e),this)}function pn(){return this._locale}function fn(t){switch(t=O(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function mn(t){return t=O(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function gn(){return this._d.valueOf()-6e4*(this._offset||0)}function vn(){return Math.floor(this.valueOf()/1e3)}function yn(){return new Date(this.valueOf())}function bn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function wn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function kn(){return this.isValid()?this.toISOString():null}function xn(){return p(this)}function Cn(){return c({},h(this))}function _n(){return h(this).overflow}function Sn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(t,e){Y(0,[t,t.length],0,e)}function Tn(t){return In.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $n(t){return In.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function En(){return Ct(this.year(),1,4)}function An(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function In(t,e,n,i,o){var r;return null==t?xt(this,i,o).year:(r=Ct(t,i,o),e>r&&(e=r),Pn.call(this,t,e,n,i,o))}function Pn(t,e,n,i,o){var r=kt(t,e,n,i,o),a=bt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Mn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Fn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Ln(t,e){e[so]=w(1e3*("0."+t))}function On(){return this._isUTC?"UTC":""}function jn(){return this._isUTC?"Coordinated Universal Time":""}function Rn(t){return ye(1e3*t)}function Nn(){return ye.apply(null,arguments).parseZone()}function Hn(t){return t}function Bn(t,e,n,i){var o=ee(),r=u().set(i,e);return o[n](r,t)}function Wn(t,e,n){if(r(t)&&(e=t,t=void 0),t=t||"",null!=e)return Bn(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Bn(t,i,n,"month");return o}function zn(t,e,n,i){"boolean"==typeof t?(r(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,r(e)&&(n=e,e=void 0),e=e||"");var o=ee(),a=t?o._week.dow:0;if(null!=n)return Bn(e,(n+a)%7,i,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Bn(e,(s+a)%7,i,"day");return l}function Un(t,e){return Wn(t,e,"months")}function qn(t,e){return Wn(t,e,"monthsShort")}function Yn(t,e,n){return zn(t,e,n,"weekdays")}function Vn(t,e,n){return zn(t,e,n,"weekdaysShort")}function Gn(t,e,n){return zn(t,e,n,"weekdaysMin")}function Qn(){var t=this._data;return this._milliseconds=Zo(this._milliseconds),this._days=Zo(this._days),this._months=Zo(this._months),t.milliseconds=Zo(t.milliseconds),t.seconds=Zo(t.seconds),t.minutes=Zo(t.minutes),t.hours=Zo(t.hours),t.months=Zo(t.months),t.years=Zo(t.years),this}function Kn(t,e,n,i){var o=He(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Xn(t,e){return Kn(this,t,e,1)}function Jn(t,e){return Kn(this,t,e,-1)}function Zn(t){return t<0?Math.floor(t):Math.ceil(t)}function ti(){var t,e,n,i,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return r>=0&&a>=0&&s>=0||r<=0&&a<=0&&s<=0||(r+=864e5*Zn(ni(s)+a),a=0,s=0),l.milliseconds=r%1e3,t=b(r/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,a+=b(n/24),o=b(ei(a)),s+=o,a-=Zn(ni(o)),i=b(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function ei(t){return 4800*t/146097}function ni(t){return 146097*t/4800}function ii(t){var e,n,i=this._milliseconds;if(t=O(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+ei(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ni(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function oi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function ri(t){return function(){return this.as(t)}}function ai(t){return t=O(t),this[t+"s"]()}function si(t){return function(){return this._data[t]}}function li(){return b(this.days()/7)}function ci(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function ui(t,e,n){var i=He(t).abs(),o=mr(i.as("s")),r=mr(i.as("m")),a=mr(i.as("h")),s=mr(i.as("d")),l=mr(i.as("M")),c=mr(i.as("y")),u=o<gr.s&&["s",o]||r<=1&&["m"]||r<gr.m&&["mm",r]||a<=1&&["h"]||a<gr.h&&["hh",a]||s<=1&&["d"]||s<gr.d&&["dd",s]||l<=1&&["M"]||l<gr.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,ci.apply(null,u)}function di(t){return void 0===t?mr:"function"==typeof t&&(mr=t,!0)}function hi(t,e){return void 0!==gr[t]&&(void 0===e?gr[t]:(gr[t]=e,!0))}function pi(t){var e=this.localeData(),n=ui(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function fi(){var t,e,n,i=vr(this._milliseconds)/1e3,o=vr(this._days),r=vr(this._months);t=b(i/60),e=b(t/60),i%=60,t%=60,n=b(r/12),r%=12;var a=n,s=r,l=o,c=e,u=t,d=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var mi,gi;gi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var vi=gi,yi=t.momentProperties=[],bi=!1,wi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var ki;ki=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n};var xi,Ci=ki,_i={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Si={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Di="Invalid date",Ti="%d",$i=/\d{1,2}/,Ei={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ai={},Ii={},Pi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fi={},Li={},Oi=/\d/,ji=/\d\d/,Ri=/\d{3}/,Ni=/\d{4}/,Hi=/[+-]?\d{6}/,Bi=/\d\d?/,Wi=/\d\d\d\d?/,zi=/\d\d\d\d\d\d?/,Ui=/\d{1,3}/,qi=/\d{1,4}/,Yi=/[+-]?\d{1,6}/,Vi=/\d+/,Gi=/[+-]?\d+/,Qi=/Z|[+-]\d\d:?\d\d/gi,Ki=/Z|[+-]\d\d(?::?\d\d)?/gi,Xi=/[+-]?\d+(\.\d{1,3})?/,Ji=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Zi={},to={},eo=0,no=1,io=2,oo=3,ro=4,ao=5,so=6,lo=7,co=8;xi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var uo=xi;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),R("month",8),X("M",Bi),X("MM",Bi,ji),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),et(["M","MM"],function(t,e){e[no]=w(t)-1}),et(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[no]=o:h(n).invalidMonth=t});var ho=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,po="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mo=Ji,go=Ji;Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),L("year","y"),R("year",1),X("Y",Gi),X("YY",Bi,ji),X("YYYY",qi,Ni),X("YYYYY",Yi,Hi),X("YYYYYY",Yi,Hi),et(["YYYYY","YYYYYY"],eo),et("YYYY",function(e,n){n[eo]=2===e.length?t.parseTwoDigitYear(e):w(e)}),et("YY",function(e,n){n[eo]=t.parseTwoDigitYear(e)}),et("Y",function(t,e){e[eo]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var vo=H("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),R("week",5),R("isoWeek",5),X("w",Bi),X("ww",Bi,ji),X("W",Bi),X("WW",Bi,ji),nt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});var yo={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),X("d",Bi),X("e",Bi),X("E",Bi),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),nt(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:h(n).invalidWeekday=t}),nt(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var bo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ko="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xo=Ji,Co=Ji,_o=Ji;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,zt),Y("k",["kk",2],0,Ut),Y("hmm",0,0,function(){return""+zt.apply(this)+q(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+zt.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),qt("a",!0),qt("A",!1),L("hour","h"),R("hour",13),X("a",Yt),X("A",Yt),X("H",Bi),X("h",Bi),X("HH",Bi,ji),X("hh",Bi,ji),X("hmm",Wi),X("hmmss",zi),X("Hmm",Wi),X("Hmmss",zi),et(["H","HH"],oo),et(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),et(["h","hh"],function(t,e,n){e[oo]=w(t),h(n).bigHour=!0}),et("hmm",function(t,e,n){var i=t.length-2;e[oo]=w(t.substr(0,i)),e[ro]=w(t.substr(i)),h(n).bigHour=!0}),et("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[oo]=w(t.substr(0,i)),e[ro]=w(t.substr(i,2)),e[ao]=w(t.substr(o)),h(n).bigHour=!0}),et("Hmm",function(t,e){var n=t.length-2;e[oo]=w(t.substr(0,n)),e[ro]=w(t.substr(n))}),et("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[oo]=w(t.substr(0,n)),e[ro]=w(t.substr(n,2)),e[ao]=w(t.substr(i))});var So,Do=/[ap]\.?m?\.?/i,To=H("Hours",!0),$o={calendar:_i,longDateFormat:Si,invalidDate:Di,ordinal:Ti,ordinalParse:$i,relativeTime:Ei,months:po,monthsShort:fo,week:yo,weekdays:bo,weekdaysMin:ko,weekdaysShort:wo,meridiemParse:Do},Eo={},Ao={},Io=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Po=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mo=/Z|[+-]\d\d(?::?\d\d)?/,Fo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Lo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Oo=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=C("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var jo=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()}),Ro=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()}),No=function(){return Date.now?Date.now():+new Date};Se("Z",":"),Se("ZZ",""),X("Z",Ki),X("ZZ",Ki),et(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=De(Ki,t)});var Ho=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Bo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;He.fn=xe.prototype;var zo=Ue(1,"add"),Uo=Ue(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var qo=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),X("G",Gi),X("g",Gi),X("GG",Bi,ji),X("gg",Bi,ji),X("GGGG",qi,Ni),X("gggg",qi,Ni),X("GGGGG",Yi,Hi),X("ggggg",Yi,Hi),nt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),nt(["gg","GG"],function(e,n,i,o){n[o]=t.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),L("quarter","Q"),R("quarter",7),X("Q",Oi),et("Q",function(t,e){e[no]=3*(w(t)-1)}),Y("D",["DD",2],"Do","date"),L("date","D"),R("date",9),X("D",Bi),X("DD",Bi,ji),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),et(["D","DD"],io),et("Do",function(t,e){e[io]=w(t.match(Bi)[0],10)});var Yo=H("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),R("dayOfYear",4),X("DDD",Ui),X("DDDD",Ri),et(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),Y("m",["mm",2],0,"minute"),L("minute","m"),R("minute",14),X("m",Bi),X("mm",Bi,ji),et(["m","mm"],ro);var Vo=H("Minutes",!1);Y("s",["ss",2],0,"second"),L("second","s"),R("second",15),X("s",Bi),X("ss",Bi,ji),et(["s","ss"],ao);var Go=H("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),R("millisecond",16),X("S",Ui,Oi),X("SS",Ui,ji),X("SSS",Ui,Ri);var Qo;for(Qo="SSSS";Qo.length<=9;Qo+="S")X(Qo,Vi);for(Qo="S";Qo.length<=9;Qo+="S")et(Qo,Ln);var Ko=H("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Xo=v.prototype;Xo.add=zo,Xo.calendar=Ve,Xo.clone=Ge,Xo.diff=en,Xo.endOf=mn,Xo.format=sn,Xo.from=ln,Xo.fromNow=cn,Xo.to=un,Xo.toNow=dn,Xo.get=z,Xo.invalidAt=_n,Xo.isAfter=Qe,Xo.isBefore=Ke,Xo.isBetween=Xe,Xo.isSame=Je,Xo.isSameOrAfter=Ze,Xo.isSameOrBefore=tn,Xo.isValid=xn,Xo.lang=qo,Xo.locale=hn,Xo.localeData=pn,Xo.max=Ro,Xo.min=jo,Xo.parsingFlags=Cn,Xo.set=U,Xo.startOf=fn,Xo.subtract=Uo,Xo.toArray=bn,Xo.toObject=wn,Xo.toDate=yn,Xo.toISOString=rn,Xo.inspect=an,Xo.toJSON=kn,Xo.toString=on,Xo.unix=vn,Xo.valueOf=gn,Xo.creationData=Sn,Xo.year=vo,Xo.isLeapYear=vt,Xo.weekYear=Tn,Xo.isoWeekYear=$n,Xo.quarter=Xo.quarters=Mn,Xo.month=ut,Xo.daysInMonth=dt,Xo.week=Xo.weeks=Tt,Xo.isoWeek=Xo.isoWeeks=$t,Xo.weeksInYear=An,Xo.isoWeeksInYear=En,Xo.date=Yo,Xo.day=Xo.days=Ot,Xo.weekday=jt,Xo.isoWeekday=Rt,Xo.dayOfYear=Fn,Xo.hour=Xo.hours=To,Xo.minute=Xo.minutes=Vo,Xo.second=Xo.seconds=Go,Xo.millisecond=Xo.milliseconds=Ko,Xo.utcOffset=Ee,Xo.utc=Ie,Xo.local=Pe,Xo.parseZone=Me,Xo.hasAlignedHourOffset=Fe,Xo.isDST=Le,Xo.isLocal=je,Xo.isUtcOffset=Re,Xo.isUtc=Ne,Xo.isUTC=Ne,Xo.zoneAbbr=On,Xo.zoneName=jn,Xo.dates=C("dates accessor is deprecated. Use date instead.",Yo),Xo.months=C("months accessor is deprecated. Use month instead",ut),Xo.years=C("years accessor is deprecated. Use year instead",vo),Xo.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ae),Xo.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Oe);var Jo=$.prototype;Jo.calendar=E,Jo.longDateFormat=A,Jo.invalidDate=I,Jo.ordinal=P,Jo.preparse=Hn,Jo.postformat=Hn,Jo.relativeTime=M,Jo.pastFuture=F,Jo.set=D,Jo.months=rt,Jo.monthsShort=at,Jo.monthsParse=lt,Jo.monthsRegex=pt,Jo.monthsShortRegex=ht,Jo.week=_t,Jo.firstDayOfYear=Dt,Jo.firstDayOfWeek=St,Jo.weekdays=It,Jo.weekdaysMin=Mt,Jo.weekdaysShort=Pt,Jo.weekdaysParse=Lt,Jo.weekdaysRegex=Nt,Jo.weekdaysShortRegex=Ht,Jo.weekdaysMinRegex=Bt,Jo.isPM=Vt,Jo.meridiem=Gt,Jt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=C("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=C("moment.langData is deprecated. Use moment.localeData instead.",ee);var Zo=Math.abs,tr=ri("ms"),er=ri("s"),nr=ri("m"),ir=ri("h"),or=ri("d"),rr=ri("w"),ar=ri("M"),sr=ri("y"),lr=si("milliseconds"),cr=si("seconds"),ur=si("minutes"),dr=si("hours"),hr=si("days"),pr=si("months"),fr=si("years"),mr=Math.round,gr={s:45,m:45,h:22,d:26,M:11},vr=Math.abs,yr=xe.prototype;return yr.abs=Qn,yr.add=Xn,yr.subtract=Jn,yr.as=ii,yr.asMilliseconds=tr,yr.asSeconds=er,yr.asMinutes=nr,yr.asHours=ir,yr.asDays=or,yr.asWeeks=rr,yr.asMonths=ar,yr.asYears=sr,yr.valueOf=oi,yr._bubble=ti,yr.get=ai,yr.milliseconds=lr,yr.seconds=cr,yr.minutes=ur,yr.hours=dr,yr.days=hr,yr.weeks=li,yr.months=pr,yr.years=fr,yr.humanize=pi,yr.toISOString=fi,yr.toString=fi,yr.toJSON=fi,yr.locale=hn,yr.localeData=pn,yr.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fi),yr.lang=qo,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),X("x",Gi),X("X",Xi),et("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),et("x",function(t,e,n){n._d=new Date(w(t))}),t.version="2.17.1",e(ye),t.fn=Xo,t.min=we,t.max=ke,t.now=No,t.utc=u,t.unix=Rn,t.months=Un,t.isDate=a,t.locale=Jt,t.invalid=f,t.duration=He,t.isMoment=y,t.weekdays=Yn,t.parseZone=Nn,t.localeData=ee,t.isDuration=Ce,t.monthsShort=qn,t.weekdaysMin=Gn,t.defineLocale=Zt,t.updateLocale=te,t.locales=ne,t.weekdaysShort=Vn,t.normalizeUnits=O,t.relativeTimeRounding=di,t.relativeTimeThreshold=hi,t.calendarFormat=Ye,t.prototype=Xo,t}),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(n,i){return t.daterangepicker=e(n,i)});else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:void 0;n||(n=require("jquery"),n.fn||(n.fn={})),module.exports=e(require("moment"),n)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,function(t,e){var n=function(n,i,o){if(this.parentEl="body",this.element=e(n),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),i=e.extend(this.element.data(),i),"string"==typeof i.template||i.template instanceof e||(i.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=e(i.parentEl&&e(i.parentEl).length?i.parentEl:this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),
"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel&&(this.locale.customRangeLabel=i.locale.customRangeLabel)),this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyClass&&(this.applyClass=i.applyClass),"string"==typeof i.cancelClass&&(this.cancelClass=i.cancelClass),"object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var a,s,l;if("undefined"==typeof i.startDate&&"undefined"==typeof i.endDate&&e(this.element).is("input[type=text]")){var c=e(this.element).val(),u=c.split(this.locale.separator);a=s=null,2==u.length?(a=t(u[0],this.locale.format),s=t(u[1],this.locale.format)):this.singleDatePicker&&""!==c&&(a=t(c,this.locale.format),s=t(c,this.locale.format)),null!==a&&null!==s&&(this.setStartDate(a),this.setEndDate(s))}if("object"==typeof i.ranges){for(l in i.ranges){a="string"==typeof i.ranges[l][0]?t(i.ranges[l][0],this.locale.format):t(i.ranges[l][0]),s="string"==typeof i.ranges[l][1]?t(i.ranges[l][1],this.locale.format):t(i.ranges[l][1]),this.minDate&&a.isBefore(this.minDate)&&(a=this.minDate.clone());var d=this.maxDate;if(this.dateLimit&&d&&a.clone().add(this.dateLimit).isAfter(d)&&(d=a.clone().add(this.dateLimit)),d&&s.isAfter(d)&&(s=d.clone()),!(this.minDate&&s.isBefore(this.minDate,this.timepicker?"minute":"day")||d&&a.isAfter(d,this.timepicker?"minute":"day"))){var h=document.createElement("textarea");h.innerHTML=l;var p=h.value;this.ranges[p]=[a,s]}}var f="<ul>";for(l in this.ranges)f+='<li data-range-key="'+l+'">'+l+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof o&&(this.callback=o),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof i.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof i.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",e.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",e.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)).on("click.daterangepicker","li",e.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",e.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",e.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return n.prototype={constructor:n,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,n;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i="left"==n?this.leftCalendar:this.rightCalendar,o=i.month.month(),r=i.month.year(),a=i.month.hour(),s=i.month.minute(),l=i.month.second(),c=t([r,o]).daysInMonth(),u=t([r,o,1]),d=t([r,o,c]),h=t(u).subtract(1,"month").month(),p=t(u).subtract(1,"month").year(),f=t([p,h]).daysInMonth(),m=u.day(),i=[];i.firstDay=u,i.lastDay=d;for(var g=0;g<6;g++)i[g]=[];var v=f-m+this.locale.firstDay+1;v>f&&(v-=7),m==this.locale.firstDay&&(v=f-6);for(var y,b,w=t([p,h,v,12,s,l]),g=0,y=0,b=0;g<42;g++,y++,w=t(w).add(24,"hour"))g>0&&y%7===0&&(y=0,b++),i[b][y]=w.clone().hour(a).minute(s).second(l),w.hour(12),this.minDate&&i[b][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[b][y].isBefore(this.minDate)&&"left"==n&&(i[b][y]=this.minDate.clone()),this.maxDate&&i[b][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[b][y].isAfter(this.maxDate)&&"right"==n&&(i[b][y]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var k="left"==n?this.minDate:this.startDate,x=this.maxDate,C=("left"==n?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),_='<table class="table-condensed">';_+="<thead>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+="<th></th>"),_+=k&&!k.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?"<th></th>":'<th class="prev available"><i class="fa fa-'+C.left+" glyphicon glyphicon-"+C.left+'"></i></th>';var S=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var D=i[1][1].month(),T=i[1][1].year(),$=x&&x.year()||T+5,E=k&&k.year()||T-50,A=T==E,I=T==$,P='<select class="monthselect">',M=0;M<12;M++)P+=(!A||M>=k.month())&&(!I||M<=x.month())?"<option value='"+M+"'"+(M===D?" selected='selected'":"")+">"+this.locale.monthNames[M]+"</option>":"<option value='"+M+"'"+(M===D?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[M]+"</option>";P+="</select>";for(var F='<select class="yearselect">',L=E;L<=$;L++)F+='<option value="'+L+'"'+(L===T?' selected="selected"':"")+">"+L+"</option>";F+="</select>",S=P+F}if(_+='<th colspan="5" class="month">'+S+"</th>",_+=x&&!x.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-'+C.right+" glyphicon glyphicon-"+C.right+'"></i></th>',_+="</tr>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(t,e){_+="<th>"+e+"</th>"}),_+="</tr>",_+="</thead>",_+="<tbody>",null==this.endDate&&this.dateLimit){var O=this.startDate.clone().add(this.dateLimit).endOf("day");x&&!O.isBefore(x)||(x=O)}for(var b=0;b<6;b++){_+="<tr>",this.showWeekNumbers?_+='<td class="week">'+i[b][0].week()+"</td>":this.showISOWeekNumbers&&(_+='<td class="week">'+i[b][0].isoWeek()+"</td>");for(var y=0;y<7;y++){var j=[];i[b][y].isSame(new Date,"day")&&j.push("today"),i[b][y].isoWeekday()>5&&j.push("weekend"),i[b][y].month()!=i[1][1].month()&&j.push("off"),this.minDate&&i[b][y].isBefore(this.minDate,"day")&&j.push("off","disabled"),x&&i[b][y].isAfter(x,"day")&&j.push("off","disabled"),this.isInvalidDate(i[b][y])&&j.push("off","disabled"),i[b][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&j.push("active","start-date"),null!=this.endDate&&i[b][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&j.push("active","end-date"),null!=this.endDate&&i[b][y]>this.startDate&&i[b][y]<this.endDate&&j.push("in-range");var R=this.isCustomDate(i[b][y]);R!==!1&&("string"==typeof R?j.push(R):Array.prototype.push.apply(j,R));for(var N="",H=!1,g=0;g<j.length;g++)N+=j[g]+" ","disabled"==j[g]&&(H=!0);H||(N+="available"),_+='<td class="'+N.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+y+'">'+i[b][y].date()+"</td>"}_+="</tr>"}_+="</tbody>",_+="</table>",this.container.find(".calendar."+n+" .calendar-table").html(_)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,n,i,o=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(o=this.startDate.clone().add(this.dateLimit)),"left"==t)n=this.startDate.clone(),i=this.minDate;else if("right"==t){n=this.endDate.clone(),i=this.startDate;var r=this.container.find(".calendar.right .calendar-time div");if(!this.endDate&&""!=r.html()&&(n.hour(r.find(".hourselect option:selected").val()||n.hour()),n.minute(r.find(".minuteselect option:selected").val()||n.minute()),n.second(r.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var a=r.find(".ampmselect option:selected").val();"PM"===a&&n.hour()<12&&n.hour(n.hour()+12),"AM"===a&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),o&&n.isAfter(o)&&(n=o.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=s;c<=l;c++){var u=c;this.timePicker24Hour||(u=n.hour()>=12?12==c?12:c+12:12==c?0:c);var d=n.clone().hour(u),h=!1;i&&d.minute(59).isBefore(i)&&(h=!0),o&&d.minute(0).isAfter(o)&&(h=!0),e+=u!=n.hour()||h?h?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":'<option value="'+c+'" selected="selected">'+c+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(var c=0;c<60;c+=this.timePickerIncrement){var p=c<10?"0"+c:c,d=n.clone().minute(c),h=!1;i&&d.second(59).isBefore(i)&&(h=!0),o&&d.second(0).isAfter(o)&&(h=!0),e+=n.minute()!=c||h?h?'<option value="'+c+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+c+'">'+p+"</option>":'<option value="'+c+'" selected="selected">'+p+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(var c=0;c<60;c++){var p=c<10?"0"+c:c,d=n.clone().second(c),h=!1;i&&d.isBefore(i)&&(h=!0),o&&d.isAfter(o)&&(h=!0),e+=n.second()!=c||h?h?'<option value="'+c+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+c+'">'+p+"</option>":'<option value="'+c+'" selected="selected">'+p+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",m="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),o&&n.clone().hour(0).minute(0).second(0).isAfter(o)&&(m=' disabled="disabled" class="disabled"'),e+=n.hour()>=12?'<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":'<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+m+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,n={top:0,left:0},i=e(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(){this.isShowing||(this._outsideClickProxy=e.proxy(function(t){this.outsideClick(t)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(t){var n=e(t.target);"focusin"==t.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){var n=e(t.target).parents(".calendar");n.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){var n=e(t.target).parents(".calendar");n.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),o=n.substr(3,1),r=e(t.target).parents(".calendar"),a=r.hasClass("left")?this.leftCalendar.calendar[i][o]:this.rightCalendar.calendar[i][o];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format));var s=this.leftCalendar,l=this.rightCalendar,c=this.startDate;this.endDate||this.container.find(".calendar td").each(function(t,n){if(!e(n).hasClass("week")){var i=e(n).attr("data-title"),o=i.substr(1,1),r=i.substr(3,1),u=e(n).parents(".calendar"),d=u.hasClass("left")?s.calendar[o][r]:l.calendar[o][r];d.isAfter(c)&&d.isBefore(a)||d.isSame(a,"day")?e(n).addClass("in-range"):e(n).removeClass("in-range")}})}},clickDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),o=n.substr(3,1),r=e(t.target).parents(".calendar"),a=r.hasClass("left")?this.leftCalendar.calendar[i][o]:this.rightCalendar.calendar[i][o];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var c=parseInt(this.container.find(".left .minuteselect").val(),10),u=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(s).minute(c).second(u)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var s=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var c=parseInt(this.container.find(".right .minuteselect").val(),10),u=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;a=a.clone().hour(s).minute(c).second(u)}this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&this.showCustomRangeLabel&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var n=e(t.target).closest(".calendar").hasClass("left"),i=n?"left":"right",o=this.container.find(".calendar."+i),r=parseInt(o.find(".monthselect").val(),10),a=o.find(".yearselect").val();n||(a<this.startDate.year()||a==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),a=this.maxDate.year()),n?(this.leftCalendar.month.month(r).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var n=e(t.target).closest(".calendar"),i=n.hasClass("left"),o=parseInt(n.find(".hourselect").val(),10),r=parseInt(n.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=n.find(".ampmselect").val();"PM"===s&&o<12&&(o+=12),"AM"===s&&12===o&&(o=0)}if(i){var l=this.startDate.clone();l.hour(o),l.minute(r),l.second(a),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(o),c.minute(r),c.second(a),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(n){var i=e(n.target).closest(".calendar").hasClass("right"),o=t(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),r=t(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);o.isValid()&&r.isValid()&&(i&&r.isBefore(o)&&(o=r.clone()),this.setStartDate(o),this.setEndDate(r),i?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),e(t.target).addClass("active");var n=e(t.target).closest(".calendar").hasClass("right");n&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(){if(!this.endDate){var e=this.container.find('input[name="daterangepicker_end"]').val(),n=t(e,this.locale.format);n.isValid()&&(this.setEndDate(n),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var e=this.element.val().split(this.locale.separator),n=null,i=null;2===e.length&&(n=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(n=t(this.element.val(),this.locale.format),i=n),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){return this.each(function(){var o=e(this);o.data("daterangepicker")&&o.data("daterangepicker").remove(),o.data("daterangepicker",new n(o,t,i))}),this},n}),function(t){var e=function(){"use strict";var t="s",n=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},i=function(t,e,n){var i=new Date;return void 0!==t&&i.setFullYear(t),i.setDate(n),i.setMonth(e),i},o=function(t){return n(i(t,0,2))},r=function(t){return n(i(t,5,2))},a=function(t){var e=t.getMonth()>7?r(t.getFullYear()):o(t.getFullYear()),i=n(t);return e-i!==0},s=function(){var e=o(),n=r(),i=o()-r();return i<0?e+",1":i>0?n+",1,"+t:e+",0"},l=function(){var t=s();return new e.TimeZone(e.olson.timezones[t])},c=function(t){var e=new Date(2010,6,15,1,0,0,0),n={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),
"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":e,"Asia/Yekaterinburg":e,"Asia/Omsk":e,"Asia/Krasnoyarsk":e,"Asia/Irkutsk":e,"Asia/Yakutsk":e,"Asia/Vladivostok":e,"Asia/Kamchatka":e,"Europe/Minsk":e,"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return n[t]};return{determine:l,date_is_dst:a,dst_start_for:c}}();e.TimeZone=function(t){"use strict";var n={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},i=t,o=function(){for(var t=n[i],o=t.length,r=0,a=t[0];r<o;r+=1)if(a=t[r],e.date_is_dst(e.dst_start_for(a)))return void(i=a)},r=function(){return"undefined"!=typeof n[i]};return r()&&o(),{name:function(){return i}}},e.olson={},e.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=e:t.jstz=e}(this),function(){Cookies.set("browser.timezone",jstz.determine().name(),{expires:365,path:"/"})}(),function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.editableform.defaults,n),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width(),t&&this.$loading.width(t)),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),t!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var n,i=this.$form.find(".control-group"),o=this.$form.find(".editable-error-block");if(e===!1)i.removeClass(t.fn.editableform.errorGroupClass),o.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){n=(""+e).split("\n");for(var r=0;r<n.length;r++)n[r]=t("<div>").text(n[r]).html();e=n.join("<br>")}i.addClass(t.fn.editableform.errorGroupClass),o.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var n=this.input.input2value(),i=this.validate(n);if("object"===t.type(i)&&void 0!==i.newValue){if(n=i.newValue,this.input.value2input(n),"string"==typeof i.msg)return this.error(i.msg),void this.showForm()}else if(i)return this.error(i),void this.showForm();if(!this.options.savenochange&&this.input.value2str(n)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var o=this.input.value2submit(n);this.isSaving=!0,t.when(this.save(o)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,n):null;return e===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(n=e.newValue),this.error(!1),this.value=n,void this.$div.triggerHandler("save",{newValue:n,submitValue:o,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,n):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var n,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,o=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==i&&void 0!==i));if(o)return this.showLoading(),n={name:this.options.name||"",value:e,pk:i},"function"==typeof this.options.params?n=this.options.params.call(this.options.scope,n):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(n,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,n):t.ajax(t.extend({url:this.options.url,data:n,type:"POST"},this.options.ajaxOptions))},validate:function(t){if(void 0===t&&(t=this.value),"function"==typeof this.options.validate)return this.options.validate.call(this.options.scope,t)},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){e?this.value=this.input.str2value(t):this.value=t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(n){var i=arguments;return this.each(function(){var o=t(this),r=o.data("editableform"),a="object"==typeof n&&n;r||o.data("editableform",r=new e(this,a)),"string"==typeof n&&r[n].apply(r,Array.prototype.slice.call(i,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(t){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,n,i){var o,r,a={};if(!t.isArray(n)||!n.length)return a;for(var s=0;s<n.length;s++)o=n[s],e.hasOwnProperty(o)&&(a[o]=e[o]),i!==!0&&(r=o.toLowerCase(),e.hasOwnProperty(r)&&(a[o]=e[r]));return a},getConfigData:function(e){var n={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(n[t]=e)}),n},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,n,i){if(!n||null===e)return[];if("function"!=typeof i){var o=i||"value";i=function(t){return t[o]}}var r=t.isArray(e),a=[],s=this;return t.each(n,function(n,o){if(o.children)a=a.concat(s.itemsByValue(e,o.children,i));else if(r)t.grep(e,function(t){return t==(o&&"object"==typeof o?i(o):o)}).length&&a.push(o);else{var l=o&&"object"==typeof o?i(o):o;e==l&&a.push(o)}}),a},createInput:function(e){var n,i,o,r=e.type;return"date"===r&&("inline"===e.mode?t.fn.editabletypes.datefield?r="datefield":t.fn.editabletypes.dateuifield&&(r="dateuifield"):t.fn.editabletypes.date?r="date":t.fn.editabletypes.dateui&&(r="dateui"),"date"!==r||t.fn.editabletypes.date||(r="combodate")),"datetime"===r&&"inline"===e.mode&&(r="datetimefield"),"wysihtml5"!==r||t.fn.editabletypes[r]||(r="textarea"),"function"==typeof t.fn.editabletypes[r]?(n=t.fn.editabletypes[r],i=this.sliceObj(e,this.objectKeys(n.defaults)),o=new n(i)):(t.error("Unknown type: "+r),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,n="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var o=0;o<i.length;o++)if("string"==typeof e[i[o]+n])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},n=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(n,i){this.$element=t(n),this.options=t.extend({},t.fn.editableContainer.defaults,i),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(n){var i,o=t(n.target),r=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,n.target)&&!o.is(document)){for(i=0;i<r.length;i++)if(o.is(r[i])||o.parents(r[i]).length)return;e.prototype.closeOthers(n.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),e!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(n,i){if(i!==e&&!t(i).find(e).length){var o=t(i),r=o.data("editableContainer");r&&("cancel"===r.options.onblur?o.data("editableContainer").hide("onblur"):"submit"===r.options.onblur&&o.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(i){var o=arguments;return this.each(function(){var r=t(this),a="editableContainer",s=r.data(a),l="object"==typeof i&&i,c="inline"===l.mode?n:e;s||r.data(a,s=new c(this,l)),"string"==typeof i&&s[i].apply(s,Array.prototype.slice.call(o,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=n,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,n,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,n=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),n=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),"string"==typeof this.options.value?this.value=this.input.str2value(this.options.value):this.value=this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!n;break;default:e=!1}t.when(!e||this.render()).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var n=t(e.target);n.data("editable")||(n.hasClass(this.options.emptyclass)&&n.empty(),n.editable(this.options).trigger(e))},this))},render:function(t){if(this.options.display!==!1)return this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,n){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,n){this.option(t.trim(e),n)},this)):(this.options[e]=n,"disabled"===e?n?this.disable():this.enable():("value"===e&&this.setValue(n),this.container&&this.container.option(e,n),void(this.input.option&&this.input.option(e,n))))},handleEmpty:function(e){this.options.display!==!1&&(void 0!==e?this.isEmpty=e:"function"==typeof this.input.isEmpty?this.isEmpty=this.input.isEmpty(this.$element):this.isEmpty=""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var n=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(n),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var n=!1;n=n||"function"==typeof this.options.url,n=n||this.options.display===!1,n=n||void 0!==e.response,n=n||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),n?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var i=this.$element,o=i.css("background-color");i.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===o&&(o=""),i.css("background-color",o),i.addClass("editable-bg-transition"),setTimeout(function(){i.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){if("function"==typeof this.options.validate)return this.options.validate.call(this,this.value)},setValue:function(e,n,i){n?this.value=this.input.str2value(e):this.value=e,this.container&&this.container.option("value",this.value),t.when(this.render(i)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(n){var i={},o=arguments,r="editable";switch(n){case"validate":return this.each(function(){var e,n=t(this),o=n.data(r);o&&(e=o.validate())&&(i[o.options.name]=e)}),i;case"getValue":return 2===arguments.length&&arguments[1]===!0?i=this.eq(0).data(r).value:this.each(function(){var e=t(this),n=e.data(r);n&&void 0!==n.value&&null!==n.value&&(i[n.options.name]=n.input.value2submit(n.value))}),i;case"submit":var a=arguments[1]||{},s=this,l=this.editable("validate");if(t.isEmptyObject(l)){var c={};if(1===s.length){var u=s.data("editable"),d={name:u.options.name||"",value:u.input.value2submit(u.value),pk:"function"==typeof u.options.pk?u.options.pk.call(u.options.scope):u.options.pk};"function"==typeof u.options.params?d=u.options.params.call(u.options.scope,d):(u.options.params=t.fn.editableutils.tryParseJson(u.options.params,!0),t.extend(d,u.options.params)),c={url:u.options.url,data:d,type:"POST"},a.success=a.success||u.options.success,a.error=a.error||u.options.error}else{var h=this.editable("getValue");c={url:a.url,data:h,type:"POST"}}c.success="function"==typeof a.success?function(t){a.success.call(s,t,a)}:t.noop,c.error="function"==typeof a.error?function(){a.error.apply(s,arguments)}:t.noop,a.ajaxOptions&&t.extend(c,a.ajaxOptions),a.data&&t.extend(c.data,a.data),t.ajax(c)}else"function"==typeof a.error&&a.error.call(s,l);return this}return this.each(function(){var i=t(this),a=i.data(r),s="object"==typeof n&&n;return s&&s.selector?void(a=new e(this,s)):(a||i.data(r,a=new e(this,s)),void("string"==typeof n&&a[n].apply(a,Array.prototype.slice.call(o,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,n,i){this.type=e,this.options=t.extend({},i,n)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,n){t(n)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,n,i,o){var r=t.Deferred(),a=function(){"function"==typeof i?i.call(n,e,this.sourceData,o):this.value2htmlFinal(e,n),r.resolve()};return null===e?a.call(this):this.onSourceReady(a,function(){r.resolve()}),r.promise()},onSourceReady:function(e,n){var i;if(t.isFunction(this.options.source)?(i=this.options.source.call(this.options.scope),this.sourceData=null):i=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{i=t.fn.editableutils.tryParseJson(i,!1)}catch(t){return void n.call(this)}if("string"==typeof i){if(this.options.sourceCache){var o,r=i;if(t(document).data(r)||t(document).data(r,{}),o=t(document).data(r),o.loading===!1&&o.sourceData)return this.sourceData=o.sourceData,this.doPrepend(),void e.call(this);if(o.loading===!0)return o.callbacks.push(t.proxy(function(){this.sourceData=o.sourceData,this.doPrepend(),e.call(this)},this)),void o.err_callbacks.push(t.proxy(n,this));o.loading=!0,o.callbacks=[],o.err_callbacks=[]}var a=t.extend({url:i,type:"get",cache:!1,dataType:"json",success:t.proxy(function(i){o&&(o.loading=!1),this.sourceData=this.makeArray(i),t.isArray(this.sourceData)?(o&&(o.sourceData=this.sourceData,t.each(o.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(n.call(this),o&&t.each(o.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){n.call(this),o&&(o.loading=!1,t.each(o.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(a)}else this.sourceData=this.makeArray(i),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):n.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var n,i,o,r,a=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){r=function(t,e){if(i={value:t,text:e},n++>=2)return!1};for(var s=0;s<e.length;s++)o=e[s],"object"==typeof o?(n=0,t.each(o,r),1===n?a.push(i):n>1&&(o.children&&(o.children=this.makeArray(o.children)),a.push(o))):a.push({value:o,text:o})}else t.each(e,function(t,e){a.push({value:t,text:e})});return a},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var n=this;this.t=setTimeout(function(){n.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(n,i){var o;if(t.isArray(i))for(var r=0;r<i.length;r++)o={},i[r].children?(o.label=i[r].text,n.append(e(t("<optgroup>",o),i[r].children))):(o.value=i[r].value,i[r].disabled&&(o.disabled=!0),n.append(t("<option>",o).text(i[r].text)));return n};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,n){var i="",o=t.fn.editableutils.itemsByValue(e,this.sourceData);o.length&&(i=o[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,n)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{
tpl:"<select></select>"}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var n=0;n<this.sourceData.length;n++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[n].value})).append(t("<span>").text(" "+this.sourceData[n].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var n,i=null;return"string"==typeof e&&e.length?(n=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),i=e.split(n)):i=t.isArray(e)?e:[e],i},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(n,i){var o=t(i);t.each(e,function(t,e){o.val()==e&&o.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(n,i){e.push(t(i).val())}),e},value2htmlFinal:function(e,n){var i=[],o=t.fn.editableutils.itemsByValue(e,this.sourceData),r=this.options.escape;o.length?(t.each(o,function(e,n){var o=r?t.fn.editableutils.escape(n.text):n.text;i.push(o)}),t(n).html(i.join("<br>"))):t(n).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,n){e?t(n).text("[hidden]"):t(n).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(n){if(this.init("select2",n,e.defaults),n.select2=n.select2||{},this.sourceData=null,n.placeholder&&(n.select2.placeholder=n.placeholder),!n.select2.tags&&n.source){var i=n.source;t.isFunction(n.source)&&(i=n.source.call(n.scope)),"string"==typeof i?(n.select2.ajax=n.select2.ajax||{},n.select2.ajax.data||(n.select2.ajax.data=function(t){return{query:t}}),n.select2.ajax.results||(n.select2.ajax.results=function(t){return{results:t}}),n.select2.ajax.url=i):(this.sourceData=this.convertSource(i),n.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,n.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var o=this.idFunc||"id";this.idFunc=function(t){return t[o]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(n,i){var o,r="",a=this;this.options.select2.tags?o=n:this.sourceData&&(o=t.fn.editableutils.itemsByValue(n,this.sourceData,this.idFunc)),t.isArray(o)?(r=[],t.each(o,function(t,e){r.push(e&&"object"==typeof e?a.formatSelection(e):e)})):o&&(r=a.formatSelection(o)),r=t.isArray(r)?r.join(this.options.viewseparator):r,e.superclass.value2html.call(this,r,i)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(t.isArray(e)&&(e=e.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var n=this.options.select2.id,i=this.options.select2.formatSelection;if(!n&&!i){var o=t(this.options.scope);if(!o.data("editable").isEmpty){var r={id:e,text:o.text()};this.$input.select2("data",r)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,n){if("string"!=typeof e||!this.isMultiple)return e;n=n||this.getSeparator();var i,o,r;if(null===e||e.length<1)return null;for(i=e.split(n),o=0,r=i.length;o<r;o+=1)i[o]=t.trim(i[o]);return i},autosubmit:function(){this.$input.on("change",function(e,n){n||t(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||t.fn.select2.defaults.separator},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var n=0;n<e.length;n++)void 0!==e[n].value&&(e[n].id=e[n].value,delete e[n].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,n){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,n,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(e){this.$element.val(this.getValue()).change(),this.options.smartDays&&(t(e.target).is(".month")||t(e.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,n){n=n[0];var i=new RegExp(n+"+"),o=n.length>1?n.substring(1,2):n;e=e.replace(i,"{"+o+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,n){n=n[0];var i=n.length>1?n.substring(1,2):n;e=e.replace("{"+i+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var n="fill"+t.charAt(0).toUpperCase()+t.slice(1),i=this[n](),o=e.val();e.empty();for(var r=0;r<i.length;r++)e.append('<option value="'+i[r][0]+'">'+i[r][1]+"</option>");e.val(o)}},fillCommon:function(t){var e,n=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var i="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];i=i.split(" ").reverse()[0],n.push(["",i])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var t,e,n=this.fillCommon("d"),i=this.options.template.indexOf("DD")!==-1,o=31;if(this.options.smartDays&&this.$month&&this.$year){var r=parseInt(this.$month.val(),10),a=parseInt(this.$year.val(),10);isNaN(r)||isNaN(a)||(o=moment([a,r]).daysInMonth())}for(e=1;e<=o;e++)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillMonth:function(){var t,e,n=this.fillCommon("M"),i=this.options.template.indexOf("MMMM")!==-1,o=this.options.template.indexOf("MMM")!==-1,r=this.options.template.indexOf("MM")!==-1;for(e=0;e<=11;e++)t=i?moment().date(1).month(e).format("MMMM"):o?moment().date(1).month(e).format("MMM"):r?this.leadZero(e+1):e+1,n.push([e,t]);return n},fillYear:function(){var t,e,n=[],i=this.options.template.indexOf("YYYY")!==-1;for(e=this.options.maxYear;e>=this.options.minYear;e--)t=i?e:(e+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([e,t]);return n=this.fillCommon("y").concat(n)},fillHour:function(){var t,e,n=this.fillCommon("h"),i=this.options.template.indexOf("h")!==-1,o=(this.options.template.indexOf("H")!==-1,this.options.template.toLowerCase().indexOf("hh")!==-1),r=i?1:0,a=i?12:23;for(e=r;e<=a;e++)t=o?this.leadZero(e):e,n.push([e,t]);return n},fillMinute:function(){var t,e,n=this.fillCommon("m"),i=this.options.template.indexOf("mm")!==-1;for(e=0;e<=59;e+=this.options.minuteStep)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillSecond:function(){var t,e,n=this.fillCommon("s"),i=this.options.template.indexOf("ss")!==-1;for(e=0;e<=59;e+=this.options.secondStep)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillAmpm:function(){var t=this.options.template.indexOf("a")!==-1,e=(this.options.template.indexOf("A")!==-1,[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]);return e},getValue:function(e){var n,i={},o=this,r=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return i[t]=o["$"+t]?parseInt(o["$"+t].val(),10):e,isNaN(i[t])?(r=!0,!1):void 0}}),r?"":(this.$ampm&&(12===i.hour?i.hour="am"===this.$ampm.val()?0:12:i.hour="am"===this.$ampm.val()?i.hour:i.hour+12),n=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(n),e=void 0===e?this.options.format:e,null===e?n.isValid()?n:null:n.isValid()?n.format(e):"")},setValue:function(e){function n(e,n){var i={};return e.children("option").each(function(e,o){var r,a=t(o).attr("value");""!==a&&(r=Math.abs(a-n),("undefined"==typeof i.distance||r<i.distance)&&(i={value:a,distance:r}))}),i.value}if(e){var i="string"==typeof e?moment(e,this.options.format):moment(e),o=this,r={};i.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(r[t]=i[e[1]]())}),this.$ampm&&(r.hour>=12?(r.ampm="pm",r.hour>12&&(r.hour-=12)):(r.ampm="am",0===r.hour&&(r.hour=12))),t.each(r,function(t,e){o["$"+t]&&("minute"===t&&o.options.minuteStep>1&&o.options.roundTime&&(e=n(o["$"+t],e)),"second"===t&&o.options.secondStep>1&&o.options.roundTime&&(e=n(o["$"+t],e)),o["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(i.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return t<=9?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(n){var i,o=Array.apply(null,arguments);return o.shift(),"getValue"===n&&this.length&&(i=this.eq(0).data("combodate"))?i.getValue.apply(i,o):this.each(function(){var i=t(this),r=i.data("combodate"),a="object"==typeof n&&n;r||i.data("combodate",r=new e(this,a)),"string"==typeof n&&"function"==typeof r[n]&&r[n].apply(r,o)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(t){"use strict";var e=function(n){this.init("combodate",n,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),n.combodate=t.fn.editableutils.tryParseJson(n.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,n.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,n){var i=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,i,n)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";var e=t.fn.editableform.Constructor.prototype.initInput;t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){e.apply(this);var n=null===this.input.options.inputclass||this.input.options.inputclass===!1,i="input-sm",o="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~t.inArray(this.input.type,o)&&(this.input.$input.addClass("form-control"),n&&(this.input.options.inputclass=i,this.input.$input.addClass(i)));for(var r=this.$form.find(".editable-buttons"),a=n?[i]:this.input.options.inputclass.split(" "),s=0;s<a.length;s++)"input-lg"===a[s].toLowerCase()&&r.find("button").removeClass("btn-sm").addClass("btn-lg")}}),t.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null,t.fn.editableform.engine="bs3"}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:t.fn.popover.Constructor.DEFAULTS,initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){(function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,i=n.test(e);i&&(e=e.replace(n,"")||"top");var o=this.getPosition(),r=t[0].offsetWidth,a=t[0].offsetHeight;if(i){var s=this.$element.parent(),l=e,c=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:s.outerWidth(),d="body"==this.options.container?window.innerHeight:s.outerHeight(),h="body"==this.options.container?0:s.offset().left;e="bottom"==e&&o.top+o.height+a-c>d?"top":"top"==e&&o.top-c-a<0?"bottom":"right"==e&&o.right+r>u?"left":"left"==e&&o.left-r<h?"right":e,t.removeClass(l).addClass(e)}var p=this.getCalculatedOffset(e,o,r,a);this.applyPlacement(p,e)}).call(this.container())}})}(window.jQuery),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function n(e,n){var i,o=t(e).data(),r={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])"),n=new RegExp("^"+n.toLowerCase());for(var s in o)n.test(s)&&(i=s.replace(a,function(t,e){return e.toLowerCase()}),r[i]=o[s]);return r}function i(e){var n={};if(u[e]||(e=e.split("-")[0],u[e])){var i=u[e];return t.each(c,function(t,e){e in i&&(n[e]=i[e])}),n}}var o=function(e,n){this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(d.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(u[i]||(i=i.split("-")[0],u[i]||(i=l.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var o=d.parseFormat(n.format);n.startDate!==-(1/0)&&(n.startDate=d.parseDate(n.startDate,o,n.language)),n.endDate!==1/0&&(n.endDate=d.parseDate(n.endDate,o,n.language)),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.on(n)},_unapplyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.off(n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.date,o=new Date(i.getTime()+6e4*i.getTimezoneOffset());this.element.trigger({type:e,date:o,format:t.proxy(function(t){var e=t||this.o.format;return d.formatDate(i,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),d.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:n.top+i,left:n.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=d.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.date<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.date>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+u[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+u[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=this.date.valueOf(),a=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()==i&&e.getUTCMonth()<o?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()==i&&e.getUTCMonth()>o)&&n.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==a.getFullYear()&&e.getUTCMonth()==a.getMonth()&&e.getUTCDate()==a.getDate()&&n.push("today"),r&&e.valueOf()==r&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),t.inArray(e.valueOf(),this.range)!=-1&&n.push("selected")),n},fill:function(){var n,i=new Date(this.viewDate),o=i.getUTCFullYear(),r=i.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),s=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf();this.picker.find(".datepicker-days thead th.datepicker-switch").text(u[this.o.language].months[r]+" "+o),this.picker.find("tfoot th.today").text(u[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(u[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var h=e(o,r-1,28,0,0,0,0),p=d.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(p),h.setUTCDate(p-(h.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(h);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g=[];h.valueOf()<f;){if(h.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),y=new Date(+v+(11-v.getUTCDay())%7*864e5),b=new Date(+(b=e(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),w=(y-b)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}m=this.getClassNames(h),m.push("day");var k=this.o.beforeShowDay(h);void 0===k?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&m.push("disabled"),k.classes&&(m=m.concat(k.classes.split(/\s+/))),k.tooltip&&(n=k.tooltip),m=t.unique(m),g.push('<td class="'+m.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var x=this.date&&this.date.getUTCFullYear(),C=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");x&&x==o&&C.eq(this.date.getUTCMonth()).addClass("active"),(o<a||o>l)&&C.addClass("disabled"),o==a&&C.slice(0,s).addClass("disabled"),o==l&&C.slice(c+1).addClass("disabled"),g="",o=10*parseInt(o/10,10);var _=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var S=-1;S<11;S++)g+='<span class="year'+(S==-1?" old":10==S?" new":"")+(x==o?" active":"")+(o<a||o>l?" disabled":"")+'">'+o+"</span>",o+=1;_.html(g)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(n){n.preventDefault();var i=t(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=d.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var r=new Date;r=e(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.o.todayBtn?null:"view";this._setDate(r,a);break;case"clear":var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=1,c=i.parent().find("span").index(i),u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(u,c,l,0,0,0,0))}else{var u=parseInt(i.text(),10)||0,l=1,c=0;this.viewDate.setUTCFullYear(u),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(u,c,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var l=parseInt(i.text(),10)||1,u=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();i.is(".old")?0===c?(c=11,u-=1):c-=1:i.is(".new")&&(11==c?(c=0,u+=1):c+=1),this._setDate(e(u,c,l,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var n,i,o=new Date(t.valueOf()),r=o.getUTCDate(),a=o.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1==s)i=e==-1?function(){return o.getUTCMonth()==a}:function(){return o.getUTCMonth()!=n},n=a+e,o.setUTCMonth(n),(n<0||n>11)&&(n=(n+12)%12);else{for(var l=0;l<s;l++)o=this.moveMonth(o,e);n=o.getUTCMonth(),o.setUTCDate(r),i=function(){return n!=o.getUTCMonth()}}for(;i();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,n,i,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(o){this._trigger("changeDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),
r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+d.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var r=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};r.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){var n=t(e.target).data("datepicker"),i=n.getUTCDate(),o=t.inArray(e.target,this.inputs),r=this.inputs.length;if(o!=-1){if(i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[o])for(;o<r&&i>this.dates[o];)this.pickers[o++].setUTCDate(i);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var a=t.fn.datepicker,s=t.fn.datepicker=function(e){var a=Array.apply(null,arguments);a.shift();var s;return this.each(function(){var c=t(this),u=c.data("datepicker"),d="object"==typeof e&&e;if(!u){var h=n(this,"date"),p=t.extend({},l,h,d),f=i(p.language),m=t.extend({},l,f,h,d);if(c.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||c.find("input").toArray()};c.data("datepicker",u=new r(this,t.extend(m,g)))}else c.data("datepicker",u=new o(this,m))}if("string"==typeof e&&"function"==typeof u[e]&&(s=u[e].apply(u,a),void 0!==s))return!1}),void 0!==s?s:this},l=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},c=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=o;var u=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},d={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,d.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,i,r){if(n instanceof Date)return n;if("string"==typeof i&&(i=d.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){var a,s,l=/([\-+]\d+)([dmwy])/,c=n.match(/([\-+]\d+)([dmwy])/g);n=new Date;for(var h=0;h<c.length;h++)switch(a=l.exec(c[h]),s=parseInt(a[1]),a[2]){case"d":n.setUTCDate(n.getUTCDate()+s);break;case"m":n=o.prototype.moveMonth.call(o.prototype,n,s);break;case"w":n.setUTCDate(n.getUTCDate()+7*s);break;case"y":n=o.prototype.moveYear.call(o.prototype,n,s)}return e(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}var p,f,a,c=n&&n.match(this.nonpunctuation)||[],n=new Date,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,n=e(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var y=i.parts.slice();if(c.length!=y.length&&(y=t(y).filter(function(e,n){return t.inArray(n,g)!==-1}).toArray()),c.length==y.length){for(var h=0,b=y.length;h<b;h++){if(p=parseInt(c[h],10),a=y[h],isNaN(p))switch(a){case"MM":f=t(u[r].months).filter(function(){var t=this.slice(0,c[h].length),e=c[h].slice(0,t.length);return t==e}),p=t.inArray(f[0],u[r].months)+1;break;case"M":f=t(u[r].monthsShort).filter(function(){var t=this.slice(0,c[h].length),e=c[h].slice(0,t.length);return t==e}),p=t.inArray(f[0],u[r].monthsShort)+1}m[a]=p}for(var w,h=0;h<g.length;h++)w=g[h],w in m&&!isNaN(m[w])&&v[w](n,m[w])}return n},formatDate:function(e,n,i){"string"==typeof n&&(n=d.parseFormat(n));var o={d:e.getUTCDate(),D:u[i].daysShort[e.getUTCDay()],DD:u[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:u[i].monthsShort[e.getUTCMonth()],MM:u[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var e=[],r=t.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)r.length&&e.push(r.shift()),e.push(o[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};d.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+d.headTemplate+"<tbody></tbody>"+d.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=d,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=a,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),s.call(n,"show"))}),t(function(){s.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(t){"use strict";t.fn.bdatepicker=t.fn.datepicker.noConflict(),t.fn.datepicker||(t.fn.datepicker=t.fn.bdatepicker);var e=function(t){this.init("date",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,n){this.options.viewformat||(this.options.viewformat=this.options.format),e.datepicker=t.fn.editableutils.tryParseJson(e.datepicker,!0),this.options.datepicker=t.extend({},n.datepicker,e.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=t.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,n){var i=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";e.superclass.value2html.call(this,i,n)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!t(e.currentTarget).is(".old")&&!t(e.currentTarget).is(".new")){var n=t(this).closest("form");setTimeout(function(){n.submit()},200)}})},parseDate:function(t,e){var n,i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(n=this.dpg.formatDate(i,e,this.options.datepicker.language),t!==n&&(i=null))),i}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.date=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,n){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},n.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var e=t(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,n){var i=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return n?void e.superclass.value2html.call(this,i,n):i},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var e=t(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var n,i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(n=this.dpg.formatDate(i,e,this.options.datetimepicker.language,this.options.formatType),t!==n&&(i=null))),i}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.datetime=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery),function(){var t;t||(t=$.fn.editableform.Constructor,t.prototype.saveWithUrlHook=function(t){var e,n,i,o,r;return r=this.options.url,e=this.options.model,o=this.options.nested,n=this.options.nid,i=this.options.locale,this.options.url=function(t){return function(a){var s,l,c,u;return"function"==typeof r?r.call(t.options.scope,a):null!=r&&"never"!==t.options.send?(s=a.name,l=a.value,"[object Array]"===Object.prototype.toString.call(a.value)&&0===a.value.length&&a.value.push(""),u={},o?(c={},c[s]=l,c.id=n,i&&(c.locale=i),u[o+"_attributes"]=c):u[s]=l,a[e]=u,delete a.name,delete a.value,delete a.pk,$.ajax($.extend({url:r,data:a,type:"PUT",dataType:"json"},t.options.ajaxOptions))):void 0}}(this),this.saveWithoutUrlHook(t)},t.prototype.saveWithoutUrlHook=t.prototype.save,t.prototype.save=t.prototype.saveWithUrlHook)}.call(this),function(){jQuery(function(t){return t("[data-classes]").on("save",function(e,n){var i,o,r,a,s;s=n.newValue,r=t(this),o=r.data("classes")||{};for(a in o)i=o[a],r.removeClass(i);return r.addClass(o[s]),r.css("background-color","")})})}.call(this),function(){$.fn.editable.defaults.error=function(t){var e,n;return n=$(this).data("name"),e=t.responseJSON.errors[n],e.join("; ")}}.call(this),function(){}.call(this),+function(t){"use strict";function e(e){return e.is('[type="checkbox"]')?e.prop("checked"):e.is('[type="radio"]')?!!t('[name="'+e.attr("name")+'"]:checked').length:e.is("select[multiple]")?(e.val()||[]).length:e.val()}function n(e){return this.each(function(){var n=t(this),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),r=n.data("bs.validator");(r||"destroy"!=e)&&(r||n.data("bs.validator",r=new i(this,o)),"string"==typeof e&&r[e]())})}var i=function(n,o){this.options=o,this.validators=t.extend({},i.VALIDATORS,o.custom),this.$element=t(n),this.$btn=t('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]')),this.update(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",t.proxy(this.onInput,this)),this.$element.on("submit.bs.validator",t.proxy(this.onSubmit,this)),this.$element.on("reset.bs.validator",t.proxy(this.reset,this)),this.$element.find("[data-match]").each(function(){var n=t(this),i=n.attr("data-match");t(i).on("input.bs.validator",function(){e(n)&&n.trigger("input.bs.validator")})}),this.$inputs.filter(function(){return e(t(this))&&!t(this).closest(".has-error").length}).trigger("focusout"),this.$element.attr("novalidate",!0)};i.VERSION="0.11.9",i.INPUT_SELECTOR=':input:not([type="hidden"], [type="submit"], [type="reset"], button)',i.FOCUS_OFFSET=20,i.DEFAULTS={delay:500,html:!1,disable:!0,focus:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}},i.VALIDATORS={"native":function(t){var e=t[0];if(e.checkValidity)return!e.checkValidity()&&!e.validity.valid&&(e.validationMessage||"error!")},match:function(e){var n=e.attr("data-match");return e.val()!==t(n).val()&&i.DEFAULTS.errors.match},minlength:function(t){var e=t.attr("data-minlength");return t.val().length<e&&i.DEFAULTS.errors.minlength}},i.prototype.update=function(){var e=this;return this.$inputs=this.$element.find(i.INPUT_SELECTOR).add(this.$element.find('[data-validate="true"]')).not(this.$element.find('[data-validate="false"]').each(function(){e.clearErrors(t(this))})),this.toggleSubmit(),this},i.prototype.onInput=function(e){var n=this,i=t(e.target),o="focusout"!==e.type;this.$inputs.is(i)&&this.validateInput(i,o).done(function(){n.toggleSubmit()})},i.prototype.validateInput=function(n,i){var o=(e(n),n.data("bs.validator.errors"));n.is('[type="radio"]')&&(n=this.$element.find('input[name="'+n.attr("name")+'"]'));var r=t.Event("validate.bs.validator",{relatedTarget:n[0]});if(this.$element.trigger(r),!r.isDefaultPrevented()){var a=this;return this.runValidators(n).done(function(e){n.data("bs.validator.errors",e),e.length?i?a.defer(n,a.showErrors):a.showErrors(n):a.clearErrors(n),o&&e.toString()===o.toString()||(r=e.length?t.Event("invalid.bs.validator",{relatedTarget:n[0],detail:e}):t.Event("valid.bs.validator",{relatedTarget:n[0],detail:o}),a.$element.trigger(r)),a.toggleSubmit(),a.$element.trigger(t.Event("validated.bs.validator",{relatedTarget:n[0]}))})}},i.prototype.runValidators=function(n){function i(t){return n.attr("data-"+t+"-error")}function o(){var t=n[0].validity;return t.typeMismatch?n.attr("data-type-error"):t.patternMismatch?n.attr("data-pattern-error"):t.stepMismatch?n.attr("data-step-error"):t.rangeOverflow?n.attr("data-max-error"):t.rangeUnderflow?n.attr("data-min-error"):t.valueMissing?n.attr("data-required-error"):null}function r(){return n.attr("data-error")}function a(t){return i(t)||o()||r()}var s=[],l=t.Deferred();return n.data("bs.validator.deferred")&&n.data("bs.validator.deferred").reject(),n.data("bs.validator.deferred",l),t.each(this.validators,t.proxy(function(t,i){var o=null;!e(n)&&!n.attr("required")||void 0===n.attr("data-"+t)&&"native"!=t||!(o=i.call(this,n))||(o=a(t)||o,!~s.indexOf(o)&&s.push(o))},this)),!s.length&&e(n)&&n.attr("data-remote")?this.defer(n,function(){var i={};i[n.attr("name")]=e(n),t.get(n.attr("data-remote"),i).fail(function(t,e,n){s.push(a("remote")||n)}).always(function(){l.resolve(s)})}):l.resolve(s),l.promise()},i.prototype.validate=function(){var e=this;return t.when(this.$inputs.map(function(){return e.validateInput(t(this),!1)})).then(function(){e.toggleSubmit(),e.focusError()}),this},i.prototype.focusError=function(){if(this.options.focus){var e=this.$element.find(".has-error:first :input");0!==e.length&&(t("html, body").animate({scrollTop:e.offset().top-i.FOCUS_OFFSET},250),e.focus())}},i.prototype.showErrors=function(e){var n=this.options.html?"html":"text",i=e.data("bs.validator.errors"),o=e.closest(".form-group"),r=o.find(".help-block.with-errors"),a=o.find(".form-control-feedback");i.length&&(i=t("<ul/>").addClass("list-unstyled").append(t.map(i,function(e){return t("<li/>")[n](e)})),void 0===r.data("bs.validator.originalContent")&&r.data("bs.validator.originalContent",r.html()),r.empty().append(i),o.addClass("has-error has-danger"),o.hasClass("has-feedback")&&a.removeClass(this.options.feedback.success)&&a.addClass(this.options.feedback.error)&&o.removeClass("has-success"))},i.prototype.clearErrors=function(t){var n=t.closest(".form-group"),i=n.find(".help-block.with-errors"),o=n.find(".form-control-feedback");i.html(i.data("bs.validator.originalContent")),n.removeClass("has-error has-danger has-success"),n.hasClass("has-feedback")&&o.removeClass(this.options.feedback.error)&&o.removeClass(this.options.feedback.success)&&e(t)&&o.addClass(this.options.feedback.success)&&n.addClass("has-success")},i.prototype.hasErrors=function(){function e(){return!!(t(this).data("bs.validator.errors")||[]).length}return!!this.$inputs.filter(e).length},i.prototype.isIncomplete=function(){function n(){var n=e(t(this));return!("string"==typeof n?t.trim(n):n)}return!!this.$inputs.filter("[required]").filter(n).length},i.prototype.onSubmit=function(t){this.validate(),(this.isIncomplete()||this.hasErrors())&&t.preventDefault()},i.prototype.toggleSubmit=function(){this.options.disable&&this.$btn.toggleClass("disabled",this.isIncomplete()||this.hasErrors())},i.prototype.defer=function(e,n){return n=t.proxy(n,this,e),this.options.delay?(window.clearTimeout(e.data("bs.validator.timeout")),void e.data("bs.validator.timeout",window.setTimeout(n,this.options.delay))):n()},i.prototype.reset=function(){return this.$element.find(".form-control-feedback").removeClass(this.options.feedback.error).removeClass(this.options.feedback.success),this.$inputs.removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var e=t(this),n=e.data("bs.validator.timeout");window.clearTimeout(n)&&e.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var e=t(this),n=e.data("bs.validator.originalContent");e.removeData("bs.validator.originalContent").html(n)}),this.$btn.removeClass("disabled"),this.$element.find(".has-error, .has-danger, .has-success").removeClass("has-error has-danger has-success"),this},i.prototype.destroy=function(){return this.reset(),this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator"),this.$inputs.off(".bs.validator"),this.options=null,this.validators=null,this.$element=null,this.$btn=null,this.$inputs=null,this};var o=t.fn.validator;t.fn.validator=n,t.fn.validator.Constructor=i,t.fn.validator.noConflict=function(){return t.fn.validator=o,this},t(window).on("load",function(){t('form[data-toggle="validator"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery);var Arrive=function(t,e,n){"use strict";function i(t,e,n){a.addMethod(e,n,t.unbindEvent),a.addMethod(e,n,t.unbindEventWithSelectorOrCallback),a.addMethod(e,n,t.unbindEventWithSelectorAndCallback)}function o(t){t.arrive=d.bindEvent,i(d,t,"unbindArrive"),t.leave=h.bindEvent,i(h,t,"unbindLeave")}if(t.MutationObserver&&"undefined"!=typeof HTMLElement){var r=0,a=function(){var e=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(t,n){return t instanceof HTMLElement&&e.call(t,n)},addMethod:function(t,e,n){var i=t[e];t[e]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof i?i.apply(this,arguments):void 0}},callCallbacks:function(t,e){e&&e.options.onceOnly&&1==e.firedElems.length&&(t=[t[0]]);for(var n,i=0;n=t[i];i++)n&&n.callback&&n.callback.call(n.elem,n.elem);e&&e.options.onceOnly&&1==e.firedElems.length&&e.me.unbindEventWithSelectorAndCallback.call(e.target,e.selector,e.callback)},checkChildNodesRecursively:function(t,e,n,i){for(var o,r=0;o=t[r];r++)n(o,e,i)&&i.push({callback:e.callback,elem:o}),o.childNodes.length>0&&a.checkChildNodesRecursively(o.childNodes,e,n,i)},mergeArrays:function(t,e){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},toElementsArray:function(e){return"undefined"==typeof e||"number"==typeof e.length&&e!==t||(e=[e]),e}}}(),s=function(){var t=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return t.prototype.addEvent=function(t,e,n,i){var o={target:t,selector:e,options:n,callback:i,firedElems:[]};return this._beforeAdding&&this._beforeAdding(o),this._eventsBucket.push(o),o},t.prototype.removeEvent=function(t){for(var e,n=this._eventsBucket.length-1;e=this._eventsBucket[n];n--)if(t(e)){this._beforeRemoving&&this._beforeRemoving(e);var i=this._eventsBucket.splice(n,1);i&&i.length&&(i[0].callback=null)}},t.prototype.beforeAdding=function(t){this._beforeAdding=t},t.prototype.beforeRemoving=function(t){this._beforeRemoving=t},t}(),l=function(e,i){var o=new s,r=this,l={fireOnAttributesModification:!1};return o.beforeAdding(function(n){var o,a=n.target;a!==t.document&&a!==t||(a=document.getElementsByTagName("html")[0]),o=new MutationObserver(function(t){i.call(this,t,n)});var s=e(n.options);o.observe(a,s),n.observer=o,n.me=r}),o.beforeRemoving(function(t){t.observer.disconnect()}),this.bindEvent=function(t,e,n){e=a.mergeArrays(l,e);for(var i=a.toElementsArray(this),r=0;r<i.length;r++)o.addEvent(i[r],t,e,n)},this.unbindEvent=function(){var t=a.toElementsArray(this);o.removeEvent(function(e){for(var i=0;i<t.length;i++)if(this===n||e.target===t[i])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(t){var e,i=a.toElementsArray(this),r=t;e="function"==typeof t?function(t){for(var e=0;e<i.length;e++)if((this===n||t.target===i[e])&&t.callback===r)return!0;return!1}:function(e){for(var o=0;o<i.length;o++)if((this===n||e.target===i[o])&&e.selector===t)return!0;return!1},o.removeEvent(e)},this.unbindEventWithSelectorAndCallback=function(t,e){var i=a.toElementsArray(this);o.removeEvent(function(o){for(var r=0;r<i.length;r++)if((this===n||o.target===i[r])&&o.selector===t&&o.callback===e)return!0;return!1})},this},c=function(){function t(t){var e={attributes:!1,childList:!0,subtree:!0};return t.fireOnAttributesModification&&(e.attributes=!0),e}function e(t,e){t.forEach(function(t){var n=t.addedNodes,o=t.target,r=[];null!==n&&n.length>0?a.checkChildNodesRecursively(n,e,i,r):"attributes"===t.type&&i(o,e,r)&&r.push({callback:e.callback,elem:o}),a.callCallbacks(r,e)})}function i(t,e){return!(!a.matchesSelector(t,e.selector)||(t._id===n&&(t._id=r++),e.firedElems.indexOf(t._id)!=-1))&&(e.firedElems.push(t._id),!0)}var o={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};d=new l(t,e);var s=d.bindEvent;return d.bindEvent=function(t,e,n){"undefined"==typeof n?(n=e,e=o):e=a.mergeArrays(o,e);var i=a.toElementsArray(this);if(e.existing){for(var r=[],l=0;l<i.length;l++)for(var c=i[l].querySelectorAll(t),u=0;u<c.length;u++)r.push({callback:n,elem:c[u]});if(e.onceOnly&&r.length)return n.call(r[0].elem,r[0].elem);setTimeout(a.callCallbacks,1,r)}s.call(this,t,e,n)},d},u=function(){function t(){var t={childList:!0,subtree:!0};return t}function e(t,e){t.forEach(function(t){var i=t.removedNodes,o=[];null!==i&&i.length>0&&a.checkChildNodesRecursively(i,e,n,o),a.callCallbacks(o,e)})}function n(t,e){return a.matchesSelector(t,e.selector)}var i={};h=new l(t,e);var o=h.bindEvent;return h.bindEvent=function(t,e,n){"undefined"==typeof n?(n=e,e=i):e=a.mergeArrays(i,e),o.call(this,t,e,n)},h},d=new c,h=new u;e&&o(e.fn),o(HTMLElement.prototype),o(NodeList.prototype),o(HTMLCollection.prototype),o(HTMLDocument.prototype),o(Window.prototype);var p={};return i(d,p,"unbindAllArrive"),i(h,p,"unbindAllLeave"),p}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);!function(t){"function"==typeof define&&define.amd?define(["jquery","moment","datatables.net"],t):t(jQuery,moment)}(function(t,e){t.fn.dataTable.moment=function(n,i){var o=t.fn.dataTable.ext.type;o.detect.unshift(function(o){return o&&(o.replace&&(o=o.replace(/(<.*?>)|(\r?\n|\r)/g,"")),o=t.trim(o)),""===o||null===o?"moment-"+n:e(o,n,i,!0).isValid()?"moment-"+n:null}),o.order["moment-"+n+"-pre"]=function(o){return o&&(o.replace&&(o=o.replace(/(<.*?>)|(\r?\n|\r)/g,"")),o=t.trim(o)),""===o||null===o?-(1/0):parseInt(e(o,n,i,!0).format("x"),10)}}}),$.fn.socialSharePopup=function(t,e,n){t.preventDefault();var i=void 0!==window.screenLeft?window.screenLeft:screen.left,o=void 0!==window.screenTop?window.screenTop:screen.top,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;e=e||"550",n=n||"442";var s=r/2-e/2+i,l=a/2-n/2+o,c=("undefined"!=typeof this.attr("title")?this.attr("title"):"Social Share","width="+e+",height="+n+",top="+l+",left="+s+",resizable=no");window.open(this.attr("href"),"shareWindow",c).focus()},Preview.prototype.create=function(){this.$loading=$('<div class="og-loading"></div>'),this.$logoContainer=$('<div class="og-logo hidden-xs"></div>').append(this.$loading),this.$quote=$('<blockquote class="og-quote"><p></p></blockquote>'),this.$quoteAttr=$('<div class="og-quote-attr"></div>'),this.$contributorProfile=$('<div class="og-contributor-profile text-center"></div>'),this.$testimonial=$('<div class="og-testimonial"></div>').append(this.$quote,this.$quoteAttr,this.$contributorProfile),this.$summary=$("<p></p>"),this.$summaryContainer=$('<div class="og-summary"></div>').append(this.$summary),this.$closePreview=$('<span class="og-close"></span>'),this.$previewInner=$('<div class="og-expander-inner"></div>').append(this.$closePreview,this.$logoContainer,this.$summaryContainer,this.$testimonial),this.$previewEl=$('<div class="og-expander"></div>').append(this.$previewInner),this.$item.append(this.getEl()),support&&this.setTransition()},Preview.prototype.setTransition=function(){this.$previewEl.css("transition","height "+settings.speed+"ms "+settings.easing),this.$item.css("transition","height "+settings.speed+"ms "+settings.easing)},Preview.prototype.getEl=function(){return this.$previewEl},Preview.prototype.update=function(t){if(t&&(this.$item=t),current!==-1){var e=$items.eq(current);e.removeClass("og-expanded"),this.$item.addClass("og-expanded"),this.positionPreview()}current=this.$item.index();var n=this.$item.children("a"),i={logosrc:n.data("logosrc"),companyName:JSON.parse(n.data("company-name")),summary:JSON.parse(n.data("summary")),quote:JSON.parse(n.data("quote")),quoteAttrName:JSON.parse(n.data("quote-attr-name")),quoteAttrTitle:JSON.parse(n.data("quote-attr-title")),contributor:n.data("preview-contributor")};contributorProfileTemplate=_.template($("#csp-linkedin-widget-template").html());var o=this,r="lg"===app.screenSize?420:320;this.$summary.html(i.summary),this.$quote.find("p").html(i.quote),""!==i.quoteAttrName&&this.$quoteAttr.html('<div class="text-right"><span>&#8211;&nbsp;'+i.quoteAttrName+",&nbsp;"+i.quoteAttrTitle+"</span></div>"),null!==i.contributor&&this.$contributorProfile.html(contributorProfileTemplate({contributor:i.contributor,widgetWidth:r})).imagesLoaded(function(){o.$contributorProfile.find(".csp-linkedin-widget").removeClass("hidden")}),"undefined"!=typeof o.$logoImg&&o.$logoImg.remove(),o.$logoContainer.is(":visible")&&(this.$loading.show(),$("<img/>").load(function(){var t=$(this);t.attr("src")===o.$item.children("a").data("logosrc")&&(o.$loading.hide(),o.$logoContainer.find("img").remove(),o.$logoImg=t.fadeIn(350),o.$logoContainer.prepend(o.$logoImg))}).attr("src",i.logosrc))},Preview.prototype.open=function(){setTimeout($.proxy(function(){this.setHeights(),this.positionPreview()},this),25)},Preview.prototype.setHeights=function(){var t=this,e=function(){support&&t.$item.off(transEndEventName),t.$item.addClass("og-expanded")};this.calcHeight(),this.$previewEl.css("height",this.height),this.$item.css("height",this.itemHeight).on(transEndEventName,e),support||e.call()},Preview.prototype.calcHeight=function(){var t=winsize.height-this.$item.data("height")-marginExpanded,e=winsize.height;t<settings.minHeight&&(t=settings.minHeight,e=settings.minHeight+this.$item.data("height")+marginExpanded),this.height=t,this.itemHeight=e},Preview.prototype.positionPreview=function(){var t=this.$item.data("offsetTop"),e=this.$previewEl.offset().top-scrollExtra,n=this.height+this.$item.data("height")+marginExpanded<=winsize.height?t:this.height<winsize.height?e-(winsize.height-this.height):e;
$body.animate({scrollTop:n},settings.speed)},Preview.prototype.close=function(){var t=this,e=function(){support&&$(this).off(transEndEventName),t.$item.removeClass("og-expanded"),t.$previewEl.remove()};return setTimeout($.proxy(function(){"undefined"!=typeof this.$largeImg&&this.$largeImg.fadeOut("fast"),this.$previewEl.css("height",0);var t=$items.eq(this.expandedIdx);t.css("height",t.data("height")).on(transEndEventName,e),support||e.call()},this),25),!1},window.app=window.app||{browser:{isChrome:!!window.chrome&&!!window.chrome.webstore,isSafari:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isFirefox:"undefined"!=typeof InstallTrigger},init:function(){var t=$("body").attr("class").split(" ")[0],e=$("body").attr("class").split(" ")[1];initS3Upload(),{companies:function(){({"new":companiesNew,show:companiesShow,edit:companiesEdit})[e]()},stories:function(){({index:storiesIndex,show:storiesShow,edit:storiesEdit})[e]()},contributions:function(){},profile:function(){({edit:profileEdit,linkedin_callback:profileEdit})[e]()},site:function(){},confirmations:function(){},omniauth_callbacks:function(){},passwords:function(){},registrations:function(){},sessions:function(){},unlocks:function(){}}[t](),$("#flash").is(":visible")&&flashTimeout()}},$(document).on("turbolinks:load",function(){setAppData(),constructPlugins()}),$(document).one("turbolinks:load",function(){attachAppListeners(),attachCompaniesListeners(),attachStoriesListeners(),attachProfileListeners(),attachContributionsListeners()}),$(document).on("turbolinks:load",function(){app.init()});