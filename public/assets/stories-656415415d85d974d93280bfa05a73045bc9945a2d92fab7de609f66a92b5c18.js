/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.6
 *
 */
function BestInPlaceEditor(t){"use strict";this.element=t,this.initOptions(),this.bindForm(),this.initPlaceHolder(),jQuery(this.activator).bind("click",{editor:this},this.clickHandler)}function configUnderscore(){_.templateSettings={evaluate:/\{\{(.+?)\}\}/g,interpolate:/\{\{=(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g},Array.prototype.each_slice=function(t,e){for(var i=0,n=this.length;n>i;i+=t)e.call(this,this.slice(i,i+t))}}function initBIPListeners(){$(".best_in_place[data-bip-attribute='embed_url']").bind("ajax:success",function(t,e){newUrl=JSON.parse(e).embed_url,$("#embed-iframe").attr("src",newUrl),$(".best_in_place[data-bip-attribute='embed_url']").text(newUrl)}),$(".best_in_place[data-bip-attribute='linkedin_url']").bind("ajax:success",function(t,e){var i=$(this).text(),n=$(this).closest(".contribution-card"),o=n.find(".research");0===n.find("iframe").length&&"add url ..."!==i?(n.append("<br style='line-height:10px'><div class='row text-center'><script type='IN/MemberProfile' data-id='"+i+"' data-format='inline' data-related='false' data-width='340'></script></div>"),IN.parse(),o.attr("href",i),o.html("<i class='fa fa-linkedin-square bip-clickable-fa'>")):0!==n.find("iframe").length&&"add url ..."===i?(n.find("br:last").remove(),n.find("div:last").remove(),$.get("/contributions/"+n.data("contribution-id"),function(t,e){"customer"==t.role?o.attr("href","http://google.com/search?q="+t.contributor.first_name+"+"+t.contributor.last_name+"+"+t.success.customer.name):o.attr("href","http://google.com/search?q="+t.contributor.first_name+"+"+t.contributor.last_name+"+")},"json"),o.html("<i class='glyphicon glyphicon-user bip-clickable'></i>")):(n.find("br:last").remove(),n.find("div:last").remove(),n.append("<br style='line-height:10px'><div class='row text-center'><script type='IN/MemberProfile' data-id='"+i+"' data-format='inline' data-related='false' data-width='340'></script></div>"),IN.parse())}),$(document).on("best_in_place:error",function(t,e,i,n){var o=JSON.parse(e.responseText)[0];o.match(/maximum\sis\s70\scharacters/)&&flashDisplay("Result can't exceed 70 characters","danger")}),$("a.accordion-toggle").on("focus",function(){$(this).blur()})}function initTagsListeners(){$("#tags-form select").on("change",function(t){$(".edit-tags").hasClass("hidden")&&$(".edit-tags").toggleClass("hidden")}),$("#edit-tags-cancel").on("click",function(t){t.preventDefault()}),$(".accordion-toggle").on("click",function(){if($(this).attr("href").match(/info/)){var t=$(this).closest(".accordion").find("div.accordion-body[id*='submission']");t.hasClass("in")&&t.removeClass("in")}else if($(this).attr("href").match(/submission/)){var e=$(this).closest(".accordion").find("div.accordion-body[id*='info']");e.hasClass("in")&&e.removeClass("in")}})}function initListeners(){$("#customer-logo-form").on("change.bs.fileinput",function(){var t=$(this);window.setTimeout(function(){$.ajax({url:t.attr("action"),method:"put",data:t.serialize(),success:function(t,e){console.log(t,e)}})},500)}),$(".stories-filter").on("change",function(){var t=$(this).attr("id"),e=$(this).val();$("#stories-gallery").data("company-id");$.ajax({url:"/stories",method:"get",data:{filter:{type:t,id:e}},success:function(t,e){if(console.log("filtered stories: ",t),0===t.length)$("#stories-gallery").empty();else{var i=_.template($("#stories-template").html());$("#stories-gallery").empty().append(i({stories:t}))}}})}),$(".modal").on("hidden.bs.modal",function(){$(this).find("form")[0].reset(),$(".new-contributor-role").select2("val","customer"),$(".new-contributor-referrer").select2("val","")}),$(".modal").on("shown.bs.modal",function(){$(this).find("#contributor_first_name").focus()}),$(".bs-switch").on("switchChange.bootstrapSwitch",function(t,e){$(this).parent().submit(),console.log(e)}),$("#send-request-button, #new-contributor-button").on("focus",function(){var t=$(this);window.setTimeout(function(){t.blur()},220)}),$("#new-result").on("input",function(){$(this).val().length>0?$(this).closest("form").find("button").prop("disabled",!1):$(this).closest("form").find("button").prop("disabled",!0)}),$("#new-prompt").on("input",function(){$(this).val().length>0?$(this).closest("form").find("button").prop("disabled",!1):$(this).closest("form").find("button").prop("disabled",!0)}),$("#results-list").on("click",".delete-result",function(){var t=$(this);$.ajax({url:t.data("action"),method:"delete",success:function(e,i,n){t.closest(".row").next("br").remove(),t.closest(".row").remove()}})}),$("#prompts-list").on("click",".delete-prompt",function(){var t=$(this);$.ajax({url:t.data("action"),method:"delete",success:function(e,i,n){t.closest(".row").next("br").remove(),t.closest(".row").remove()}})})}function configPlugins(){$(".best_in_place").best_in_place(),$(".bs-switch").bootstrapSwitch({size:"small"}),$(".story-tags").select2({theme:"bootstrap",placeholder:"select tags"}),$(".stories-filter").select2({theme:"bootstrap"}),$(".new-contributor-role").select2({theme:"bootstrap"}),$(".new-contributor-referrer").select2({theme:"bootstrap",placeholder:"Who referred you to this contributor?"}),$("input[type='tel']").inputmask("999-999-9999"),$("label[for='Industry']").attr("for","story_industry_tags_"),$("label[for='Product_Category']").attr("for","story_product_cat_tags_"),$("label[for='Product']").attr("for","story_product_tags_"),$("#tags-form").dirtyFields()}!function(e){e.fn.extend({slimScroll:function(i){var n={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},o=e.extend(n,i);return this.each(function(){function n(t){if(u){var t=t||window.event,i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3);var n=t.target||t.srcTarget||t.srcElement;e(n).closest("."+o.wrapperClass).is(w.parent())&&a(i,!0),t.preventDefault&&!_&&t.preventDefault(),_||(t.returnValue=!1)}}function a(t,e,i){_=!1;var n=t,a=w.outerHeight()-P.outerHeight();if(e&&(n=parseInt(P.css("top"))+t*parseInt(o.wheelStep)/100*P.outerHeight(),n=Math.min(Math.max(n,0),a),n=t>0?Math.ceil(n):Math.floor(n),P.css({top:n+"px"})),g=parseInt(P.css("top"))/(w.outerHeight()-P.outerHeight()),n=g*(w[0].scrollHeight-w.outerHeight()),i){n=t;var r=n/w[0].scrollHeight*w.outerHeight();r=Math.min(Math.max(r,0),a),P.css({top:r+"px"})}w.scrollTop(n),w.trigger("slimscrolling",~~n),l(),c()}function r(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",n,!1),t.addEventListener("mousewheel",n,!1)):document.attachEvent("onmousewheel",n)}function s(){m=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),b),P.css({height:m+"px"});var t=m==w.outerHeight()?"none":"block";P.css({display:t})}function l(){if(s(),clearTimeout(h),g==~~g){if(_=o.allowPageScroll,v!=g){var t=0==~~g?"top":"bottom";w.trigger("slimscroll",t)}}else _=!1;return v=g,m>=w.outerHeight()?void(_=!0):(P.stop(!0,!0).fadeIn("fast"),void(o.railVisible&&$.stop(!0,!0).fadeIn("fast")))}function c(){o.alwaysVisible||(h=setTimeout(function(){o.disableFadeOut&&u||d||p||(P.fadeOut("slow"),$.fadeOut("slow"))},1e3))}var u,d,p,h,f,m,g,v,y="<div></div>",b=30,_=!1,w=e(this);if(w.parent().hasClass(o.wrapperClass)){var k=w.scrollTop();if(P=w.closest("."+o.barClass),$=w.closest("."+o.railClass),s(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){w.parent().css("height","auto"),w.css("height","auto");var C=w.parent().parent().height();w.parent().css("height",C),w.css("height",C)}if("scrollTo"in i)k=parseInt(o.scrollTo);else if("scrollBy"in i)k+=parseInt(o.scrollBy);else if("destroy"in i)return P.remove(),$.remove(),void w.unwrap();a(k,!1,!0)}}else if(!(e.isPlainObject(i)&&"destroy"in i)){o.height="auto"==o.height?w.parent().height():o.height;var x=e(y).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});w.css({overflow:"hidden",width:o.width,height:o.height});var $=e(y).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90}),P=e(y).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99}),S="right"==o.position?{right:o.distance}:{left:o.distance};$.css(S),P.css(S),w.wrap(x),w.parent().append(P),w.parent().append($),o.railDraggable&&P.bind("mousedown",function(i){var n=e(document);return p=!0,t=parseFloat(P.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,P.css("top",currTop),a(0,P.position().top,!1)}),n.bind("mouseup.slimscroll",function(t){p=!1,c(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),$.hover(function(){l()},function(){c()}),P.hover(function(){d=!0},function(){d=!1}),w.hover(function(){u=!0,l(),c()},function(){u=!1,c()}),w.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(f=t.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(t){if(_||t.originalEvent.preventDefault(),t.originalEvent.touches.length){var e=(f-t.originalEvent.touches[0].pageY)/o.touchScrollStep;a(e,!0),f=t.originalEvent.touches[0].pageY}}),s(),"bottom"===o.start?(P.css({top:w.outerHeight()-P.outerHeight()}),a(0,!0)):"top"!==o.start&&(a(e(o.start).position().top,null,!0),o.alwaysVisible||P.hide()),r(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery);var mvpready_admin=function(){"use strict";var t=function(){var t=$(".navbar-notification");t.find("> .dropdown-toggle").click(function(t){mvpready_core.isLayoutCollapsed()&&(window.location=$(this).prop("href"))}),t.find(".notification-list").slimScroll({height:225,railVisible:!0})};return{init:function(){mvpready_core.navEnhancedInit(),mvpready_core.navHoverInit({delay:{show:250,hide:350}}),t(),mvpready_core.initLayoutToggles(),mvpready_core.initBackToTop(),mvpready_helpers.initAccordions(),mvpready_helpers.initFormValidation(),mvpready_helpers.initTooltips(),mvpready_helpers.initLightbox(),mvpready_helpers.initSelect(),mvpready_helpers.initIcheck(),mvpready_helpers.initDataTableHelper(),mvpready_helpers.initiTimePicker(),mvpready_helpers.initDatePicker()}}}();$(function(){mvpready_admin.init()}),/* ========================================================================
 * bootstrap-switch - v3.3.2
 * http://www.bootstrap-switch.org
 * ========================================================================
 * Copyright 2012-2013 Mattia Larentis
 *
 * ========================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 */
function(){var t=[].slice;!function(e,i){"use strict";var n;return n=function(){function t(t,i){null==i&&(i={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i),this.$wrapper=e("<div>",{"class":function(t){return function(){var e;return e=[""+t.options.baseClass].concat(t._getClasses(t.options.wrapperClass)),e.push(t.options.state?""+t.options.baseClass+"-on":""+t.options.baseClass+"-off"),null!=t.options.size&&e.push(""+t.options.baseClass+"-"+t.options.size),t.options.disabled&&e.push(""+t.options.baseClass+"-disabled"),t.options.readonly&&e.push(""+t.options.baseClass+"-readonly"),t.options.indeterminate&&e.push(""+t.options.baseClass+"-indeterminate"),t.options.inverse&&e.push(""+t.options.baseClass+"-inverse"),t.$element.attr("id")&&e.push(""+t.options.baseClass+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)()}),this.$container=e("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=e("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=e("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=e("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(e){return function(){return e.options.onInit.apply(t,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(e){return function(){return e.options.onSwitchChange.apply(t,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return t.prototype._constructor=t,t.prototype.state=function(t,e){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(""+this.options.baseClass+"-"+t),this._width(),this._containerPosition(),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,t===this.options.animate?this.$element:this.toggleAnimate())},t.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,t===this.options.disabled?this.$element:this.toggleDisabled())},t.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,t===this.options.readonly?this.$element:this.toggleReadonly())},t.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},t.prototype.indeterminate=function(t){return"undefined"==typeof t?this.options.indeterminate:(t=!!t,t===this.options.indeterminate?this.$element:this.toggleIndeterminate())},t.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},t.prototype.inverse=function(t){return"undefined"==typeof t?this.options.inverse:(t=!!t,t===this.options.inverse?this.$element:this.toggleInverse())},t.prototype.toggleInverse=function(){var t,e;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),e=this.$on.clone(!0),t=this.$off.clone(!0),this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(""+this.options.baseClass+"-"+e),this.$on.addClass(""+this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(""+this.options.baseClass+"-"+e),this.$off.addClass(""+this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)},t.prototype.handleWidth=function(t){return"undefined"==typeof t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.labelWidth=function(t){return"undefined"==typeof t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.baseClass=function(t){return this.options.baseClass},t.prototype.wrapperClass=function(t){return"undefined"==typeof t?this.options.wrapperClass:(t||(t=e.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return"undefined"==typeof t?this.options.radioAllOff:(t=!!t,t===this.options.radioAllOff?this.$element:(this.options.radioAllOff=t,this.$element))},t.prototype.onInit=function(t){return"undefined"==typeof t?this.options.onInit:(t||(t=e.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return"undefined"==typeof t?this.options.onSwitchChange:(t||(t=e.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._width=function(){var t,e;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),e="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(e),this.$label.width(function(t){return function(i,n){return"auto"!==t.options.labelWidth?t.options.labelWidth:e>n?e:n}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},t.prototype._containerPosition=function(t,e){return null==t&&(t=this.options.state),this.$container.css("margin-left",function(e){return function(){var i;return i=[0,"-"+e._handleWidth+"px"],e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?i[1]:i[0]:e.options.inverse?i[0]:i[1]}}(this)),e?setTimeout(function(){return e()},50):void 0},t.prototype._init=function(){var t,e;return t=function(t){return function(){return t._width(),t._containerPosition(null,function(){return t.options.animate?t.$wrapper.addClass(""+t.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?t():e=i.setInterval(function(n){return function(){return n.$wrapper.is(":visible")?(t(),i.clearInterval(e)):void 0}}(this),50)},t.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(t){return function(i,n){var o;return i.preventDefault(),i.stopImmediatePropagation(),o=t.$element.is(":checked"),t._containerPosition(o),o!==t.options.state?(t.options.state=o,t.$wrapper.toggleClass(""+t.options.baseClass+"-off").toggleClass(""+t.options.baseClass+"-on"),n?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[o]))):void 0}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.addClass(""+t.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.removeClass(""+t.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly)switch(e.which){case 37:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){return function(e){return t._dragStart||t.options.disabled||t.options.readonly?void 0:(e.preventDefault(),e.stopPropagation(),t._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(""+t.options.baseClass+"-animate"),t.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){return function(e){var i;if(null!=t._dragStart&&(e.preventDefault(),i=(e.pageX||e.originalEvent.touches[0].pageX)-t._dragStart,!(i<-t._handleWidth||i>0)))return t._dragEnd=i,t.$container.css("margin-left",""+t._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){return function(e){var i;if(t._dragStart)return e.preventDefault(),t.options.animate&&t.$wrapper.addClass(""+t.options.baseClass+"-animate"),t._dragEnd?(i=t._dragEnd>-(t._handleWidth/2),t._dragEnd=!1,t.state(t.options.inverse?!i:i)):t.state(!t.options.state),t._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(t){return function(e){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},t.prototype._externalLabelHandler=function(){var t;return t=this.$element.closest("label"),t.on("click",function(e){return function(i){return i.preventDefault(),i.stopImmediatePropagation(),i.target===t[0]?e.toggleState():void 0}}(this))},t.prototype._formHandler=function(){var t;return t=this.$element.closest("form"),t.data("bootstrap-switch")?void 0:t.on("reset.bootstrapSwitch",function(){return i.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var i,n,o,a;if(!e.isArray(t))return[""+this.options.baseClass+"-"+t];for(n=[],o=0,a=t.length;a>o;o++)i=t[o],n.push(""+this.options.baseClass+"-"+i);return n},t}(),e.fn.bootstrapSwitch=function(){var i,o,a;return o=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],a=this,this.each(function(){var t,r;return t=e(this),r=t.data("bootstrap-switch"),r||t.data("bootstrap-switch",r=new n(this,o)),"string"==typeof o?a=r[o].apply(r,i):void 0}),a},e.fn.bootstrapSwitch.Constructor=n,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),/*!
 * Select2 4.0.0
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
var t,i,n;!function(e){function o(t,e){return _.call(t,e)}function a(t,e){var i,n,o,a,r,s,l,c,u,d,p,h=e&&e.split("/"),f=y.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(h=h.slice(0,h.length-1),t=t.split("/"),r=t.length-1,y.nodeIdCompat&&k.test(t[r])&&(t[r]=t[r].replace(k,"")),t=h.concat(t),u=0;u<t.length;u+=1)if(p=t[u],"."===p)t.splice(u,1),u-=1;else if(".."===p){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((h||m)&&f){for(i=t.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),h)for(d=h.length;d>0;d-=1)if(o=f[h.slice(0,d).join("/")],o&&(o=o[n])){a=o,s=u;break}if(a)break;!l&&m&&m[n]&&(l=m[n],c=u)}!a&&l&&(a=l,s=c),a&&(i.splice(0,s,a),t=i.join("/"))}return t}function r(t,i){return function(){return h.apply(e,w.call(arguments,0).concat([t,i]))}}function s(t){return function(e){return a(e,t)}}function l(t){return function(e){g[t]=e}}function c(t){if(o(v,t)){var i=v[t];delete v[t],b[t]=!0,p.apply(e,i)}if(!o(g,t)&&!o(b,t))throw new Error("No "+t);return g[t]}function u(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function d(t){return function(){return y&&y.config&&y.config[t]||{}}}var p,h,f,m,g={},v={},y={},b={},_=Object.prototype.hasOwnProperty,w=[].slice,k=/\.js$/;f=function(t,e){var i,n=u(t),o=n[0];return t=n[1],o&&(o=a(o,e),i=c(o)),o?t=i&&i.normalize?i.normalize(t,s(e)):a(t,e):(t=a(t,e),n=u(t),o=n[0],t=n[1],o&&(i=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},m={require:function(t){return r(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:d(t)}}},p=function(t,i,n,a){var s,u,d,p,h,y,_=[],w=typeof n;if(a=a||t,"undefined"===w||"function"===w){for(i=!i.length&&n.length?["require","exports","module"]:i,h=0;h<i.length;h+=1)if(p=f(i[h],a),u=p.f,"require"===u)_[h]=m.require(t);else if("exports"===u)_[h]=m.exports(t),y=!0;else if("module"===u)s=_[h]=m.module(t);else if(o(g,u)||o(v,u)||o(b,u))_[h]=c(u);else{if(!p.p)throw new Error(t+" missing "+u);p.p.load(p.n,r(a,!0),l(u),{}),_[h]=g[u]}d=n?n.apply(g[t],_):void 0,t&&(s&&s.exports!==e&&s.exports!==g[t]?g[t]=s.exports:d===e&&y||(g[t]=d))}else t&&(g[t]=n)},t=i=h=function(t,i,n,o,a){if("string"==typeof t)return m[t]?m[t](i):c(f(t,i).f);if(!t.splice){if(y=t,y.deps&&h(y.deps,y.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=o,o=a),o?p(e,t,i,n):setTimeout(function(){p(e,t,i,n)},4),h},h.config=function(t){return h(t)},t._defined=g,n=function(t,e,i){e.splice||(i=e,e=[]),o(g,t)||o(v,t)||(v[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){var o=e[n];"function"==typeof o&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,o=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),o=i.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=n}var a=e(i),r=e(t);i.displayName=t.displayName,n.prototype=new o;for(var s=0;s<r.length;s++){var l=r[s];n.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var o=i.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),o.apply(this,arguments)}}),u=0;u<a.length;u++){var d=a[u];n.prototype[d]=c(d)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;n>i;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;t>i;i++){var n=Math.floor(36*Math.random());e+=n.toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var o=0;o<i.length;o++){var a=i[o];a=a.substring(0,1).toLowerCase()+a.substring(1),a in n||(n[a]={}),o==i.length-1&&(n[a]=t[e]),n=n[a]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),o=i.style.overflowX,a=i.style.overflowY;return o!==a||"hidden"!==a&&"visible"!==a?"scroll"===o||"scroll"===a?!0:n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth:!1},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);n.append(i(o(e.args))),this.$results.append(n)},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],o=this.option(n);e.push(o)}this.$results.append(e)},i.prototype.position=function(t,e){var i=e.find(".select2-results");i.append(t)},i.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var n=t.map(i,function(t){return t.id.toString()}),o=e.$results.find(".select2-results__option[aria-selected]");o.each(function(){var e=t(this),i=t.data(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(o,n)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var a=o.filter("[aria-selected=true]");a.length>0?a.first().trigger("mouseenter"):o.first().trigger("mouseenter")})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]);for(var o in n){var a=n[o];i.setAttribute(o,a)}if(e.children){var r=t(i),s=document.createElement("strong");s.className="select2-results__group";t(s);this.template(e,s);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var p=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(l),r.append(s),r.append(p)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e,i){var n=this,o=e.id+"-results";this.$results.attr("id",o),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.showLoading(t)}),e.on("select",function(){e.isOpen()&&n.setClasses()}),e.on("unselect",function(){e.isOpen()&&n.setClasses()}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close"):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var o=i-1;0===t.length&&(o=0);var a=e.eq(o);a.trigger("mouseenter");var r=n.$results.offset().top,s=a.offset().top,l=n.$results.scrollTop()+(s-r);0===o?n.$results.scrollTop(0):0>s-r&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),o=i+1;if(!(o>=e.length)){var a=e.eq(o);a.trigger("mouseenter");var r=n.$results.offset().top+n.$results.outerHeight(!1),s=a.offset().top+a.outerHeight(!1),l=n.$results.scrollTop()+s-r;0===o?n.$results.scrollTop(0):s>r&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-n.$results.scrollTop()+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,a=t.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):a&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),o=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:o}):n.trigger("close")):void n.trigger("select",{originalEvent:e,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var i=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:t(this)})})},i.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,o=t.offset().top,a=this.$results.scrollTop()+(o-n),r=o-n;a-=2*t.outerHeight(!1),2>=i?this.$results.scrollTop(0):(r>this.$results.outerHeight()||0>r)&&this.$results.scrollTop(a)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),a=n(e);null==a?i.style.display="none":"string"==typeof a?i.innerHTML=o(a):t(i).append(a)},i}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},n.prototype.bind=function(t,e){var n=this,o=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n.trigger("blur",t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",o),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),n=i.closest(".select2"),o=t(".select2.select2-container--open");o.each(function(){var e=t(this);if(this!=n[0]){var i=e.data("element");i.select2("close")}})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){var i=e.find(".selection");i.append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){function o(){o.__super__.constructor.apply(this,arguments)}return i.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var i=this;o.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("selection:update",function(t){i.update(t.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.display(e),n=this.$selection.find(".select2-selection__rendered");n.empty().append(i),n.prop("title",e.title||e.text)},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(t,e){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(e,i){var o=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){o.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){var i=t(this),n=i.parent(),a=n.data("data");o.trigger("unselect",{originalEvent:e,data:a})})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},n.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var o=t[n],a=this.display(o),r=this.selectionContainer();r.append(a),r.prop("title",o.title||o.text),r.data("data",o),e.push(r)}var s=this.$selection.find(".select2-selection__rendered");i.appendMany(s,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id,n=e.length>1;if(n||i)return t.call(this,e);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function i(){}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),o=0;o<n.length;o++){var a={data:n[o]};if(this.trigger("unselect",a),a.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},i.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||(i.which==e.DELETE||i.which==e.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=t('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return n},n.prototype.bind=function(t,e,n){var o=this;t.call(this,e,n),e.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus()}),e.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val(""),o.$search.focus()}),e.on("enable",function(){o.$search.prop("disabled",!1)}),e.on("disable",function(){o.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o.trigger("blur",t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===i.BACKSPACE&&""===o.$search.val()){var n=o.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var a=n.data("data");o.searchRemoveChoice(a),t.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(t){o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(t){o.handleSearch(t)})},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.trigger("open"),this.$search.val(e.text+" ")},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var o=this,a=["open","opening","close","closing","select","selecting","unselect","unselecting"],r=["opening","closing","selecting","unselecting"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,a)){i=i||{};var n=t.Event("select2:"+e,{params:i});o.$element.trigger(n),-1!==t.inArray(e,r)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){var t={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z",
"\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(t,i){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),n+=null!=i.id?"-"+i.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),o=n.item(t);e.push(o)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var o=[];t=[t],t.push.apply(t,n);for(var a=0;a<t.length;a++){var r=t[a].id;-1===i.inArray(r,o)&&o.push(r)}e.$element.val(o),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,i(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var o=[],a=0;a<n.length;a++){var r=n[a].id;r!==t.id&&-1===i.inArray(r,o)&&o.push(r)}e.$element.val(o),e.$element.trigger("change")})},n.prototype.bind=function(t,e){var i=this;this.container=t,t.on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(t,e){var n=[],o=this,a=this.$element.children();a.each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var a=o.item(e),r=o.matches(t,a);null!==r&&n.push(r)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=i(e),o=this._normalizeItem(t);return o.element=e,i.data(e,"data",o),n},n.prototype.item=function(t){var e={};if(e=i.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),o=[],a=0;a<n.length;a++){var r=i(n[a]),s=this.item(r);o.push(s)}e.children=o}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){var i=this.options.get("matcher");return i(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){function n(t){return function(){return i(this).val()==t.id}}for(var o=this,a=this.$element.find("option"),r=a.map(function(){return o.item(i(this)).id}).get(),s=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(i.inArray(c.id,r)>=0){var u=a.filter(n(c)),d=this.item(u),p=(i.extend(!0,{},d,c),this.option(d));u.replaceWith(p)}else{var h=this.option(c);if(c.children){var f=this.convertToOptions(c.children);e.appendMany(h,f)}s.push(h)}}return s},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(e,i){this.ajaxOptions=this._applyDefaults(i.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),t.__super__.constructor.call(this,e,i)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return{q:t.term}},transport:function(t,e,n){var o=i.ajax(t);return o.then(e),o.fail(n),o}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=a.transport(a,function(n){var a=o.processResults(n,t);o.options.get("debug")&&window.console&&console.error&&(a&&a.results&&i.isArray(a.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(a)},function(){});o._request=n}var o=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var a=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof a.url&&(a.url=a.url(t)),"function"==typeof a.data&&(a.data=a.data(t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var o=n.get("tags"),a=n.get("createTag");if(void 0!==a&&(this.createTag=a),e.call(this,i,n),t.isArray(o))for(var r=0;r<o.length;r++){var s=o[r],l=this._normalizeItem(s),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(t,e,i){function n(t,a){for(var r=t.results,s=0;s<r.length;s++){var l=r[s],c=null!=l.children&&!n({results:l.children},!0),u=l.text===e.term;if(u||c)return a?!1:(t.data=r,void i(t))}if(a)return!0;var d=o.createTag(e);if(null!=d){var p=o.option(d);p.attr("data-select2-tag",!0),o.addOptions([p]),o.insertTag(r,d)}t.results=r,i(t)}var o=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,i):void t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(e){var i=(this._lastTag,this.$element.find("option[data-select2-tag]"));i.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(t,e,i){function n(t){o.select(t)}var o=this;e.term=e.term||"";var a=this.tokenizer(e,this.options,n);a.term!==e.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),e.term=a.term),t.call(this,e,i)},e.prototype.tokenizer=function(e,i,n,o){for(var a=n.get("tokenSeparators")||[],r=i.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<r.length;){var c=r[s];if(-1!==t.inArray(c,a)){var u=r.substr(0,s),d=t.extend({},i,{term:u}),p=l(d);o(p),r=r.substr(s+1)||"",s=0}else s++}return{term:r}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(o){var a=null!=o?o.length:0;return n.maximumSelectionLength>0&&a>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function i(){}return i.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),i.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),i.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=o.showSearch(t);e?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide")}})},i.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.showSearch=function(t,e){return!0},i}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var o=e[n];this.placeholder.id===o.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),i.on("query",function(t){o.lastParams=t,o.loading=!0}),i.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);if(!o.loading&&e){var i=o.$results.offset().top+o.$results.outerHeight(!1),n=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1);i+50>=n&&o.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="option load-more" role="treeitem"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(t,e,i){this.$dropdownParent=i.get("dropdownParent")||document.body,t.call(this,e,i)}return i.prototype.bind=function(t,e,i){var n=this,o=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i){var n=this,o="scroll.select2."+i.id,a="resize.select2."+i.id,r="orientationchange.select2."+i.id,s=this.$container.parents().filter(e.hasScroll);s.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),s.on(o,function(e){var i=t(this).data("select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(o+" "+a+" "+r,function(t){n._positionDropdown(),n._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i){var n="scroll.select2."+i.id,o="resize.select2."+i.id,a="orientationchange.select2."+i.id,r=this.$container.parents().filter(e.hasScroll);r.off(n),t(window).off(n+" "+o+" "+a)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),o=null,a=(this.$container.position(),this.$container.offset());a.bottom=a.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=a.top,r.bottom=a.top+r.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<a.top-s.height,u=l.bottom>a.bottom+s.height,d={left:a.left,top:r.bottom};i||n||(o="below"),u||!c||i?!c&&u&&i&&(o="below"):o="above",("above"==o||i&&"below"!==o)&&(d.top=r.top-s.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},i.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var o=e[n];o.children?i+=t(o.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return t(i.data.results)<this.minimumResultsForSearch?!1:e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(){n._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();t.length<1||this.trigger("select",{data:t.data("data")})},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close")},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){var e=t.minimum-t.input.length,i="Please enter "+e+" or more characters";return i},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,o,a,r,s,l,c,u,d,p,h,f,m,g,v,y,b,_,w,k,C,x,$,P,S,F){function E(){this.reset()}E.prototype.apply=function(d){if(d=t.extend({},this.defaults,d),null==d.dataAdapter){if(null!=d.ajax?d.dataAdapter=f:null!=d.data?d.dataAdapter=h:d.dataAdapter=p,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null!=d.query){var F=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,F)}if(null!=d.initSelection){var E=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,E)}}if(null==d.resultsAdapter&&(d.resultsAdapter=i,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,k)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,P))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=_;else{var A=c.Decorate(_,w);d.dropdownAdapter=A}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,$)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var D=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,D)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,x)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=o:d.selectionAdapter=n,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var j=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,j)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var T=d.language.split("-"),O=T[0];d.language=[d.language,O]}else d.language=[d.language];if(t.isArray(d.language)){var I=new u;d.language.push("en");for(var B=d.language,H=0;H<B.length;H++){var R=B[H],M={};try{M=u.loadPath(R)}catch(q){try{R=this.defaults.amdLanguageBase+R,M=u.loadPath(R)}catch(z){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+R+'" could not be automatically loaded. A fallback will be used instead.');continue}}I.extend(M)}d.translations=I}else{var L=u.loadPath(this.defaults.amdLanguageBase+"en"),U=new u(d.language);U.extend(L),d.translations=U}return d},E.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,o){if(""===t.trim(n.term))return o;if(o.children&&o.children.length>0){for(var a=t.extend(!0,{},o),r=o.children.length-1;r>=0;r--){var s=o.children[r],l=i(n,s);null==l&&a.children.splice(r,1)}return a.children.length>0?a:i(n,a)}var c=e(o.text).toUpperCase(),u=e(n.term).toUpperCase();return c.indexOf(u)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:F,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},E.prototype.set=function(e,i){var n=t.camelCase(e),o={};o[n]=i;var a=c._convertData(o);t.extend(this.defaults,a)};var A=new E;return A}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=i.apply(this.options),o&&o.is("input")){var a=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,a)}}return o.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var a=e.extend(!0,{},o);a=n._convertData(a);for(var r in a)e.inArray(r,i)>-1||(e.isPlainObject(this.options[r])?e.extend(this.options[r],a[r]):this.options[r]=a[r]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var o=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),o.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(t,this.options);var r=this.render();this._placeContainer(r);var s=this.options.get("selectionAdapter");this.selection=new s(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(o,i.Observable),o.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e="select2-"+e},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return 0>=o?"auto":o+"px"}if("style"==e){var a=t.attr("style");if("string"!=typeof a)return null;for(var r=a.split(";"),s=0,l=r.length;l>s;s+=1){var c=r[s].replace(/\s/g,""),u=c.match(i);if(null!==u&&u.length>=1)return u[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerSelectionEvents=function(){var e=this,i=["toggle"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("*",function(n,o){-1===t.inArray(n,i)&&e.trigger(n,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("focus",function(){t.$container.addClass("select2-container--focus")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open"),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ENTER?(t.trigger("results:select"),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle"),e.preventDefault()):i===n.UP?(t.trigger("results:previous"),e.preventDefault()):i===n.DOWN?(t.trigger("results:next"),e.preventDefault()):(i===n.ESC||i===n.TAB)&&(t.close(),e.preventDefault()):(i===n.ENTER||i===n.SPACE||(i===n.DOWN||i===n.UP)&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},o.prototype.trigger=function(t,e){var i=o.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t in n){var a=n[t],r={prevented:!1,name:t,args:e};if(i.call(this,a,r),r.prevented)return void(e.prevented=!0)}i.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},o.prototype.close=function(){this.isOpen()&&this.trigger("close")},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},o}),e.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(t,e,i,n){if(e("jquery.mousewheel"),null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var n=t.extend({},e,!0);new i(t(this),n)}),this;if("string"==typeof e){var n=this.data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var a=Array.prototype.slice.call(arguments,1),r=n[e](a);return t.inArray(e,o)>-1?this:r}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),e.define("jquery.mousewheel",["jquery"],function(t){return t}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),/*!
	Autosize v1.18.9 - 2014-05-27
	Automatically adjust textarea height based on user input.
	(c) 2014 Jack Moore - http://www.jacklmoore.com/autosize
	license: http://www.opensource.org/licenses/mit-license.php
*/
function(t){"use strict";var e,i={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',o=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],a=t(n).data("autosize",!0)[0];a.style.lineHeight="99px","99px"===t(a).css("lineHeight")&&o.push("lineHeight"),a.style.lineHeight="",t.fn.autosize=function(n){return this.length?(n=t.extend({},i,n||{}),a.parentNode!==document.body&&t(document.body).append(a),this.each(function(){function i(){var e,i=window.getComputedStyle?window.getComputedStyle(p,null):!1;i?(e=p.getBoundingClientRect().width,(0===e||"number"!=typeof e)&&(e=parseInt(i.width,10)),t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,n){e-=parseInt(i[n],10)})):e=h.width(),a.style.width=Math.max(e,0)+"px"}function r(){var r={};if(e=p,a.className=n.className,a.id=n.id,c=parseInt(h.css("maxHeight"),10),t.each(o,function(t,e){r[e]=h.css(e)}),t(a).css(r).attr("wrap",h.attr("wrap")),i(),window.chrome){var s=p.style.width;p.style.width="0px";p.offsetWidth;p.style.width=s}}function s(){var t,o;e!==p?r():i(),!p.value&&n.placeholder?a.value=(h.attr("placeholder")||"")+n.append:a.value=p.value+n.append,a.style.overflowY=p.style.overflowY,o=parseInt(p.style.height,10),a.scrollTop=0,a.scrollTop=9e4,t=a.scrollTop,c&&t>c?(p.style.overflowY="scroll",t=c):(p.style.overflowY="hidden",u>t&&(t=u)),t+=f,o!==t&&(p.style.height=t+"px",m&&n.callback.call(p,p))}function l(){clearTimeout(d),d=setTimeout(function(){var t=h.width();t!==v&&(v=t,s())},parseInt(n.resizeDelay,10))}var c,u,d,p=this,h=t(p),f=0,m=t.isFunction(n.callback),g={height:p.style.height,overflow:p.style.overflow,overflowY:p.style.overflowY,wordWrap:p.style.wordWrap,resize:p.style.resize},v=h.width(),y=h.css("resize");h.data("autosize")||(h.data("autosize",!0),("border-box"===h.css("box-sizing")||"border-box"===h.css("-moz-box-sizing")||"border-box"===h.css("-webkit-box-sizing"))&&(f=h.outerHeight()-h.height()),u=Math.max(parseInt(h.css("minHeight"),10)-f||0,h.height()),h.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===y?h.css("resize","none"):"both"===y&&h.css("resize","horizontal"),"onpropertychange"in p?"oninput"in p?h.on("input.autosize keyup.autosize",s):h.on("propertychange.autosize",function(){"value"===event.propertyName&&s()}):h.on("input.autosize",s),n.resizeDelay!==!1&&t(window).on("resize.autosize",l),h.on("autosize.resize",s),h.on("autosize.resizeIncludeStyle",function(){e=null,s()}),h.on("autosize.destroy",function(){e=null,clearTimeout(d),t(window).off("resize",l),h.off("autosize").off(".autosize").css(g).removeData("autosize")}),s())})):this}}(window.jQuery||window.$),BestInPlaceEditor.prototype={activate:function(){"use strict";var t;if(this.isPlaceHolder())t="";else if(this.original_content)t=this.original_content;else switch(this.formType){case"input":case"textarea":if(this.display_raw)t=this.element.html().replace(/&amp;/gi,"&");else{var e=this.element.data("bipValue");t="undefined"==typeof e?"":"string"==typeof e?this.element.data("bipValue").replace(/&amp;/gi,"&"):this.element.data("bipValue")}break;case"select":t=this.element.html()}this.oldValue=this.isPlaceHolder()?"":this.element.html(),this.display_value=t,jQuery(this.activator).unbind("click",this.clickHandler),this.activateForm(),this.element.trigger(jQuery.Event("best_in_place:activate"))},abort:function(){"use strict";this.activateText(this.oldValue),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:abort")),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},abortIfConfirm:function(){"use strict";return this.useConfirm?void(confirm(BestInPlaceEditor.defaults.locales[""].confirmMessage)&&this.abort()):void this.abort()},update:function(){"use strict";var t=this,e=this.getValue();if(this.formType in{input:1,textarea:1}&&e===this.oldValue)return this.abort(),!0;switch(t.ajax({type:BestInPlaceEditor.defaults.ajaxMethod,dataType:BestInPlaceEditor.defaults.ajaxDataType,data:t.requestData(),success:function(e,i,n){t.loadSuccessCallback(e,i,n)},error:function(e,i){t.loadErrorCallback(e,i)}}),this.formType){case"select":this.previousCollectionValue=e,t.element.html(this.arrayToObject(this.values)[e]);break;case"checkbox":t.element.html(this.arrayToObject(this.values)[e]);break;default:""!==e?this.display_raw?t.element.html(e):t.element.text(e):t.element.html(this.placeHolder)}t.element.data("bipValue",e),t.element.trigger(jQuery.Event("best_in_place:update"))},activateForm:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},activateText:function(t){"use strict";this.element.html(t),this.isPlaceHolder()&&this.element.html(this.placeHolder)},initOptions:function(){"use strict";var t=this;t.element.parents().each(function(){var e=jQuery(this);t.url=t.url||e.data("bipUrl"),t.activator=t.activator||e.data("bipActivator"),t.okButton=t.okButton||e.data("bipOkButton"),t.okButtonClass=t.okButtonClass||e.data("bipOkButtonClass"),t.cancelButton=t.cancelButton||e.data("bipCancelButton"),t.cancelButtonClass=t.cancelButtonClass||e.data("bipCancelButtonClass")}),t.url=t.element.data("bipUrl")||t.url||document.location.pathname,t.collection=t.element.data("bipCollection")||t.collection,t.formType=t.element.data("bipType")||"input",t.objectName=t.element.data("bipObject")||t.objectName,t.attributeName=t.element.data("bipAttribute")||t.attributeName,t.activator=t.element.data("bipActivator")||t.element,t.okButton=t.element.data("bipOkButton")||t.okButton,t.okButtonClass=t.element.data("bipOkButtonClass")||t.okButtonClass||BestInPlaceEditor.defaults.okButtonClass,t.cancelButton=t.element.data("bipCancelButton")||t.cancelButton,t.cancelButtonClass=t.element.data("bipCancelButtonClass")||t.cancelButtonClass||BestInPlaceEditor.defaults.cancelButtonClass,null==t.element.data("bipPlaceholder")?t.placeHolder=BestInPlaceEditor.defaults.locales[""].placeHolder:t.placeHolder=t.element.data("bipPlaceholder"),t.inner_class=t.element.data("bipInnerClass"),t.html_attrs=t.element.data("bipHtmlAttrs"),t.original_content=t.element.data("bipOriginalContent")||t.original_content,t.display_raw=t.element.data("bip-raw"),t.useConfirm=t.element.data("bip-confirm"),("select"===t.formType||"checkbox"===t.formType)&&(t.values=t.collection,t.collectionValue=t.element.data("bipValue")||t.collectionValue)},bindForm:function(){"use strict";this.activateForm=BestInPlaceEditor.forms[this.formType].activateForm,this.getValue=BestInPlaceEditor.forms[this.formType].getValue},initPlaceHolder:function(){"use strict";""===this.element.html()&&this.element.html(this.placeHolder)},isPlaceHolder:function(){"use strict";return""===this.element.html()||this.element.html()===this.placeHolder},getValue:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},arrayToObject:function(t,e){if(null==t)return{};for(var i={},n=0,o=t.length;o>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},sanitizeValue:function(t){"use strict";return jQuery.trim(t)},requestData:function(){"use strict";var t=jQuery("meta[name=csrf-token]").attr("content"),e=jQuery("meta[name=csrf-param]").attr("content"),i="_method="+BestInPlaceEditor.defaults.ajaxMethod;return i+="&"+this.objectName+"["+this.attributeName+"]="+encodeURIComponent(this.getValue()),void 0!==e&&void 0!==t&&(i+="&"+e+"="+encodeURIComponent(t)),i},ajax:function(t){"use strict";return t.url=this.url,t.beforeSend=function(t){t.setRequestHeader("Accept","application/json")},jQuery.ajax(t)},loadSuccessCallback:function(t,e,i){"use strict";if(t=jQuery.trim(t),this.display_raw?this.original_content=this.element.html():this.original_content=this.element.text(),t&&""!==t){var n=jQuery.parseJSON(t);null!==n&&n.hasOwnProperty("display_as")&&(this.element.data("bip-original-content",this.element.text()),this.element.html(n.display_as))}this.element.trigger(jQuery.Event("best_in_place:success"),[t,e,i]),this.element.trigger(jQuery.Event("ajax:success"),[t,e,i]),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate")),null!==this.collectionValue&&"select"===this.formType&&(this.collectionValue=this.previousCollectionValue,this.previousCollectionValue=null)},loadErrorCallback:function(t,e){"use strict";this.activateText(this.oldValue),this.element.trigger(jQuery.Event("best_in_place:error"),[t,e]),this.element.trigger(jQuery.Event("ajax:error"),t,e),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},clickHandler:function(t){"use strict";t.preventDefault(),t.data.editor.activate()},setHtmlAttributes:function(){"use strict";var t=this.element.find(this.formType);if(this.html_attrs){var e=this.html_attrs;$.each(e,function(e,i){t.attr(e,i)})}},placeButtons:function(t,e){"use strict";e.okButton&&t.append(jQuery(document.createElement("input")).attr("type","submit").attr("class",e.okButtonClass).attr("value",e.okButton)),e.cancelButton&&t.append(jQuery(document.createElement("input")).attr("type","button").attr("class",e.cancelButtonClass).attr("value",e.cancelButton))}},BestInPlaceEditor.forms={input:{activateForm:function(){"use strict";var t=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),e=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).val(this.display_value);this.inner_class&&e.addClass(this.inner_class),t.append(e),this.placeButtons(t,this),this.element.html(t),this.setHtmlAttributes(),this.element.find("input[type='text']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.okButton||this.element.find("input[type='text']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='text']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("input").val())},inputBlurHandler:function(t){"use strict";t.data.editor.okButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.abort()},500):t.data.editor.cancelButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.update()},500):t.data.editor.update()},submitHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.update()},cancelButtonHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.abort(),t.stopPropagation()},keyupHandler:function(t){"use strict";27===t.keyCode&&(t.data.editor.abort(),t.stopImmediatePropagation())}},select:{activateForm:function(){"use strict";var t,e,i=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline"),n=jQuery(document.createElement("select")).attr("class",null!==this.inner_class?this.inner_class:""),o=this.collectionValue,a=this.arrayToObject(this.values);for(t in a){e=a[t];var r=jQuery(document.createElement("option")).val(t).html(e);String(t)===String(o)&&r.attr("selected","selected"),n.append(r)}i.append(n),this.element.html(i),this.setHtmlAttributes(),this.element.find("select").bind("change",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("blur",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("keyup",{editor:this},BestInPlaceEditor.forms.select.keyupHandler),this.element.find("select")[0].focus();try{var s=document.createEvent("MouseEvents");s.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.element.find("select")[0].dispatchEvent(s)}catch(s){}},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("select").val())},blurHandler:function(t){"use strict";t.data.editor.update()},keyupHandler:function(t){"use strict";27===t.keyCode&&t.data.editor.abort()}},checkbox:{activateForm:function(){"use strict";this.collectionValue=!this.getValue(),this.setHtmlAttributes(),this.update()},getValue:function(){"use strict";return this.collectionValue}},textarea:{activateForm:function(){"use strict";var t=this.element.css("width"),e=this.element.css("height"),i=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),n=jQuery(document.createElement("textarea")).attr("name",this.attributeName).val(this.sanitizeValue(this.display_value));null!==this.inner_class&&n.addClass(this.inner_class),i.append(n),this.placeButtons(i,this),this.element.html(i),this.setHtmlAttributes(),jQuery(this.element.find("textarea")[0]).css({"min-width":t,"min-height":e}),jQuery(this.element.find("textarea")[0]).autosize(),this.element.find("textarea")[0].focus(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.textarea.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.textarea.cancelButtonHandler),this.element.find("textarea").bind("blur",{editor:this},BestInPlaceEditor.forms.textarea.blurHandler),this.element.find("textarea").bind("keyup",{editor:this},BestInPlaceEditor.forms.textarea.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("textarea").val())},blurHandler:function(t){"use strict";t.data.editor.okButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.abortIfConfirm()},500):t.data.editor.cancelButton?t.data.editor.blurTimer=setTimeout(function(){t.data.editor.userClicked||t.data.editor.update()},500):t.data.editor.update()},submitHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.update()},cancelButtonHandler:function(t){"use strict";t.data.editor.userClicked=!0,clearTimeout(t.data.editor.blurTimer),t.data.editor.abortIfConfirm(),t.stopPropagation()},keyupHandler:function(t){"use strict";27===t.keyCode&&t.data.editor.abortIfConfirm()}}},BestInPlaceEditor.defaults={locales:{},ajaxMethod:"put",ajaxDataType:"text",okButtonClass:"",cancelButtonClass:""},BestInPlaceEditor.defaults.locales[""]={confirmMessage:"Are you sure you want to discard your changes?",uninitializedForm:"The form was not properly initialized. getValue is unbound",placeHolder:"-"},jQuery.fn.best_in_place=function(){"use strict";function t(t){return t.data("bestInPlaceEditor")?void 0:(t.data("bestInPlaceEditor",new BestInPlaceEditor(t)),!0)}return jQuery(this.context).delegate(this.selector,"click",function(){var e=jQuery(this);t(e)&&e.click()}),this.each(function(){t(jQuery(this))}),this},/* ===========================================================
 * Bootstrap: fileinput.js v3.1.3
 * http://jasny.github.com/bootstrap/javascript/#fileinput
 * ===========================================================
 * Copyright 2012-2014 Arnold Daniels
 *
 * Licensed under the Apache License, Version 2.0 (the "License")
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
+function(t){"use strict";var e="Microsoft Internet Explorer"==window.navigator.appName,i=function(e,i){if(this.$element=t(e),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||i.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var n=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==n&&"none"!==n&&this.$preview.css("line-height",n),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};i.prototype.listen=function(){this.$input.on("change.bs.fileinput",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",t.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",t.proxy(this.clear,this))},i.prototype.change=function(e){var i=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(e.stopPropagation(),0===i.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var n=i[0];if(this.$preview.length>0&&("undefined"!=typeof n.type?n.type.match(/^image\/(gif|png|jpeg)$/):n.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var o=new FileReader,a=this.$preview,r=this.$element;o.onload=function(e){var o=t("<img>");o[0].src=e.target.result,i[0].result=e.target.result,r.find(".fileinput-filename").text(n.name),"none"!=a.css("max-height")&&o.css("max-height",parseInt(a.css("max-height"),10)-parseInt(a.css("padding-top"),10)-parseInt(a.css("padding-bottom"),10)-parseInt(a.css("border-top"),10)-parseInt(a.css("border-bottom"),10)),a.html(o),r.addClass("fileinput-exists").removeClass("fileinput-new"),r.trigger("change.bs.fileinput",i)},o.readAsDataURL(n)}else this.$element.find(".fileinput-filename").text(n.name),this.$preview.text(n.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},i.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),e){var i=this.$input.clone(!0);this.$input.after(i),this.$input.remove(),this.$input=i}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},i.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},i.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var n=t.fn.fileinput;t.fn.fileinput=function(e){return this.each(function(){var n=t(this),o=n.data("bs.fileinput");o||n.data("bs.fileinput",o=new i(this,e)),"string"==typeof e&&o[e]()})},t.fn.fileinput.Constructor=i,t.fn.fileinput.noConflict=function(){return t.fn.fileinput=n,this},t(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var i=t(this);if(!i.data("bs.fileinput")){i.fileinput(i.data());var n=t(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');n.length>0&&(e.preventDefault(),n.trigger("click.bs.fileinput"))}})}(window.jQuery),function(t){function e(e,i,n){var o=i.data("dF").dirtyFieldsDataProperty,a=t.inArray(e,o);"dirty"==n&&-1==a?(o.push(e),i.data("dF").dirtyFieldsDataProperty=o):"clean"==n&&a>-1&&(o.splice(a,1),i.data("dF").dirtyFieldsDataProperty=o)}function i(e){e.data("dF").dirtyFieldsDataProperty.length>0?(e.addClass(e.data("dF").dirtyFormClass),t.isFunction(e.data("dF").formChangeCallback)&&e.data("dF").formChangeCallback.call(e,!0,e.data("dF").dirtyFieldsDataProperty)):(e.removeClass(e.data("dF").dirtyFormClass),t.isFunction(e.data("dF").formChangeCallback)&&e.data("dF").formChangeCallback.call(e,!1,e.data("dF").dirtyFieldsDataProperty))}function n(e,i,n,o){if(o.data("dF").denoteDirtyFields){var a=o.data("dF").fieldOverrides,r=i.attr("id"),s=!1;for(var l in a)r==l&&("changed"==n?t("#"+a[l]).addClass(o.data("dF").dirtyFieldClass):t("#"+a[l]).removeClass(o.data("dF").dirtyFieldClass),s=!0);if(0==s){var c=o.data("dF")[e],u=c.split("-");switch(u[0]){case"next":"changed"==n?i.next(u[1]).addClass(o.data("dF").dirtyFieldClass):i.next(u[1]).removeClass(o.data("dF").dirtyFieldClass);break;case"previous":"changed"==n?i.prev(u[1]).addClass(o.data("dF").dirtyFieldClass):i.prev(u[1]).removeClass(o.data("dF").dirtyFieldClass);break;case"closest":"changed"==n?i.closest(u[1]).addClass(o.data("dF").dirtyFieldClass):i.closest(u[1]).removeClass(o.data("dF").dirtyFieldClass);break;case"self":"changed"==n?i.addClass(o.data("dF").dirtyFieldClass):i.removeClass(o.data("dF").dirtyFieldClass);break;default:if("id"==u[0]||"name"==u[0])switch(u[1]){case"class":"changed"==n?t("."+i.attr(u[0]),o).addClass(o.data("dF").dirtyFieldClass):t("."+i.attr(u[0]),o).removeClass(o.data("dF").dirtyFieldClass);break;case"title":"changed"==n?t("*[title='"+i.attr(u[0])+"']",o).addClass(o.data("dF").dirtyFieldClass):t("*[title='"+i.attr(u[0])+"']",o).removeClass(o.data("dF").dirtyFieldClass);break;case"for":"changed"==n?t("label[for='"+i.attr(u[0])+"']",o).addClass(o.data("dF").dirtyFieldClass):t("label[for='"+i.attr(u[0])+"']",o).removeClass(o.data("dF").dirtyFieldClass)}}}}}function o(o,a){var r=o.attr("name"),s=!1;if(a.data("dF").trimText)var l=jQuery.trim(o.val());else var l=o.val();if(o.hasClass(a.data("dF").ignoreCaseClass))var l=l.toUpperCase(),c=o.data(a.data("dF").startingValueDataProperty).toUpperCase();else var c=o.data(a.data("dF").startingValueDataProperty);l!=c?(n("textboxContext",o,"changed",a),e(r,a,"dirty"),s=!0):(n("textboxContext",o,"unchanged",a),e(r,a,"clean")),t.isFunction(a.data("dF").fieldChangeCallback)&&a.data("dF").fieldChangeCallback.call(o,o.data(a.data("dF").startingValueDataProperty),s),a.data("dF").denoteDirtyForm&&i(a)}function a(o,a){var r=o.attr("name"),s=!1;if(0==a.data("dF").denoteDirtyOptions&&1!=o.attr("multiple")){if(o.hasClass(a.data("dF").ignoreCaseClass))var l=o.val().toUpperCase(),c=o.data(a.data("dF").startingValueDataProperty).toUpperCase();else var l=o.val(),c=o.data(a.data("dF").startingValueDataProperty);l!=c?(n("selectContext",o,"changed",a),e(r,a,"dirty"),s=!0):(n("selectContext",o,"unchanged",a),e(r,a,"clean"))}else{var u=!1;o.children("option").each(function(e){var i=t(this),n=i.is(":selected");n!=i.data(a.data("dF").startingValueDataProperty)?(a.data("dF").denoteDirtyOptions&&i.addClass(a.data("dF").dirtyOptionClass),u=!0):a.data("dF").denoteDirtyOptions&&i.removeClass(a.data("dF").dirtyOptionClass)}),u?(n("selectContext",o,"changed",a),e(r,a,"dirty"),s=!0):(n("selectContext",o,"unchanged",a),e(r,a,"clean"))}t.isFunction(a.data("dF").fieldChangeCallback)&&a.data("dF").fieldChangeCallback.call(o,o.data(a.data("dF").startingValueDataProperty),s),a.data("dF").denoteDirtyForm&&i(a)}function r(o,a){var r=o.attr("name"),s=!1,l=o.attr("type");t(":"+l+"[name='"+r+"']",a).each(function(e){var i=t(this),o=i.is(":checked");o!=i.data(a.data("dF").startingValueDataProperty)?(n("checkboxRadioContext",i,"changed",a),s=!0):n("checkboxRadioContext",i,"unchanged",a)}),s?e(r,a,"dirty"):e(r,a,"clean"),t.isFunction(a.data("dF").fieldChangeCallback)&&a.data("dF").fieldChangeCallback.call(o,o.data(a.data("dF").startingValueDataProperty),s),a.data("dF").denoteDirtyForm&&i(a)}t.fn.dirtyFields=function(e){var i=t.extend({},t.fn.dirtyFields.defaults,e);return this.each(function(){var e=t(this);e.data("dF",i),e.data("dF").dirtyFieldsDataProperty=new Array,t("input[type='text'],input[type='file'],input[type='password'],textarea",e).not("."+e.data("dF").exclusionClass).each(function(i){t.fn.dirtyFields.configureField(t(this),e,"text")}),t("select",e).not("."+e.data("dF").exclusionClass).each(function(i){t.fn.dirtyFields.configureField(t(this),e,"select")}),t(":checkbox,:radio",e).not("."+e.data("dF").exclusionClass).each(function(i){t.fn.dirtyFields.configureField(t(this),e,"checkRadio")}),t.fn.dirtyFields.setStartingValues(e)})},t.fn.dirtyFields.defaults={checkboxRadioContext:"next-span",denoteDirtyOptions:!1,denoteDirtyFields:!0,denoteDirtyForm:!1,dirtyFieldClass:"dirtyField",dirtyFieldsDataProperty:"dirtyFields",dirtyFormClass:"dirtyForm",dirtyOptionClass:"dirtyOption",exclusionClass:"dirtyExclude",fieldChangeCallback:"",fieldOverrides:{none:"none"},formChangeCallback:"",ignoreCaseClass:"dirtyIgnoreCase",preFieldChangeCallback:"",selectContext:"id-for",startingValueDataProperty:"startingValue",textboxContext:"id-for",trimText:!1},t.fn.dirtyFields.configureField=function(e,i,n,s){if(!e.hasClass(i.data("dF").exclusionClass))switch("undefined"!=typeof s&&(i.data("dF").fieldOverrides[e.attr("id")]=s),n){case"text":e.change(function(){return t.isFunction(i.data("dF").preFieldChangeCallback)&&0==i.data("dF").preFieldChangeCallback.call(e,e.data(i.data("dF").startingValueDataProperty))?!1:void o(e,i)});break;case"select":e.change(function(){return t.isFunction(i.data("dF").preFieldChangeCallback)&&0==i.data("dF").preFieldChangeCallback.call(e,e.data(i.data("dF").startingValueDataProperty))?!1:void a(e,i)});break;case"checkRadio":e.change(function(){return t.isFunction(i.data("dF").preFieldChangeCallback)&&0==i.data("dF").preFieldChangeCallback.call(e,e.data(i.data("dF").startingValueDataProperty))?!1:void r(e,i)})}},t.fn.dirtyFields.formSaved=function(e){t.fn.dirtyFields.setStartingValues(e),t.fn.dirtyFields.markContainerFieldsClean(e)},t.fn.dirtyFields.markContainerFieldsClean=function(e){var i=new Array;e.data("dF").dirtyFieldsDataProperty=i,t("."+e.data("dF").dirtyFieldClass,e).removeClass(e.data("dF").dirtyFieldClass),e.data("dF").denoteDirtyOptions&&t("."+e.data("dF").dirtyOptionClass,e).removeClass(e.data("dF").dirtyOptionClass),e.data("dF").denoteDirtyForm&&e.removeClass(e.data("dF").dirtyFormClass)},t.fn.dirtyFields.setStartingValues=function(e,i){t("input[type='text'],input[type='file'],input[type='password'],:checkbox,:radio,textarea",e).not("."+e.data("dF").exclusionClass).each(function(i){var n=t(this);"radio"==n.attr("type")||"checkbox"==n.attr("type")?t.fn.dirtyFields.setStartingCheckboxRadioValue(n,e):t.fn.dirtyFields.setStartingTextValue(n,e)}),t("select",e).not("."+e.data("dF").exclusionClass).each(function(i){t.fn.dirtyFields.setStartingSelectValue(t(this),e)})},t.fn.dirtyFields.setStartingTextValue=function(e,i){return e.not("."+i.data("dF").exclusionClass).each(function(){var e=t(this);e.data(i.data("dF").startingValueDataProperty,e.val())})},t.fn.dirtyFields.setStartingCheckboxRadioValue=function(e,i){return e.not("."+i.data("dF").exclusionClass).each(function(){var e=t(this);e.is(":checked")?e.data(i.data("dF").startingValueDataProperty,!0):e.data(i.data("dF").startingValueDataProperty,!1)})},t.fn.dirtyFields.setStartingSelectValue=function(e,i){return e.not("."+i.data("dF").exclusionClass).each(function(){var e=t(this);if(0==i.data("dF").denoteDirtyOptions&&1!=e.attr("multiple"))e.data(i.data("dF").startingValueDataProperty,e.val());else{var n=new Array;e.children("option").each(function(e){var o=t(this);o.is(":selected")?(o.data(i.data("dF").startingValueDataProperty,!0),n.push(o.val())):o.data(i.data("dF").startingValueDataProperty,!1)}),e.data(i.data("dF").startingValueDataProperty,n)}})},t.fn.dirtyFields.rollbackTextValue=function(e,i,n){return"undefined"==typeof n&&(n=!0),e.not("."+i.data("dF").exclusionClass).each(function(){var e=t(this);e.val(e.data(i.data("dF").startingValueDataProperty)),n&&o(e,i)})},t.fn.dirtyFields.updateTextState=function(e,i){return e.not("."+i.data("dF").exclusionClass).each(function(){o(t(this),i)})},t.fn.dirtyFields.rollbackCheckboxRadioState=function(e,i,n){return"undefined"==typeof n&&(n=!0),e.not("."+i.data("dF").exclusionClass).each(function(){var e=t(this);e.data(i.data("dF").startingValueDataProperty)?e.attr("checked",!0):e.attr("checked",!1),n&&r(e,i)})},t.fn.dirtyFields.updateCheckboxRadioState=function(e,i){return e.not("."+i.data("dF").exclusionClass).each(function(){r(t(this),i)})},t.fn.dirtyFields.rollbackSelectState=function(e,i,n){return"undefined"==typeof n&&(n=!0),e.not("."+i.data("dF").exclusionClass).each(function(){var e=t(this);0==i.data("dF").denoteDirtyOptions&&1!=e.attr("multiple")?e.val(e.data(i.data("dF").startingValueDataProperty)):e.children("option").each(function(e){var n=t(this);n.data(i.data("dF").startingValueDataProperty)?n.attr("selected",!0):n.attr("selected",!1)}),n&&a(e,i)})},t.fn.dirtyFields.updateSelectState=function(e,i){return e.not("."+i.data("dF").exclusionClass).each(function(){a(t(this),i)})},t.fn.dirtyFields.rollbackForm=function(e){t("input[type='text'],input[type='file'],input[type='password'],:checkbox,:radio,textarea",e).not("."+e.data("dF").exclusionClass).each(function(i){$object=t(this),"radio"==$object.attr("type")||"checkbox"==$object.attr("type")?t.fn.dirtyFields.rollbackCheckboxRadioState($object,e,!1):t.fn.dirtyFields.rollbackTextValue($object,e,!1)}),t("select",e).not("."+e.data("dF").exclusionClass).each(function(i){t.fn.dirtyFields.rollbackSelectState(t(this),e,!1)}),t.fn.dirtyFields.markContainerFieldsClean(e)},t.fn.dirtyFields.updateFormState=function(e){t("input[type='text'],input[type='file'],input[type='password'],:checkbox,:radio,textarea",e).not("."+e.data("dF").exclusionClass).each(function(i){$object=t(this),"radio"==$object.attr("type")||"checkbox"==$object.attr("type")?t.fn.dirtyFields.updateCheckboxRadioState($object,e):t.fn.dirtyFields.updateTextState($object,e)}),t("select",e).not("."+e.data("dF").exclusionClass).each(function(i){$object=t(this),t.fn.dirtyFields.updateSelectState($object,e)})},t.fn.dirtyFields.getDirtyFieldNames=function(t){return t.data("dF").dirtyFieldsDataProperty}}(jQuery),BestInPlaceEditor.defaults.purrErrorContainer="<span class='bip-flash-error'></span>",jQuery(document).on("best_in_place:error",function(t,e,i){"use strict";jQuery.each(jQuery.parseJSON(e.responseText),function(t,e){"object"==typeof e&&(e=t+" "+e.toString());var i=jQuery(BestInPlaceEditor.defaults.purrErrorContainer).html(e);i.purr()})}),/**
 * jquery.purr.js
 * Copyright (c) 2008 Net Perspective (net-perspective.com)
 * Licensed under the MIT License (http://www.opensource.org/licenses/mit-license.php)
 *
 * @author R.A. Ray
 * @projectDescription  jQuery plugin for dynamically displaying unobtrusive messages in the browser. Mimics the behavior of the MacOS program "Growl."
 * @version 0.1.0
 *
 * @requires jquery.js (tested with 1.2.6)
 *
 * @param fadeInSpeed           int - Duration of fade in animation in miliseconds
 *                          default: 500
 *  @param fadeOutSpeed         int - Duration of fade out animationin miliseconds
                            default: 500
 *  @param removeTimer          int - Timeout, in miliseconds, before notice is removed once it is the top non-sticky notice in the list
                            default: 4000
 *  @param isSticky             bool - Whether the notice should fade out on its own or wait to be manually closed
                            default: false
 *  @param usingTransparentPNG  bool - Whether or not the notice is using transparent .png images in its styling
                            default: false
 */
function(t){t.purr=function(e,i){function n(){var n=document.createElement("a");if(t(n).attr({"class":"close",href:"#close"}).appendTo(e).click(function(){return o(),!1}),t(document).keyup(function(t){27===t.keyCode&&o()}),e.appendTo(a).hide(),e.fadeIn(i.fadeInSpeed),!i.isSticky)var r=setInterval(function(){0===e.prevAll(".purr").length&&(clearInterval(r),setTimeout(function(){o()},i.removeTimer))},200)}function o(){e.animate({opacity:"0"},{duration:i.fadeOutSpeed,complete:function(){e.animate({height:"0px"},{duration:i.fadeOutSpeed,complete:function(){e.remove()}})}})}e=t(e),e.addClass("purr");var a=document.getElementById("purr-container");a||(a='<div id="purr-container"></div>'),a=t(a),t("body").append(a),n()},t.fn.purr=function(e){return e=e||{},e.fadeInSpeed=e.fadeInSpeed||500,e.fadeOutSpeed=e.fadeOutSpeed||500,e.removeTimer=e.removeTimer||4e3,e.isSticky=e.isSticky||!1,e.usingTransparentPNG=e.usingTransparentPNG||!1,this.each(function(){new t.purr(this,e)}),this}}(jQuery),/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var n,o,a;for(a=0;null!=(o=i[a]);a++)try{n=t._data(o,"events"),n&&n.remove&&t(o).triggerHandler("remove")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var o,a,r,s,l={},c=e.split(".")[0];return e=e.split(".")[1],o=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][e],r=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),s=new i,s.options=t.widget.extend({},s.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=a,e}}()):void(l[e]=n)}),r.prototype=t.widget.extend(s,{widgetEventPrefix:a?s.widgetEventPrefix||e:e},l,{constructor:r,namespace:c,widgetName:e,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete a._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,o,a=i.call(arguments,1),r=0,s=a.length;s>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&void 0!==o&&(t.isPlainObject(o)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],o):t.widget.extend({},o):e[n]=o);return e},t.widget.bridge=function(e,n){var o=n.prototype.widgetFullName||e;t.fn[e]=function(a){var r="string"==typeof a,s=i.call(arguments,1),l=this;return r?this.each(function(){var i,n=t.data(this,o);return"instance"===a?(l=n,!1):n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,s),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")}):(s.length&&(a=t.widget.extend.apply(null,[a].concat(s))),this.each(function(){var e=t.data(this,o);e?(e.option(a||{}),e._init&&e._init()):t.data(this,o,new n(a,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,o,a,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},n=e.split("."),e=n.shift(),n.length){for(o=r[e]=t.widget.extend({},this.options[e]),a=0;a<n.length-1;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(e=n.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var o,a=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,r){function s(){return e||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):void 0}"string"!=typeof r&&(s.guid=r.guid=r.guid||s.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,s):i.bind(c,s)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,a,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(o in a)o in i||(i[o]=a[o]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,a){"string"==typeof o&&(o={effect:o});var r,s=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=a,o.delay&&n.delay(o.delay),r&&t.effects&&t.effects.effect[s]?n[e](o):s!==e&&n[s]?n[s](o.duration,o.easing,a):n.queue(function(i){t(this)[e](),a&&a.call(n[0]),i()})}}),t.widget}),/*
 * jQuery File Upload Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var i="dragover"===e;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var o=n.dataTransfer;o&&-1!==t.inArray("Files",o.types)&&this._trigger(e,t.Event(e,{delegatedEvent:n}))!==!1&&(n.preventDefault(),i&&(o.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,i){return e=this.messages[e]||e.toString(),i&&t.each(i,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(t){return t.serializeArray()},add:function(e,i){return e.isDefaultPrevented()?!1:void((i.autoUpload||i.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,i){var n=t-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(e-this.loaded)*(1e3/n)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(i=[],t.each(e.formData,function(t,e){i.push({name:t,value:e})}),i):[]},_getTotal:function(e){var i=0;return t.each(e,function(t,e){i+=e.size||1}),i},_initProgressObject:function(e){var i={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,i):e._progress=i},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,i){if(e.lengthComputable){var n,o=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&o-i._time<i.progressInterval&&e.loaded!==e.total)return;i._time=o,n=Math.floor(e.loaded/e.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(o,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(o,n,i.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),i),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var i=this,n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&(t(n.upload).bind("progress",function(t){var n=t.originalEvent;t.lengthComputable=n.lengthComputable,t.loaded=n.loaded,t.total=n.total,i._onProgress(t,e)}),e.xhr=function(){return n})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var i,n=this,o=e.files[0],a=e.multipart||!t.support.xhrFileUpload,r="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),a&&!e.blob&&this._isInstanceOf("File",o)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(o.name)+'"'),a?t.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:r,value:e.blob}):t.each(e.files,function(n,o){i.push({name:"array"===t.type(e.paramName)&&e.paramName[n]||r,value:o})})):(n._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,t.each(this._getFormData(e),function(t,e){i.append(e.name,e.value)})),e.blob?i.append(r,e.blob,o.name):t.each(e.files,function(o,a){(n._isInstanceOf("File",a)||n._isInstanceOf("Blob",a))&&i.append("array"===t.type(e.paramName)&&e.paramName[o]||r,a,a.uploadName||a.name)})),e.data=i):(e.contentType=o.type||"application/octet-stream",e.data=e.blob||o),e.blob=null},_initIframeSettings:function(e){var i=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&i&&i!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var i=t(e.fileInput),n=e.paramName;return n?t.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var e=t(this),i=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)n.push(i),o-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var i=t.extend({},this.options,e);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,i,n){var o=t.Deferred(),a=o.promise();return i=i||this.options.context||a,e===!0?o.resolveWith(i,n):e===!1&&o.rejectWith(i,n),a.abort=o.promise,this._enhancePromise(a)},_addConvenienceMethods:function(e,i){var n=this,o=function(e){return t.Deferred().resolveWith(n,e).promise()};i.process=function(e,a){return(e||a)&&(i._processQueue=this._processQueue=(this._processQueue||o([this])).pipe(function(){return i.errorThrown?t.Deferred().rejectWith(n,[i]).promise():o(arguments)}).pipe(e,a)),this._processQueue||o([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=n._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&n._onSend(e,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),i=e&&e.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(e,i){e.uploadedBytes=e.uploadedBytes||0;var n,o,a=this,r=e.files[0],s=r.size,l=e.uploadedBytes,c=e.maxChunkSize||s,u=this._blobSlice,d=t.Deferred(),p=d.promise();return this._isXHRUpload(e)&&u&&(l||s>c)&&!e.data?i?!0:l>=s?(r.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",r.error])):(o=function(){var i=t.extend({},e),p=i._progress.loaded;i.blob=u.call(r,l,l+c,r.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+s,a._initXHRData(i),a._initProgressListener(i),n=(a._trigger("chunksend",null,i)!==!1&&t.ajax(i)||a._getXHRPromise(!1,i.context)).done(function(n,r,c){l=a._getUploadedBytes(c)||l+i.chunkSize,p+i.chunkSize-i._progress.loaded&&a._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),e.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=r,i.jqXHR=c,a._trigger("chunkdone",null,i),a._trigger("chunkalways",null,i),s>l?o():d.resolveWith(i.context,[n,r,c])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,a._trigger("chunkfail",null,i),a._trigger("chunkalways",null,i),d.rejectWith(i.context,[t,e,n])})},this._enhancePromise(p),p.abort=function(){return n.abort()},o(),p):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,i,n,o){var a=o._progress.total,r=o._response;o._progress.loaded<a&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:a,total:a}),o),r.result=o.result=e,r.textStatus=o.textStatus=i,r.jqXHR=o.jqXHR=n,this._trigger("done",null,o)},_onFail:function(t,e,i,n){var o=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),o.jqXHR=n.jqXHR=t,o.textStatus=n.textStatus=e,o.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(t,e,i,n){this._trigger("always",null,n)},_onSend:function(e,i){i.submit||this._addConvenienceMethods(e,i);var n,o,a,r,s=this,l=s._getAJAXSettings(i),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,n=n||((o||s._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,i){s._onDone(t,e,i,l)}).fail(function(t,e,i){s._onFail(t,e,i,l)}).always(function(t,e,i){if(s._onAlways(t,e,i,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var n=s._slots.shift();n;){if("pending"===s._getDeferredState(n)){n.resolve();break}n=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=t.Deferred(),this._slots.push(a),r=a.pipe(c)):(this._sequence=this._sequence.pipe(c,c),r=this._sequence),r.abort=function(){return o=[void 0,"abort","abort"],n?n.abort():(a&&a.rejectWith(l.context,o),c())},this._enhancePromise(r)):c()},_onAdd:function(e,i){var n,o,a,r,s=this,l=!0,c=t.extend({},this.options,i),u=i.files,d=u.length,p=c.limitMultiFileUploads,h=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!d)return!1;if(h&&void 0===u[0].size&&(h=void 0),(c.singleFileUploads||p||h)&&this._isXHRUpload(c))if(c.singleFileUploads||h||!p)if(!c.singleFileUploads&&h)for(a=[],n=[],r=0;d>r;r+=1)m+=u[r].size+f,(r+1===d||m+u[r+1].size+f>h||p&&r+1-v>=p)&&(a.push(u.slice(v,r+1)),o=g.slice(v,r+1),o.length||(o=g),n.push(o),v=r+1,m=0);else n=g;else for(a=[],n=[],r=0;d>r;r+=p)a.push(u.slice(r,r+p)),o=g.slice(r,r+p),o.length||(o=g),n.push(o);else a=[u],n=[g];return i.originalFiles=u,t.each(a||u,function(o,r){var c=t.extend({},i);return c.files=a?r:[r],c.paramName=n[o],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(e,c),l=s._trigger("add",t.Event("add",{delegatedEvent:e}),c)}),l},_replaceFileInput:function(e){var i=e.fileInput,n=i.clone(!0),o=i.is(document.activeElement);e.fileInputClone=n,t("<form></form>").append(n)[0].reset(),i.after(n).detach(),o&&n.focus(),t.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===i[0]?n[0]:e}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,i){var n,o=this,a=t.Deferred(),r=function(t){t&&!t.entry&&(t.entry=e),a.resolve([t])},s=function(t){o._handleFileTreeEntries(t,i+e.name+"/").done(function(t){a.resolve(t)}).fail(r)},l=function(){n.readEntries(function(t){t.length?(c=c.concat(t),l()):s(c)},r)},c=[];return i=i||"",e.isFile?e._file?(e._file.relativePath=i,a.resolve(e._file)):e.file(function(t){t.relativePath=i,a.resolve(t)},r):e.isDirectory?(n=e.createReader(),l()):a.resolve([]),a.promise()},_handleFileTreeEntries:function(e,i){var n=this;return t.when.apply(t,t.map(e,function(t){return n._handleFileTreeEntry(t,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var i=e.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(t.map(i,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var i,n,o=e.prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(i=t.makeArray(e.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&t.each(i,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(n=e.prop("value"),!n)return t.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return t.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var i=this,n={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(n.fileInput).always(function(o){n.files=o,i.options.replaceFileInput&&i._replaceFileInput(n),i._trigger("change",t.Event("change",{delegatedEvent:e}),n)!==!1&&i._onAdd(e,n)})},_onPaste:function(e){var i=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(t.each(i,function(t,e){var i=e.getAsFile&&e.getAsFile();i&&n.files.push(i)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),n)!==!1&&this._onAdd(e,n))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var i=this,n=e.dataTransfer,o={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){o.files=n,i._trigger("drop",t.Event("drop",{delegatedEvent:e}),o)!==!1&&i._onAdd(e,o)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,i){var n=-1!==t.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),i=e.pop();return e.shift(),new RegExp(e.join("/"),i)},_isRegExpOption:function(e,i){return"url"!==e&&"string"===t.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var e=this,i=this.options,n=this.element.data();t.each(this.element[0].attributes,function(t,o){var a,r=o.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),a=n[r],e._isRegExpOption(r,a)&&(a=e._getRegExp(a)),i[r]=a)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var i=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,i._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var i,n,o=this,a=t.Deferred(),r=a.promise();return r.abort=function(){return n=!0,i?i.abort():(a.reject(null,"abort","abort"),r)},this._getFileInputFiles(e.fileInput).always(function(t){if(!n){if(!t.length)return void a.reject();e.files=t,i=o._onSend(null,e),i.then(function(t,e,i){a.resolve(t,e,i)},function(t,e,i){a.reject(t,e,i)})}}),this._enhancePromise(r)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),/*!
* inputmask.js
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2016 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.2.7
*/
!function(t){"function"==typeof define&&define.amd?define(["inputmask.dependencyLib"],t):"object"==typeof exports?module.exports=t(require("./inputmask.dependencyLib.jquery")):t(window.dependencyLib||jQuery)}(function(t){function e(i,n){return this instanceof e?(t.isPlainObject(i)?n=i:(n=n||{},n.alias=i),this.el=void 0,this.opts=t.extend(!0,{},this.defaults,n),this.noMasksCache=n&&void 0!==n.definitions,this.userOptions=n||{},this.events={},void o(this.opts.alias,n,this.opts)):new e(i,n)}function i(t){var e=document.createElement("input"),i="on"+t,n=i in e;return n||(e.setAttribute(i,"return;"),n="function"==typeof e[i]),e=null,n}function n(e,i){var n=e.getAttribute("type"),o="INPUT"===e.tagName&&-1!==t.inArray(n,i.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!o){var a=document.createElement("input");a.setAttribute("type",n),o="text"===a.type,a=null}return o}function o(e,i,n){var a=n.aliases[e];return a?(a.alias&&o(a.alias,void 0,n),t.extend(!0,n,a),t.extend(!0,n,i),!0):(null===n.mask&&(n.mask=e),!1)}function a(e,i,n){function a(t,i){i=void 0!==i?i:e.getAttribute("data-inputmask-"+t),null!==i&&("string"==typeof i&&(0===t.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[t]=i)}var r,s,l,c,u=e.getAttribute("data-inputmask");if(u&&""!==u&&(u=u.replace(new RegExp("'","g"),'"'),s=JSON.parse("{"+u+"}")),s){l=void 0;for(c in s)if("alias"===c.toLowerCase()){l=s[c];break}}a("alias",l),n.alias&&o(n.alias,n,i);for(r in i){if(s){l=void 0;for(c in s)if(c.toLowerCase()===r.toLowerCase()){l=s[c];break}}a(r,l)}return t.extend(!0,i,n),i}function r(i,n){function o(e){function n(t,e,i,n){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function o(e,n,o){var a=i.definitions[n];o=void 0!==o?o:e.matches.length;var r=e.matches[o-1];if(a&&!v){a.placeholder=t.isFunction(a.placeholder)?a.placeholder(i):a.placeholder;for(var s=a.prevalidator,l=s?s.length:0,c=1;c<a.cardinality;c++){var u=l>=c?s[c-1]:[],d=u.validator,p=u.cardinality;e.matches.splice(o++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:p?p:1,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==(a.definitionSymbol||n),casing:a.casing,def:a.definitionSymbol||n,placeholder:a.placeholder,mask:n}),r=e.matches[o-1]}e.matches.splice(o++,0,{fn:a.validator?"string"==typeof a.validator?new RegExp(a.validator):new function(){this.test=a.validator}:new RegExp("."),cardinality:a.cardinality,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==(a.definitionSymbol||n),casing:a.casing,def:a.definitionSymbol||n,placeholder:a.placeholder,mask:n})}else e.matches.splice(o++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),v=!1}function a(t,e){t.isGroup&&(t.isGroup=!1,o(t,i.groupmarker.start,0),e!==!0&&o(t,i.groupmarker.end))}function r(t,e,i,n){e.matches.length>0&&(void 0===n||n)&&(i=e.matches[e.matches.length-1],a(i)),o(e,t)}function s(){if(b.length>0){if(p=b[b.length-1],r(u,p,f,!p.isAlternator),p.isAlternator){h=b.pop();for(var t=0;t<h.matches.length;t++)h.matches[t].isGroup=!1;b.length>0?(p=b[b.length-1],p.matches.push(h)):y.matches.push(h)}}else r(u,y,f)}function l(t){function e(t){return t===i.optionalmarker.start?t=i.optionalmarker.end:t===i.optionalmarker.end?t=i.optionalmarker.start:t===i.groupmarker.start?t=i.groupmarker.end:t===i.groupmarker.end&&(t=i.groupmarker.start),t}t.matches=t.matches.reverse();for(var n in t.matches){var o=parseInt(n);if(t.matches[n].isQuantifier&&t.matches[o+1]&&t.matches[o+1].isGroup){var a=t.matches[n];t.matches.splice(n,1),t.matches.splice(o+1,0,a)}void 0!==t.matches[n].matches?t.matches[n]=l(t.matches[n]):t.matches[n]=e(t.matches[n])}return t}for(var c,u,d,p,h,f,m,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=!1,y=new n,b=[],_=[];c=g.exec(e);)if(u=c[0],v)s();else switch(u.charAt(0)){case i.escapeChar:v=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(d=b.pop(),void 0!==d)if(b.length>0){if(p=b[b.length-1],p.matches.push(d),p.isAlternator){h=b.pop();for(var w=0;w<h.matches.length;w++)h.matches[w].isGroup=!1;b.length>0?(p=b[b.length-1],p.matches.push(h)):y.matches.push(h)}}else y.matches.push(d);else s();break;case i.optionalmarker.start:b.push(new n(!1,!0));break;case i.groupmarker.start:b.push(new n(!0));break;case i.quantifiermarker.start:var k=new n(!1,!1,!0);u=u.replace(/[{}]/g,"");var C=u.split(","),x=isNaN(C[0])?C[0]:parseInt(C[0]),$=1===C.length?x:isNaN(C[1])?C[1]:parseInt(C[1]);if(("*"===$||"+"===$)&&(x="*"===$?0:1),k.quantifier={min:x,max:$},b.length>0){var P=b[b.length-1].matches;c=P.pop(),c.isGroup||(m=new n(!0),m.matches.push(c),c=m),P.push(c),P.push(k)}else c=y.matches.pop(),c.isGroup||(m=new n(!0),m.matches.push(c),c=m),y.matches.push(c),y.matches.push(k);break;case i.alternatormarker:b.length>0?(p=b[b.length-1],f=p.matches.pop()):f=y.matches.pop(),f.isAlternator?b.push(f):(h=new n(!1,!1,!1,!0),h.matches.push(f),b.push(h));break;default:s()}for(;b.length>0;)d=b.pop(),a(d,!0),y.matches.push(d);return y.matches.length>0&&(f=y.matches[y.matches.length-1],a(f),_.push(y)),i.numericInput&&l(_[0]),_}function a(a,r){if(null===a||""===a)return void 0;if(1===a.length&&i.greedy===!1&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var s="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;a=i.groupmarker.start+a+i.groupmarker.end+i.quantifiermarker.start+s+","+i.repeat+i.quantifiermarker.end}var l;return void 0===e.prototype.masksCache[a]||n===!0?(l={mask:a,maskToken:o(a),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r},n!==!0&&(e.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]=l,l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]))):l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?a.split("").reverse().join(""):a]),l}function r(t){return t=t.toString()}var s;if(t.isFunction(i.mask)&&(i.mask=i.mask(i)),t.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic?!0:i.keepStatic;var l="(";return t.each(i.numericInput?i.mask.reverse():i.mask,function(e,i){l.length>1&&(l+=")|("),l+=r(void 0===i.mask||t.isFunction(i.mask)?i:i.mask)}),l+=")",a(l,i.mask)}i.mask=i.mask.pop()}return i.mask&&(s=void 0===i.mask.mask||t.isFunction(i.mask.mask)?a(r(i.mask),i.mask):a(r(i.mask.mask),i.mask)),s}function s(o,a,r){function l(t,e,i){e=e||0;var n,o,a,s=[],l=0,c=f();do{if(t===!0&&p().validPositions[l]){var u=p().validPositions[l];o=u.match,n=u.locator.slice(),s.push(i===!0?u.input:O(l,o))}else a=v(l,n,l-1),o=a.match,n=a.locator.slice(),(r.jitMasking===!1||c>l||isFinite(r.jitMasking)&&r.jitMasking>l)&&s.push(O(l,o));l++}while((void 0===pt||pt>l-1)&&null!==o.fn||null===o.fn&&""!==o.def||e>=l);return""===s[s.length-1]&&s.pop(),s}function p(){return a}function h(t){var e=p();e.buffer=void 0,t!==!0&&(e.tests={},e._buffer=void 0,e.validPositions={},e.p=0)}function f(t,e){var i=-1,n=-1,o=p().validPositions;void 0===t&&(t=-1);for(var a in o){var r=parseInt(a);o[r]&&(e||null!==o[r].match.fn)&&(t>=r&&(i=r),r>=t&&(n=r))}return-1!==i&&t-i>1||t>n?i:n}function m(e,i,n){if(r.insertMode&&void 0!==p().validPositions[e]&&void 0===n){var o,a=t.extend(!0,{},p().validPositions),s=f();for(o=e;s>=o;o++)delete p().validPositions[o];p().validPositions[e]=i;var l,c=!0,u=p().validPositions;for(o=l=e;s>=o;o++){var d=a[o];if(void 0!==d)for(var m=l,g=-1;m<E()&&(null==d.match.fn&&u[o]&&(u[o].match.optionalQuantifier===!0||u[o].match.optionality===!0)||null!=d.match.fn);){if(null===d.match.fn||!r.keepStatic&&u[o]&&(void 0!==u[o+1]&&w(o+1,u[o].locator.slice(),o).length>1||void 0!==u[o].alternation)?m++:m=A(l),b(m,d.match.def)){var v=S(m,d.input,!0,!0);c=v!==!1,l=v.caret||v.insert?f():m;break}if(c=null==d.match.fn,g===m)break;g=m}if(!c)break}if(!c)return p().validPositions=t.extend(!0,{},a),h(!0),!1}else p().validPositions[e]=i;return h(!0),!0}function g(t,e,i,n){var o,a=t;for(p().p=t,o=a;e>o;o++)void 0!==p().validPositions[o]&&(i===!0||r.canClearPosition(p(),o,f(),n,r)!==!1)&&delete p().validPositions[o];for(o=a+1;o<=f();){for(;void 0!==p().validPositions[a];)a++;var s=p().validPositions[a];if(a>o&&(o=a+1),void 0===p().validPositions[o]&&F(o)||void 0!==s)o++;else{var l=v(o);b(a,l.match.def)?S(a,l.input||O(o),!0)!==!1&&(delete p().validPositions[o],o++):F(o)||(o++,a--),a++}}var c=f(),u=E();for(n!==!0&&i!==!0&&void 0!==p().validPositions[c]&&p().validPositions[c].input===r.radixPoint&&delete p().validPositions[c],o=c+1;u>=o;o++)p().validPositions[o]&&delete p().validPositions[o];h(!0)}function v(t,e,i){var n=p().validPositions[t];if(void 0===n)for(var o=w(t,e,i),a=f(),s=p().validPositions[a]||w(0)[0],l=void 0!==s.alternation?s.locator[s.alternation].toString().split(","):[],c=0;c<o.length&&(n=o[c],!(n.match&&(r.greedy&&n.match.optionalQuantifier!==!0||(n.match.optionality===!1||n.match.newBlockMarker===!1)&&n.match.optionalQuantifier!==!0)&&(void 0===s.alternation||s.alternation!==n.alternation||void 0!==n.locator[s.alternation]&&P(n.locator[s.alternation].toString().split(","),l))));c++);return n}function y(t){return p().validPositions[t]?p().validPositions[t].match:w(t)[0].match}function b(t,e){for(var i=!1,n=w(t),o=0;o<n.length;o++)if(n[o].match&&n[o].match.def===e){i=!0;break}return i}function _(e,i){var n,o;return(p().tests[e]||p().validPositions[e])&&t.each(p().tests[e]||[p().validPositions[e]],function(t,e){var a=e.alternation?e.locator[e.alternation].toString().indexOf(i):-1;(void 0===o||o>a)&&-1!==a&&(n=e,o=a)}),n}function w(e,i,n){function o(i,n,a,s){function c(a,s,f){function m(e,i){var n=0===t.inArray(e,i.matches);return n||t.each(i.matches,function(t,o){return o.isQuantifier===!0&&(n=m(e,i.matches[t-1]))?!1:void 0}),n}function g(t,e){var i=_(t,e);return i?i.locator.slice(i.alternation+1):[]}if(l>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+p().mask;if(l===e&&void 0===a.matches)return u.push({match:a,locator:s.reverse(),cd:h}),!0;if(void 0!==a.matches){if(a.isGroup&&f!==a){if(a=c(i.matches[t.inArray(a,i.matches)+1],s))return!0}else if(a.isOptional){var v=a;if(a=o(a,n,s,f)){if(r=u[u.length-1].match,!m(r,v))return!0;d=!0,l=e}}else if(a.isAlternator){var y,b=a,w=[],k=u.slice(),C=s.length,x=n.length>0?n.shift():-1;if(-1===x||"string"==typeof x){var $,P=l,S=n.slice(),F=[];if("string"==typeof x)F=x.split(",");else for($=0;$<b.matches.length;$++)F.push($);for(var E=0;E<F.length;E++){if($=parseInt(F[E]),u=[],n=g(l,$),a=c(b.matches[$]||i.matches[$],[$].concat(s),f)||a,a!==!0&&void 0!==a&&F[F.length-1]<b.matches.length){var A=t.inArray(a,i.matches)+1;i.matches.length>A&&(a=c(i.matches[A],[A].concat(s.slice(1,s.length)),f),a&&(F.push(A.toString()),t.each(u,function(t,e){e.alternation=s.length-1})))}y=u.slice(),l=P,u=[];for(var D=0;D<S.length;D++)n[D]=S[D];for(var j=0;j<y.length;j++){var T=y[j];T.alternation=T.alternation||C;for(var O=0;O<w.length;O++){var I=w[O];if(T.match.def===I.match.def&&("string"!=typeof x||-1!==t.inArray(T.locator[T.alternation].toString(),F))){T.match.mask===I.match.mask&&(y.splice(j,1),j--),-1===I.locator[T.alternation].toString().indexOf(T.locator[T.alternation])&&(I.locator[T.alternation]=I.locator[T.alternation]+","+T.locator[T.alternation],I.alternation=T.alternation);break}}}w=w.concat(y)}"string"==typeof x&&(w=t.map(w,function(e,i){if(isFinite(i)){var n,o=e.alternation,a=e.locator[o].toString().split(",");e.locator[o]=void 0,e.alternation=void 0;for(var r=0;r<a.length;r++)n=-1!==t.inArray(a[r],F),n&&(void 0!==e.locator[o]?(e.locator[o]+=",",e.locator[o]+=a[r]):e.locator[o]=parseInt(a[r]),e.alternation=o);if(void 0!==e.locator[o])return e}})),u=k.concat(w),l=e,d=u.length>0}else a=c(b.matches[x]||i.matches[x],[x].concat(s),f);if(a)return!0}else if(a.isQuantifier&&f!==i.matches[t.inArray(a,i.matches)-1])for(var B=a,H=n.length>0?n.shift():0;H<(isNaN(B.quantifier.max)?H+1:B.quantifier.max)&&e>=l;H++){var R=i.matches[t.inArray(B,i.matches)-1];if(a=c(R,[H].concat(s),R)){if(r=u[u.length-1].match,r.optionalQuantifier=H>B.quantifier.min-1,m(r,R)){if(H>B.quantifier.min-1){d=!0,l=e;break}return!0}return!0}}else if(a=o(a,n,s,f))return!0}else l++}for(var f=n.length>0?n.shift():0;f<i.matches.length;f++)if(i.matches[f].isQuantifier!==!0){var m=c(i.matches[f],[f].concat(a),s);if(m&&l===e)return m;if(l>e)break}}function a(t){var e=t[0]||t;return e.locator.slice()}var r,s=p().maskToken,l=i?n:0,c=i||[0],u=[],d=!1,h=i?i.join(""):"";if(e>-1){if(void 0===i){for(var f,m=e-1;void 0===(f=p().validPositions[m]||p().tests[m])&&m>-1;)m--;void 0!==f&&m>-1&&(c=a(f),h=c.join(""),f=f[0]||f,l=m)}if(p().tests[e]&&p().tests[e][0].cd===h)return p().tests[e];for(var g=c.shift();g<s.length;g++){var v=o(s[g],c,[g]);if(v&&l===e||l>e)break}}return(0===u.length||d)&&u.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),p().tests[e]=t.extend(!0,[],u),p().tests[e]}function k(){return void 0===p()._buffer&&(p()._buffer=l(!1,1)),p()._buffer}function C(t){if(void 0===p().buffer||t===!0){if(t===!0)for(var e in p().tests)void 0===p().validPositions[e]&&delete p().tests[e];p().buffer=l(!0,f(),!0)}return p().buffer}function x(t,e,i){var n;if(i=i,t===!0)h(),t=0,e=i.length;else for(n=t;e>n;n++)delete p().validPositions[n],delete p().tests[n];for(n=t;e>n;n++)h(!0),i[n]!==r.skipOptionalPartCharacter&&S(n,i[n],!0,!0)}function $(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function P(e,i){for(var n=r.greedy?i:i.slice(0,1),o=!1,a=0;a<e.length;a++)if(-1!==t.inArray(e[a],n)){o=!0;break}return o}function S(e,i,n,o){function a(e,i,n,o){var a=!1;return t.each(w(e),function(s,l){for(var c=l.match,u=i?1:0,d="",v=c.cardinality;v>u;v--)d+=j(e-(v-1));if(i&&(d+=i),C(!0),a=null!=c.fn?c.fn.test(d,p(),e,n,r):i!==c.def&&i!==r.skipOptionalPartCharacter||""===c.def?!1:{c:c.placeholder||c.def,pos:e},a!==!1){var y=void 0!==a.c?a.c:i;y=y===r.skipOptionalPartCharacter&&null===c.fn?c.placeholder||c.def:y;var b=e,_=C();if(void 0!==a.remove&&(t.isArray(a.remove)||(a.remove=[a.remove]),t.each(a.remove.sort(function(t,e){return e-t}),function(t,e){g(e,e+1,!0)})),void 0!==a.insert&&(t.isArray(a.insert)||(a.insert=[a.insert]),t.each(a.insert.sort(function(t,e){return t-e}),function(t,e){S(e.pos,e.c,!1,o)})),a.refreshFromBuffer){var w=a.refreshFromBuffer;if(n=!0,x(w===!0?w:w.start,w.end,_),void 0===a.pos&&void 0===a.c)return a.pos=f(),!1;if(b=void 0!==a.pos?a.pos:e,b!==e)return a=t.extend(a,S(b,y,!0,o)),!1}else if(a!==!0&&void 0!==a.pos&&a.pos!==e&&(b=a.pos,x(e,b,C().slice()),b!==e))return a=t.extend(a,S(b,y,!0)),!1;return a!==!0&&void 0===a.pos&&void 0===a.c?!1:(s>0&&h(!0),m(b,t.extend({},l,{input:$(y,c)}),o)||(a=!1),!1)}}),a}function s(e,i,n,o){for(var a,s,l,c,u,d,m=t.extend(!0,{},p().validPositions),g=t.extend(!0,{},p().tests),y=f();y>=0&&(c=p().validPositions[y],!c||void 0===c.alternation||(a=y,s=p().validPositions[a].alternation,v(a).locator[c.alternation]===c.locator[c.alternation]));y--);if(void 0!==s){a=parseInt(a);for(var b in p().validPositions)if(b=parseInt(b),c=p().validPositions[b],b>=a&&void 0!==c.alternation){var w;0===a?(w=[],t.each(p().tests[a],function(t,e){void 0!==e.locator[s]&&(w=w.concat(e.locator[s].toString().split(",")))})):w=p().validPositions[a].locator[s].toString().split(",");var k=void 0!==c.locator[s]?c.locator[s]:w[0];k.length>0&&(k=k.split(",")[0]);for(var C=0;C<w.length;C++){var x=[],$=0,P=0;if(k<w[C]){for(var F,E,A=b;A>=0;A--)if(F=p().validPositions[A],void 0!==F){var D=_(A,w[C]);p().validPositions[A].match.def!==D.match.def&&(x.push(p().validPositions[A].input),p().validPositions[A]=D,p().validPositions[A].input=O(A),null===p().validPositions[A].match.fn&&P++,F=D),E=F.locator[s],F.locator[s]=parseInt(w[C]);break}if(k!==F.locator[s]){for(u=b+1;u<f(void 0,!0)+1;u++)d=p().validPositions[u],d&&null!=d.match.fn?x.push(d.input):e>u&&$++,delete p().validPositions[u],delete p().tests[u];for(h(!0),r.keepStatic=!r.keepStatic,l=!0;x.length>0;){var j=x.shift();if(j!==r.skipOptionalPartCharacter&&!(l=S(f(void 0,!0)+1,j,!1,o)))break}if(F.alternation=s,F.locator[s]=E,l){var T=f(e)+1;for(u=b+1;u<f()+1;u++)d=p().validPositions[u],(void 0===d||null==d.match.fn)&&e>u&&P++;e+=P-$,l=S(e>T?T:e,i,n,o)}if(r.keepStatic=!r.keepStatic,l)return l;h(),p().validPositions=t.extend(!0,{},m),p().tests=t.extend(!0,{},g)}}}break}}return!1}function l(e,i){for(var n=p().validPositions[i],o=n.locator,a=o.length,r=e;i>r;r++)if(void 0===p().validPositions[r]&&!F(r,!0)){var s=w(r),l=s[0],c=-1;t.each(s,function(t,e){for(var i=0;a>i&&void 0!==e.locator[i]&&P(e.locator[i].toString().split(","),o[i].toString().split(","));i++)i>c&&(c=i,l=e)}),m(r,t.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}n=n===!0;for(var c=C(),u=e-1;u>-1&&!p().validPositions[u];u--);for(u++;e>u;u++)void 0===p().validPositions[u]&&((!F(u)||c[u]!==O(u))&&w(u).length>1||c[u]===r.radixPoint||"0"===c[u]&&t.inArray(r.radixPoint,c)<u)&&a(u,c[u],!0,o);var d=e,y=!1,b=t.extend(!0,{},p().validPositions);if(d<E()&&(y=a(d,i,n,o),(!n||o===!0)&&y===!1)){var k=p().validPositions[d];if(!k||null!==k.match.fn||k.match.def!==i&&i!==r.skipOptionalPartCharacter){if((r.insertMode||void 0===p().validPositions[A(d)])&&!F(d,!0)){var D=v(d).match,D=D.placeholder||D.def;a(d,D,n,o);for(var T=d+1,I=A(d);I>=T;T++)if(y=a(T,i,n,o),y!==!1){l(d,T),d=T;break}}}else y={caret:A(d)}}if(y===!1&&r.keepStatic&&(y=s(e,i,n,o)),y===!0&&(y={pos:d}),t.isFunction(r.postValidation)&&y!==!1&&!n&&o!==!0){var B=r.postValidation(C(!0),y,r);if(B){if(B.refreshFromBuffer){var H=B.refreshFromBuffer;x(H===!0?H:H.start,H.end,B.buffer),h(!0),y=B}}else h(!0),p().validPositions=t.extend(!0,{},b),y=!1}return y}function F(t,e){var i;if(e?(i=v(t).match,""==i.def&&(i=y(t))):i=y(t),null!=i.fn)return i.fn;if(e!==!0&&t>-1&&!r.keepStatic&&void 0===p().validPositions[t]){var n=w(t);return n.length>2}return!1}function E(){var t;pt=void 0!==ut?ut.maxLength:void 0,-1===pt&&(pt=void 0);var e,i=f(),n=p().validPositions[i],o=void 0!==n?n.locator.slice():void 0;for(e=i+1;void 0===n||null!==n.match.fn||null===n.match.fn&&""!==n.match.def;e++)n=v(e,o,e-1),o=n.locator.slice();var a=y(e-1);return t=""!==a.def?e:e-1,void 0===pt||pt>t?t:pt}function A(t,e){var i=E();if(t>=i)return i;for(var n=t;++n<i&&(e===!0&&(y(n).newBlockMarker!==!0||!F(n))||e!==!0&&!F(n)&&(r.nojumps!==!0||r.nojumpsThreshold>n)););return n}function D(t,e){var i=t;if(0>=i)return 0;for(;--i>0&&(e===!0&&y(i).newBlockMarker!==!0||e!==!0&&!F(i)););return i}function j(t){return void 0===p().validPositions[t]?O(t):p().validPositions[t].input}function T(e,i,n,o,a){if(o&&t.isFunction(r.onBeforeWrite)){var s=r.onBeforeWrite(o,i,n,r);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;x(l===!0?l:l.start,l.end,s.buffer||i),i=C(!0)}void 0!==n&&(n=void 0!==s.caret?s.caret:n)}}e.inputmask._valueSet(i.join("")),void 0===n||void 0!==o&&"blur"===o.type||H(e,n),a===!0&&(gt=!0,t(e).trigger("input"))}function O(t,e){if(e=e||y(t),void 0!==e.placeholder)return e.placeholder;if(null===e.fn){if(t>-1&&!r.keepStatic&&void 0===p().validPositions[t]){var i,n=w(t),o=0;if(n.length>2)for(var a=0;a<n.length;a++)if(n[a].match.optionality!==!0&&n[a].match.optionalQuantifier!==!0&&(null===n[a].match.fn||void 0===i||n[a].match.fn.test(i.match.def,p(),t,!0,r)!==!1)&&(o++,null===n[a].match.fn&&(i=n[a]),o>1))return r.placeholder.charAt(t%r.placeholder.length)}return e.def}return r.placeholder.charAt(t%r.placeholder.length)}function I(i,n,o,a){function s(){var t=!1,e=k().slice(u,A(u)).join("").indexOf(c);if(-1!==e&&!F(u)){t=!0;for(var i=k().slice(u,u+e),n=0;n<i.length;n++)if(" "!==i[n]){t=!1;break}}return t}var l=a.slice(),c="",u=0;if(h(),p().p=A(-1),!o)if(r.autoUnmask!==!0){var d=k().slice(0,A(-1)).join(""),m=l.join("").match(new RegExp("^"+e.escapeRegex(d),"g"));m&&m.length>0&&(l.splice(0,m.length*d.length),u=A(u))}else u=A(u);t.each(l,function(e,n){if(void 0!==n){var a=new t.Event("keypress");a.which=n.charCodeAt(0),c+=n;var l=f(void 0,!0),d=p().validPositions[l],h=v(l+1,d?d.locator.slice():void 0,l);if(!s()||o||r.autoUnmask){var m=o?e:null==h.match.fn&&h.match.optionality&&l+1<p().p?l+1:p().p;V.call(i,a,!0,!1,o,m),u=m+1,c=""}else V.call(i,a,!0,!1,!0,l+1)}}),n&&T(i,C(),document.activeElement===i?A(f(0)):void 0,new t.Event("checkval"))}function B(e){if(e&&void 0===e.inputmask)return e.value;var i=[],n=p().validPositions;for(var o in n)n[o].match&&null!=n[o].match.fn&&i.push(n[o].input);var a=0===i.length?null:(ft?i.reverse():i).join("");if(null!==a){var s=(ft?C().slice().reverse():C()).join("");t.isFunction(r.onUnMask)&&(a=r.onUnMask(s,a,r)||a)}return a}function H(t,e,i,n){function o(t){if(n!==!0&&ft&&"number"==typeof t&&(!r.greedy||""!==r.placeholder)){var e=C().join("").length;t=e-t}return t}var a;if("number"!=typeof e)return t.setSelectionRange?(e=t.selectionStart,i=t.selectionEnd):window.getSelection?(a=window.getSelection().getRangeAt(0),(a.commonAncestorContainer.parentNode===t||a.commonAncestorContainer===t)&&(e=a.startOffset,i=a.endOffset)):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),i=e+a.text.length),{begin:o(e),end:o(i)};e=o(e),i=o(i),i="number"==typeof i?i:e;var s=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*i;if(t.scrollLeft=s>t.scrollWidth?s:0,c||r.insertMode!==!1||e!==i||i++,t.setSelectionRange)t.selectionStart=e,t.selectionEnd=i;else if(window.getSelection){if(a=document.createRange(),void 0===t.firstChild||null===t.firstChild){var l=document.createTextNode("");t.appendChild(l)}a.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),a.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),a.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(a)}else t.createTextRange&&(a=t.createTextRange(),a.collapse(!0),a.moveEnd("character",i),a.moveStart("character",e),a.select())}function R(e){var i,n,o=C(),a=o.length,r=f(),s={},l=p().validPositions[r],c=void 0!==l?l.locator.slice():void 0;for(i=r+1;i<o.length;i++)n=v(i,c,i-1),c=n.locator.slice(),s[i]=t.extend(!0,{},n);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=a-1;i>r&&(n=s[i],(n.match.optionality||n.match.optionalQuantifier||u&&(u!==s[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&P(n.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==w(i)[0].def))&&o[i]===O(i,n.match));i--)a--;return e?{l:a,def:s[a]?s[a].match:void 0}:a}function M(t){for(var e=R(),i=t.length-1;i>e&&!F(i);i--);return t.splice(e,i+1-e),t}function q(e){if(t.isFunction(r.isComplete))return r.isComplete(e,r);if("*"===r.repeat)return void 0;var i=!1,n=R(!0),o=D(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var a=0;o>=a;a++){var s=v(a).match;if(null!==s.fn&&void 0===p().validPositions[a]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null===s.fn&&e[a]!==O(a,s)){i=!1;break}}}return i}function z(t,e){return ft?t-e>1||t-e===1&&r.insertMode:e-t>1||e-t===1&&r.insertMode}function L(e){function i(e){if(t.valHooks&&(void 0===t.valHooks[e]||t.valHooks[e].inputmaskpatch!==!0)){var i=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},n=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=i(t),n=t.inputmask.maskset,o=n._buffer;return o=o?o.join(""):"",e!==o?e:""}return i(t)},set:function(e,i){var o,a=t(e);return o=n(e,i),e.inputmask&&a.trigger("setvalue"),o},inputmaskpatch:!0}}}function n(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():s.call(this)!==k().join("")?document.activeElement===this&&r.clearMaskOnLostFocus?(ft?M(C().slice()).reverse():M(C().slice())).join(""):s.call(this):"":s.call(this)}function o(e){l.call(this,e),this.inputmask&&t(this).trigger("setvalue")}function a(e){_t.on(e,"mouseenter",function(e){var i=t(this),n=this,o=n.inputmask._valueGet();o!==C().join("")&&f()>0&&i.trigger("setvalue")})}var s,l;e.inputmask.__valueGet||(Object.getOwnPropertyDescriptor&&void 0===e.value?(s=function(){return this.textContent},l=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:n,set:o})):document.__lookupGetter__&&e.__lookupGetter__("value")?(s=e.__lookupGetter__("value"),l=e.__lookupSetter__("value"),e.__defineGetter__("value",n),e.__defineSetter__("value",o)):(s=function(){return e.value},l=function(t){e.value=t},i(e.type),a(e)),e.inputmask.__valueGet=s,e.inputmask._valueGet=function(t){return ft&&t!==!0?s.call(this.el).split("").reverse().join(""):s.call(this.el)},e.inputmask.__valueSet=l,e.inputmask._valueSet=function(t,e){l.call(this.el,null===t||void 0===t?"":e!==!0&&ft?t.split("").reverse().join(""):t)})}function U(i,n,o,a){function s(){if(r.keepStatic){h(!0);var e,n=[],o=t.extend(!0,{},p().validPositions);for(e=f();e>=0;e--){var a=p().validPositions[e];if(a&&(null!=a.match.fn&&n.push(a.input),delete p().validPositions[e],void 0!==a.alternation&&a.locator[a.alternation]===v(e).locator[a.alternation]))break}if(e>-1)for(;n.length>0;){p().p=A(f());var s=new t.Event("keypress");s.which=n.pop().charCodeAt(0),V.call(i,s,!0,!1,!1,p().p)}else p().validPositions=t.extend(!0,{},o)}}if((r.numericInput||ft)&&(n===e.keyCode.BACKSPACE?n=e.keyCode.DELETE:n===e.keyCode.DELETE&&(n=e.keyCode.BACKSPACE),ft)){var l=o.end;o.end=o.begin,o.begin=l}n===e.keyCode.BACKSPACE&&(o.end-o.begin<1||r.insertMode===!1)?(o.begin=D(o.begin),void 0===p().validPositions[o.begin]||p().validPositions[o.begin].input!==r.groupSeparator&&p().validPositions[o.begin].input!==r.radixPoint||o.begin--):n===e.keyCode.DELETE&&o.begin===o.end&&(o.end=F(o.end)?o.end+1:A(o.end)+1,void 0===p().validPositions[o.begin]||p().validPositions[o.begin].input!==r.groupSeparator&&p().validPositions[o.begin].input!==r.radixPoint||o.end++),g(o.begin,o.end,!1,a),a!==!0&&s();var c=f(o.begin);c<o.begin?(-1===c&&h(),p().p=A(c)):a!==!0&&(p().p=o.begin)}function N(n){var o=this,a=t(o),s=n.keyCode,l=H(o);if(s===e.keyCode.BACKSPACE||s===e.keyCode.DELETE||d&&127===s||n.ctrlKey&&88===s&&!i("cut"))n.preventDefault(),88===s&&(lt=C().join("")),U(o,s,l),T(o,C(),p().p,n,lt!==C().join("")),o.inputmask._valueGet()===k().join("")?a.trigger("cleared"):q(C())===!0&&a.trigger("complete"),r.showTooltip&&(o.title=r.tooltip||p().mask);else if(s===e.keyCode.END||s===e.keyCode.PAGE_DOWN){n.preventDefault();var c=A(f());r.insertMode||c!==E()||n.shiftKey||c--,H(o,n.shiftKey?l.begin:c,c,!0)}else s===e.keyCode.HOME&&!n.shiftKey||s===e.keyCode.PAGE_UP?(n.preventDefault(),H(o,0,n.shiftKey?l.begin:0,!0)):(r.undoOnEscape&&s===e.keyCode.ESCAPE||90===s&&n.ctrlKey)&&n.altKey!==!0?(I(o,!0,!1,lt.split("")),a.trigger("click")):s!==e.keyCode.INSERT||n.shiftKey||n.ctrlKey?r.tabThrough===!0&&s===e.keyCode.TAB?(n.shiftKey===!0?(null===y(l.begin).fn&&(l.begin=A(l.begin)),l.end=D(l.begin,!0),l.begin=D(l.end,!0)):(l.begin=A(l.begin,!0),l.end=A(l.begin,!0),l.end<E()&&l.end--),l.begin<E()&&(n.preventDefault(),H(o,l.begin,l.end))):r.insertMode!==!1||n.shiftKey||(s===e.keyCode.RIGHT?setTimeout(function(){var t=H(o);H(o,t.begin)},0):s===e.keyCode.LEFT&&setTimeout(function(){var t=H(o);H(o,ft?t.begin+1:t.begin-1)},0)):(r.insertMode=!r.insertMode,H(o,r.insertMode||l.begin!==E()?l.begin:l.begin-1));r.onKeyDown.call(this,n,C(),H(o).begin,r),vt=-1!==t.inArray(s,r.ignorables)}function V(i,n,o,a,s){var l=this,c=t(l),u=i.which||i.charCode||i.keyCode;if(!(n===!0||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||vt))return u===e.keyCode.ENTER&&lt!==C().join("")&&(lt=C().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&i.shiftKey===!1&&","===r.radixPoint&&(u=44);var d,f=n?{begin:s,end:s}:H(l),g=String.fromCharCode(u),v=z(f.begin,f.end);v&&(p().undoPositions=t.extend(!0,{},p().validPositions),U(l,e.keyCode.DELETE,f,!0),f.begin=p().p,r.insertMode||(r.insertMode=!r.insertMode,m(f.begin,a),r.insertMode=!r.insertMode),v=!r.multi),p().writeOutBuffer=!0;var y=ft&&!v?f.end:f.begin,b=S(y,g,a);if(b!==!1){if(b!==!0&&(y=void 0!==b.pos?b.pos:y,g=void 0!==b.c?b.c:g),h(!0),void 0!==b.caret)d=b.caret;else{var _=p().validPositions;d=!r.keepStatic&&(void 0!==_[y+1]&&w(y+1,_[y].locator.slice(),y).length>1||void 0!==_[y].alternation)?y+1:A(y)}p().p=d}if(o!==!1){var k=this;if(setTimeout(function(){r.onKeyValidation.call(k,u,b,r)},0),p().writeOutBuffer&&b!==!1){var $=C();T(l,$,r.numericInput&&void 0===b.caret?D(d):d,i,n!==!0),n!==!0&&setTimeout(function(){q($)===!0&&c.trigger("complete")},0)}else v&&(p().buffer=void 0,p().validPositions=p().undoPositions)}else v&&(p().buffer=void 0,p().validPositions=p().undoPositions);if(r.showTooltip&&(l.title=r.tooltip||p().mask),n&&t.isFunction(r.onBeforeWrite)){var P=r.onBeforeWrite(i,C(),d,r);if(P&&P.refreshFromBuffer){var F=P.refreshFromBuffer;x(F===!0?F:F.start,F.end,P.buffer),h(!0),P.caret&&(p().p=P.caret)}}if(i.preventDefault(),n)return b}}function W(e){var i=this,n=e.originalEvent||e,o=t(i),a=i.inputmask._valueGet(!0),s=H(i),l=a.substr(0,s.begin),c=a.substr(s.end,a.length);l===k().slice(0,s.begin).join("")&&(l=""),c===k().slice(s.end).join("")&&(c=""),window.clipboardData&&window.clipboardData.getData?a=l+window.clipboardData.getData("Text")+c:n.clipboardData&&n.clipboardData.getData&&(a=l+n.clipboardData.getData("text/plain")+c);var u=a;if(t.isFunction(r.onBeforePaste)){if(u=r.onBeforePaste(a,r),u===!1)return e.preventDefault(),!1;u||(u=a)}return I(i,!1,!1,ft?u.split("").reverse():u.toString().split("")),T(i,C(),void 0,e,!0),o.trigger("click"),q(C())===!0&&o.trigger("complete"),!1}function Q(i){var n=this,o=n.inputmask._valueGet();if(C().join("")!==o){var a=H(n);if(o=o.replace(new RegExp("("+e.escapeRegex(k().join(""))+")*"),""),u){var r=o.replace(C().join(""),"");if(1===r.length){var s=new t.Event("keypress");return s.which=r.charCodeAt(0),V.call(n,s,!0,!0,!1,p().validPositions[a.begin-1]?a.begin:a.begin-1),!1}}if(a.begin>o.length&&(H(n,o.length),a=H(n)),C().length-o.length!==1||o.charAt(a.begin)===C()[a.begin]||o.charAt(a.begin+1)===C()[a.begin]||F(a.begin)){for(var l=f()+1,c=C().slice(l).join("");null===o.match(e.escapeRegex(c)+"$");)c=c.slice(1);o=o.replace(c,""),o=o.split(""),I(n,!0,!1,o),q(C())===!0&&t(n).trigger("complete")}else i.keyCode=e.keyCode.BACKSPACE,N.call(n,i);i.preventDefault()}}function G(t){var e=t.originalEvent||t;lt=C().join(""),""===ct||0!==e.data.indexOf(ct)}function K(e){var i=this,n=e.originalEvent||e,o=C().join("");0===n.data.indexOf(ct)&&(h(),p().p=A(-1));for(var a=n.data,s=0;s<a.length;s++){var l=new t.Event("keypress");l.which=a.charCodeAt(s),mt=!1,vt=!1,V.call(i,l,!0,!1,!1,p().p)}o!==C().join("")&&setTimeout(function(){var t=p().p;T(i,C(),r.numericInput?D(t):t)},0),ct=n.data}function X(t){}function Y(e){var i=this,n=i.inputmask._valueGet();I(i,!0,!1,(t.isFunction(r.onBeforeMask)?r.onBeforeMask(n,r)||n:n).split("")),lt=C().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&i.inputmask._valueGet()===k().join("")&&i.inputmask._valueSet("")}function Z(t){var e=this,i=e.inputmask._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""===i)?e.inputmask._valueGet()!==C().join("")&&T(e,C(),A(f())):yt===!1&&H(e,A(f())),r.positionCaretOnTab===!0&&setTimeout(function(){H(e,A(f()))},0),lt=C().join("")}function J(t){var e=this;if(yt=!1,r.clearMaskOnLostFocus&&document.activeElement!==e){var i=C().slice(),n=e.inputmask._valueGet();n!==e.getAttribute("placeholder")&&""!==n&&(-1===f()&&n===k().join("")?i=[]:M(i),T(e,i))}}function tt(e){function i(e){if(r.radixFocus&&""!==r.radixPoint){var i=p().validPositions;if(void 0===i[e]||i[e].input===O(e)){if(e<A(-1))return!0;var n=t.inArray(r.radixPoint,C());if(-1!==n){for(var o in i)if(o>n&&i[o].input!==O(o))return!1;return!0}}}return!1}var n=this;if(document.activeElement===n){var o=H(n);if(o.begin===o.end)if(i(o.begin))H(n,r.numericInput?A(t.inArray(r.radixPoint,C())):t.inArray(r.radixPoint,C()));else{var a=o.begin,s=f(a),l=A(s);l>a?H(n,F(a)||F(a-1)?a:A(a)):((C()[l]!==O(l)||!F(l,!0)&&y(l).def===O(l))&&(l=A(l)),H(n,l))}}}function et(t){var e=this;setTimeout(function(){H(e,0,A(f()))},0)}function it(i){var n=this,o=t(n),a=H(n),s=i.originalEvent||i,l=window.clipboardData||s.clipboardData,c=ft?C().slice(a.end,a.begin):C().slice(a.begin,a.end);l.setData("text",ft?c.reverse().join(""):c.join("")),document.execCommand&&document.execCommand("copy"),
U(n,e.keyCode.DELETE,a),T(n,C(),p().p,i,lt!==C().join("")),n.inputmask._valueGet()===k().join("")&&o.trigger("cleared"),r.showTooltip&&(n.title=r.tooltip||p().mask)}function nt(e){var i=t(this),n=this;if(n.inputmask){var o=n.inputmask._valueGet(),a=C().slice();lt!==a.join("")&&setTimeout(function(){i.trigger("change"),lt=a.join("")},0),""!==o&&(r.clearMaskOnLostFocus&&(-1===f()&&o===k().join("")?a=[]:M(a)),q(a)===!1&&(setTimeout(function(){i.trigger("incomplete")},0),r.clearIncomplete&&(h(),a=r.clearMaskOnLostFocus?[]:k().slice())),T(n,a,void 0,e))}}function ot(t){var e=this;yt=!0,document.activeElement!==e&&r.showMaskOnHover&&e.inputmask._valueGet()!==C().join("")&&T(e,C())}function at(t){lt!==C().join("")&&dt.trigger("change"),r.clearMaskOnLostFocus&&-1===f()&&ut.inputmask._valueGet&&ut.inputmask._valueGet()===k().join("")&&ut.inputmask._valueSet(""),r.removeMaskOnSubmit&&(ut.inputmask._valueSet(ut.inputmask.unmaskedvalue(),!0),setTimeout(function(){T(ut,C())},0))}function rt(t){setTimeout(function(){dt.trigger("setvalue")},0)}function st(e){if(ut=e,dt=t(ut),r.showTooltip&&(ut.title=r.tooltip||p().mask),("rtl"===ut.dir||r.rightAlign)&&(ut.style.textAlign="right"),("rtl"===ut.dir||r.numericInput)&&(ut.dir="ltr",ut.removeAttribute("dir"),ut.inputmask.isRTL=!0,ft=!0),_t.off(ut),L(ut),n(ut,r)&&(_t.on(ut,"submit",at),_t.on(ut,"reset",rt),_t.on(ut,"mouseenter",ot),_t.on(ut,"blur",nt),_t.on(ut,"focus",Z),_t.on(ut,"mouseleave",J),_t.on(ut,"click",tt),_t.on(ut,"dblclick",et),_t.on(ut,"paste",W),_t.on(ut,"dragdrop",W),_t.on(ut,"drop",W),_t.on(ut,"cut",it),_t.on(ut,"complete",r.oncomplete),_t.on(ut,"incomplete",r.onincomplete),_t.on(ut,"cleared",r.oncleared),_t.on(ut,"keydown",N),_t.on(ut,"keypress",V),_t.on(ut,"input",Q),c||(_t.on(ut,"compositionstart",G),_t.on(ut,"compositionupdate",K),_t.on(ut,"compositionend",X))),_t.on(ut,"setvalue",Y),""!==ut.inputmask._valueGet()||r.clearMaskOnLostFocus===!1){var i=t.isFunction(r.onBeforeMask)?r.onBeforeMask(ut.inputmask._valueGet(),r)||ut.inputmask._valueGet():ut.inputmask._valueGet();I(ut,!0,!1,i.split(""));var o=C().slice();lt=o.join(""),q(o)===!1&&r.clearIncomplete&&h(),r.clearMaskOnLostFocus&&(o.join("")===k().join("")?o=[]:M(o)),T(ut,o),document.activeElement===ut&&H(ut,A(f()))}}var lt,ct,ut,dt,pt,ht,ft=!1,mt=!1,gt=!1,vt=!1,yt=!0,bt=!1,_t={on:function(i,n,o){var a=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=t.data(this,"_inputmask_opts");n?new e(n).mask(this):_t.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||r.tabThrough===!1&&i.keyCode===e.keyCode.TAB))){switch(i.type){case"input":if(gt===!0||bt===!0)return gt=bt,i.preventDefault();break;case"keydown":mt=!1,gt=!1,bt=!1;break;case"keypress":if(mt===!0)return i.preventDefault();mt=!0;break;case"compositionstart":bt=!0;break;case"compositionupdate":gt=!0;break;case"compositionend":bt=!1;break;case"cut":gt=!0;break;case"click":if(u){var a=this;return setTimeout(function(){o.apply(a,arguments)},0),!1}}return o.apply(this,arguments)}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(a),-1!==t.inArray(n,["submit","reset"])?null!=i.form&&t(i.form).on(n,a):t(i).on(n,a)},off:function(e,i){if(e.inputmask&&e.inputmask.events){var n;i?(n=[],n[i]=e.inputmask.events[i]):n=e.inputmask.events,t.each(n,function(i,n){for(;n.length>0;){var o=n.pop();-1!==t.inArray(i,["submit","reset"])?null!=e.form&&t(e.form).off(i,o):t(e).off(i,o)}delete e.inputmask.events[i]})}}};if(void 0!==o)switch(o.action){case"isComplete":return ut=o.el,q(C());case"unmaskedvalue":return ut=o.el,void 0!==ut&&void 0!==ut.inputmask?(a=ut.inputmask.maskset,r=ut.inputmask.opts,ft=ut.inputmask.isRTL):(ht=o.value,r.numericInput&&(ft=!0),ht=(t.isFunction(r.onBeforeMask)?r.onBeforeMask(ht,r)||ht:ht).split(""),I(void 0,!1,!1,ft?ht.reverse():ht),t.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,C(),0,r)),B(ut);case"mask":ut=o.el,a=ut.inputmask.maskset,r=ut.inputmask.opts,ft=ut.inputmask.isRTL,lt=C().join(""),st(ut);break;case"format":return r.numericInput&&(ft=!0),ht=(t.isFunction(r.onBeforeMask)?r.onBeforeMask(o.value,r)||o.value:o.value).split(""),I(void 0,!1,!1,ft?ht.reverse():ht),t.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,C(),0,r),o.metadata?{value:ft?C().slice().reverse().join(""):C().join(""),metadata:s({action:"getmetadata"},a,r)}:ft?C().slice().reverse().join(""):C().join("");case"isValid":r.numericInput&&(ft=!0),o.value?(ht=o.value.split(""),I(void 0,!1,!0,ft?ht.reverse():ht)):o.value=C().join("");for(var wt=C(),kt=R(),Ct=wt.length-1;Ct>kt&&!F(Ct);Ct--);return wt.splice(kt,Ct+1-kt),q(wt)&&o.value===C().join("");case"getemptymask":return k();case"remove":ut=o.el,dt=t(ut),a=ut.inputmask.maskset,r=ut.inputmask.opts,ut.inputmask._valueSet(B(ut)),_t.off(ut);var xt;Object.getOwnPropertyDescriptor&&(xt=Object.getOwnPropertyDescriptor(ut,"value")),xt&&xt.get?ut.inputmask.__valueGet&&Object.defineProperty(ut,"value",{get:ut.inputmask.__valueGet,set:ut.inputmask.__valueSet}):document.__lookupGetter__&&ut.__lookupGetter__("value")&&ut.inputmask.__valueGet&&(ut.__defineGetter__("value",ut.inputmask.__valueGet),ut.__defineSetter__("value",ut.inputmask.__valueSet)),ut.inputmask=void 0;break;case"getmetadata":if(t.isArray(a.metadata)){for(var $t,Pt=f(),St=Pt;St>=0;St--)if(p().validPositions[St]&&void 0!==p().validPositions[St].alternation){$t=p().validPositions[St].alternation;break}return void 0!==$t?a.metadata[p().validPositions[Pt].locator[$t]]:a.metadata[0]}return a.metadata}}e.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,i){return t.isFunction(i.onBeforeMask)?i.onBeforeMask(e,i):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:t.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1},masksCache:{},mask:function(i){var n=this;return"string"==typeof i&&(i=document.getElementById(i)||document.querySelectorAll(i)),i=i.nodeName?[i]:i,t.each(i,function(i,o){var l=t.extend(!0,{},n.opts);a(o,l,t.extend(!0,{},n.userOptions));var c=r(l,n.noMasksCache);void 0!==c&&(void 0!==o.inputmask&&o.inputmask.remove(),o.inputmask=new e,o.inputmask.opts=l,o.inputmask.noMasksCache=n.noMasksCache,o.inputmask.userOptions=t.extend(!0,{},n.userOptions),o.inputmask.el=o,o.inputmask.maskset=c,o.inputmask.isRTL=!1,t.data(o,"_inputmask_opts",l),s({action:"mask",el:o}))}),i&&i[0]?i[0].inputmask||this:this},option:function(e){return"string"==typeof e?this.opts[e]:"object"==typeof e?(t.extend(this.opts,e),t.extend(this.userOptions,e),this.el&&(void 0!==e.mask||void 0!==e.alias?this.mask(this.el):(t.data(this.el,"_inputmask_opts",this.opts),s({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(t){return s({action:"unmaskedvalue",el:this.el,value:t},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(s({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return s({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return s({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return s({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(t){return s({action:"isValid",value:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(t,e){return s({action:"format",value:t,metadata:e},this.maskset||r(this.opts,this.noMasksCache),this.opts)}},e.extendDefaults=function(i){t.extend(!0,e.prototype.defaults,i)},e.extendDefinitions=function(i){t.extend(!0,e.prototype.defaults.definitions,i)},e.extendAliases=function(i){t.extend(!0,e.prototype.defaults.aliases,i)},e.format=function(t,i,n){return e(i).format(t,n)},e.unmask=function(t,i){return e(i).unmaskedvalue(t)},e.isValid=function(t,i){return e(i).isValid(t)},e.remove=function(e){t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},e.escapeRegex=function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},e.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var l=navigator.userAgent,c=/mobile/i.test(l),u=/iemobile/i.test(l),d=/iphone/i.test(l)&&!u;return/android.*safari.*/i.test(l)&&!u,window.Inputmask=e,e}),/*!
* inputmask.phone.extensions.js
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2016 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.2.7
*/
!function(t){"function"==typeof define&&define.amd?define(["jquery","inputmask"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("./inputmask")):t(window.dependencyLib||jQuery,window.Inputmask)}(function(t,e){return e.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",phoneCodeCache:{},mask:function(e){if(void 0===e.phoneCodeCache[e.url]){var i=[];e.definitions["#"]=e.definitions[9],t.ajax({url:e.url,async:!1,type:"get",dataType:"json",success:function(t){i=t},error:function(t,i,n){alert(n+" - "+e.url)}}),e.phoneCodeCache[e.url]=i.sort(function(t,e){return(t.mask||t)<(e.mask||e)?-1:1})}return e.phoneCodeCache[e.url]},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(t,e){var i=t.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(i.indexOf(e.countrycode)>1||-1===i.indexOf(e.countrycode))&&(i="+"+e.countrycode+i),i}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),e}),/*!
* jquery.inputmask.js
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2016 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.2.7
*/
!function(t){"function"==typeof define&&define.amd?define(["jquery","inputmask"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("./inputmask")):t(jQuery,window.Inputmask)}(function(t,e){return void 0===t.fn.inputmask&&(t.fn.inputmask=function(i,n){var o,a=this[0];if(n=n||{},"string"==typeof i)switch(i){case"unmaskedvalue":return a&&a.inputmask?a.inputmask.unmaskedvalue():t(a).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return a&&a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":return a&&a.inputmask?a.inputmask.hasMaskedValue():!1;case"isComplete":return a&&a.inputmask?a.inputmask.isComplete():!0;case"getmetadata":return a&&a.inputmask?a.inputmask.getmetadata():void 0;case"setvalue":t(a).val(n),a&&void 0!==a.inputmask&&t(a).triggerHandler("setvalue");break;case"option":if("string"!=typeof n)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void 0});if(a&&void 0!==a.inputmask)return a.inputmask.option(n);break;default:return n.alias=i,o=new e(n),this.each(function(){o.mask(this)})}else{if("object"==typeof i)return o=new e(i),void 0===i.mask&&void 0===i.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void o.mask(this)}):this.each(function(){o.mask(this)});if(void 0===i)return this.each(function(){o=new e(n),o.mask(this)})}}),t.fn.inputmask});var ready=function(){$.getScript("http://platform.linkedin.com/in.js"),initBIPListeners(),initTagsListeners(),initListeners(),configPlugins(),configUnderscore(),configS3Upload(),window.setTimeout(function(){$("#contribution-connections iframe").each(function(){$(this).prop("tabIndex","-1")})},1e3)};$(document).ready(ready),$(document).on("page:load",ready);