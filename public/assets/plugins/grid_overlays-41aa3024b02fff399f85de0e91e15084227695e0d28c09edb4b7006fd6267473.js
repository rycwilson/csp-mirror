!function(){function e(e){var t,n;return"x"===e?(t=f.clientWidth,n=window.innerWidth):"y"===e&&(t=f.clientHeight,n=window.innerHeight),t<n?n:t}function t(){return window.pageXOffset||f.scrollLeft}function n(){return window.pageYOffset||f.scrollTop}function o(){i()}function i(){[].slice.call(g).forEach(function(e,t){e.addEventListener("click",function(n){return n.preventDefault(),!(W||E===t||!$(e).hasClass("loaded"))&&(W=!0,E=t,classie.add(e,"grid__item--loading"),void setTimeout(function(){classie.add(e,"grid__item--animate"),setTimeout(function(){s(e)},0)},0))})}),T.addEventListener("click",function(){$("body").css("overflow-y","auto"),r()}),document.addEventListener("keydown",function(e){if(!W&&E!==-1){var t=e.keyCode||e.which;27===t&&(e.preventDefault(),"activeElement"in document&&document.activeElement.blur(),r())}})}function s(t){var o=document.createElement("div");$(o).css("top",($("section.grid").offset().top*-1).toString()+"px"),o.className="placeholder",o.style.WebkitTransform="translate3d("+(t.offsetLeft-5)+"px, "+(t.offsetTop-5)+"px, 0px) scale3d("+t.offsetWidth/w.offsetWidth+","+t.offsetHeight/e("y")+",1)",o.style.transform="translate3d("+(t.offsetLeft-5)+"px, "+(t.offsetTop-5)+"px, 0px) scale3d("+t.offsetWidth/w.offsetWidth+","+t.offsetHeight/e("y")+",1)",classie.add(o,"placeholder--trans-in"),w.appendChild(o),classie.add(d,"view-single"),setTimeout(function(){o.style.WebkitTransform="translate3d(-5px, "+(n()-5)+"px, 0px)",o.style.transform="translate3d(-5px, "+(n()-5)+"px, 0px)",window.addEventListener("scroll",a)},25),h(o,function(){classie.remove(o,"placeholder--trans-in"),classie.add(o,"placeholder--trans-out"),y.style.top=n()+"px",classie.add(y,"content--show"),classie.add(x[E],"content__item--show"),classie.add(T,"close-button--show"),classie.addClass(d,"noscroll"),W=!1,$("body").css("overflow-y","hidden"),$("section.content").animate({top:"+="+($("section.grid").offset().top*-1).toString()+"px"},0)})}function r(){var t=g[E],n=x[E];classie.remove(n,"content__item--show"),classie.remove(y,"content--show"),classie.remove(T,"close-button--show"),classie.remove(d,"view-single"),setTimeout(function(){var o=w.querySelector(".placeholder");classie.removeClass(d,"noscroll"),o.style.WebkitTransform="translate3d("+t.offsetLeft+"px, "+t.offsetTop+"px, 0px) scale3d("+t.offsetWidth/w.offsetWidth+","+t.offsetHeight/e("y")+",1)",o.style.transform="translate3d("+t.offsetLeft+"px, "+t.offsetTop+"px, 0px) scale3d("+t.offsetWidth/w.offsetWidth+","+t.offsetHeight/e("y")+",1)",$(o).css("top","0px"),h(o,function(){n.parentNode.scrollTop=0,w.removeChild(o),classie.remove(t,"grid__item--loading"),classie.remove(t,"grid__item--animate"),_=!1,window.removeEventListener("scroll",a)}),E=-1},25)}function a(){_||(_=!0,c=t(),l=n()),window.scrollTo(c,l)}var c,l,d=document.body,f=window.document.documentElement,u={transitions:Modernizr.csstransitions},p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},m=p[Modernizr.prefixed("transition")],h=function(e,t){var n=function(e){if(u.transitions){if(e.target!=this)return;this.removeEventListener(m,n)}t&&"function"==typeof t&&t.call(this)};u.transitions?e.addEventListener(m,n):n()},v=document.getElementById("cs-gallery"),w=v.querySelector("section.grid"),y=v.querySelector("section.content"),g=w.querySelectorAll(".grid__item"),x=y.querySelectorAll(".content__item"),T=y.querySelector(".close-button"),E=-1,_=!1,W=!1;o()}();