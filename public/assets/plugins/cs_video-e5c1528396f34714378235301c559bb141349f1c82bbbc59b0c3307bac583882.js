function cspInitVideo(i,e,t){function o(){if(e.find(".cs-testimonial").hasClass("no-video")||0===l.length||0!==l.find("img").not("#cs-video-placeholder").length)return!1;var n=function(){l.append('<img src="'+c+'">')},o=function(){l.empty().append('<img id="cs-video-placeholder" src="'+VIDEO_PLACEHOLDER_URL+'" alt="video placeholder">')};"youtube"===u?(c="https://img.youtube.com/vi/"+r+"/hqdefault.jpg",i.when(n()).done(function(){var o=e.find(".cs-story-video-xs img, .cs-story-video img"),n=0;o.on("load",function(){++n===o.length&&(120===o[0].naturalWidth?s(t):i.when(l.find("img").after('<div class="play-button"><i class="fa fa-2x fa-inverse fa-play"></i></div>')).done(a))})})):"vimeo"===u&&i.ajax({url:"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+r,method:"GET",dataType:"json"}).done(function(o){c=o.thumbnail_url_with_play_button,i.when(n()).then(a)}).fail(function(){i("body").hasClass("stories show")?s():(o(),l.css("padding-bottom","0"))})}function s(){i(".cs-story-video-xs").remove()}function n(){"youtube"===u?v.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):"vimeo"===u&&v.postMessage('{"method":"pause"}',"*")}function a(){i("#cs-video-modal").on("show.bs.modal",function(o){o.preventDefault()}).on("hide.bs.modal",n),i(".cs-content").on("click",".cs-close",n).on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){}),i(".video-thumb-container").on("click","img, .play-button",function(){"youtube"===u?d=(m.includes("?")?"&":"?")+"autoplay=1&enablejsapi=1&controls=0&iv_load_policy=3&showinfo=0&rel=0":"vimeo"===u&&(d=(m.includes("?")?"&":"?")+"autoplay=1"),m+=d,f.one("load",function(){i(this).closest(".video-thumb-container").children(":not(iframe)").remove(),i(this).removeClass("hidden")}).attr("src",m)})}var d,c,l=e.find(".video-thumb-container"),u=l.data("provider"),r=l.data("video-id"),m=l.data("video-url");if(["youtube","vimeo"].includes(u))var f=i(window).width()<768?e.find(".cs-story-video-xs iframe"):e.find(".cs-story-video iframe"),v=f[0].contentWindow;o()}