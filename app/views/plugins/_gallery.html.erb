
<div class="cs-overlay-container <%= pre_selected_story.present? ? 'pre-selected' : '' %>">

  <div class="cs-main">

    <section class="cs-grid" style="visibility: hidden">

      <% stories.each do |story| %>

        <%= render(
              'stories/shared/story_card',
              {
                story: story,
                is_curator: false,
                is_plugin: true,
                is_external: true,
                grayscale: grayscale,
                logo_only: logos_only,
                plugin_type: 'gallery',
                is_pre_selected: pre_selected_story.try(:id) == story.id
              }
            ) %>

      <% end %>

    </section><!-- /grid -->

    <section class="cs-content">

      <div class="scroll-wrap">

        <% stories.each do |story| %>

          <div class="content__item">

            <% if pre_selected_story.try(:id) == story.id %>

              <%= render(
                    story.published? ? 'stories/show/story' : 'stories/show/preview',
                    {
                      company: story.company,
                      story: story,
                      contributors: contributors,
                      related_stories: nil,
                      is_plugin: true,
                      plugin_type: 'gallery',
                      window_width: window_width
                    }
                  ) %>

            <% end %>

          </div>

        <% end %>

      </div>

      <!-- <button class="close-button"><i class="fa fa-times-thin fa-3x"></i><span>Close</span></button> -->

      <button class="visible-xs-inline cs-close-xs">
        <span class="fa-stack">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-times-thin fa-inverse fa-stack-1x"></i>
        </span>
      </button>

    </section><!-- /content -->

  </div><!-- /main -->

</div>