
(function () {

  // changes have been saved, no longer dirty
  $('#crowdsourcing-template-form').data('dirty', '')

  // this will be used to tell the server to send a flash message
  $('#crowdsourcing-template-form').data('new', '1')

  // update template select options
  $('select.crowdsourcing-template')
    .select2('destroy').empty()
    .prepend('<option selected/>')  // placeholder
    .select2({
      theme: 'bootstrap',
      placeholder: 'Select',
      data: <%= raw @company.crowdsourcing_templates.grouped_select2_options().to_json %>
    })
    .val('<%= @template.id %>').trigger('change')  // get the new template

}());