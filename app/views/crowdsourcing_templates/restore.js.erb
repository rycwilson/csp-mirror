
(function () {

  var flashMesg = '<%= @selected_or_all %>' === 'all' ?
        'Templates restored: Customer, Customer Success, Sales' :
        'Template restored: ' + $('select.crowdsourcing-template').select2('data')[0].text;

  if (<%= @refresh_template %>) {

    // don't trigger an unsaved changes warning
    $('#crowdsourcing-template-form').data('dirty', '');

    $.when(
      $('select.crowdsourcing-template').trigger('change')
    ).then(function () {
      console.log('restore.js.erb');
      flashDisplay(flashMesg, 'success');
    })

  } else {
    flashDisplay(flashMesg, 'success')
  }

}());