
<div class="row">
  <!-- appearance and behavior -->
  <div class="col-sm-6">

    <p class='lead'>Appearance and Behavior</p>

    <%= form_for widget, url: widget_company_path(company),
          method: :put, remote: true do |f| %>

      <div class="form-group">
        <div class="row color-picker">
          <div class="col-sm-6">
            <%= f.label :tab_color, 'Tab color', class: 'control-label' %>
            <%= f.text_field :tab_color, class: 'form-control mini-colors' %>
          </div>
          <div class="col-sm-6">
            <%= f.label :text_color, 'Text color', class: 'control-label' %>
            <%= f.text_field :text_color, class: 'form-control mini-colors' %>
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-sm-7">
            <label>Show Carousel on Story page load?</label>
          </div>
          <div class='col-sm-5 btn-group text-right' data-toggle="buttons">
              <%= f.label :show, class: 'radio-inline' do %>
                <%= f.radio_button :show, true %>
                Yes
              <% end %>
              <%= f.label :show, class: 'radio-inline' do %>
                <%= f.radio_button :show, false %>
                No
              <% end %>
          </div>
        </div>

        <div class="row widget-show-freq <%= widget.show? ? '' : 'disabled' %>"
             style='display:flex;align-items:center'>
          <div class="col-sm-6">
            <%= f.label :show_freq, 'Show once per (days)' %>
          </div>
          <div class="col-sm-6">
            <div class="input-group spinner">
              <%= f.text_field :show_freq, min: '0', class: 'form-control',
                                disabled: !widget.show? %>
              <div class="input-group-btn-vertical">
                <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
              </div>
            </div>
          </div>
        </div>

        <div class="row widget-show-delay <%= widget.show? ? '' : 'disabled' %>"
             style='display:flex;align-items:center'>
          <div class="col-sm-6">
            <%= f.label :show_delay, 'Show after (milliseconds)' %>
          </div>
          <div class="col-sm-6">
            <div class="input-group spinner">
              <%= f.text_field :show_delay, min: '5000',
                    class: 'form-control', disabled: !widget.show? %>
              <div class="input-group-btn-vertical">
                <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row widget-hide <%= widget.show? ? '' : 'disabled' %>">
          <div class="col-sm-7">
            <label>Hide Carousel after showing?</label>
          </div>
          <div class='col-sm-5 btn-group text-right' data-toggle="buttons">
            <%= f.label :hide, class: 'radio-inline' do %>
              <%= f.radio_button :hide, true, disabled: !widget.show? %>
              Yes
            <% end %>
            <%= f.label :hide, class: 'radio-inline' do %>
              <%= f.radio_button :hide, false, disabled: !widget.show? %>
              No
            <% end %>
          </div>
        </div>

        <div class="row widget-hide-delay <%= widget.hide? ? '' : 'disabled' %>"
             style='display:flex;align-items:center'>
          <div class="col-sm-6">
            <%= f.label :hide_delay, 'Hide after (milliseconds)' %>
          </div>
          <div class="col-sm-6">
            <div class="input-group spinner">
              <%= f.text_field :hide_delay, min: '5000', class: 'form-control',
                      disabled: !widget.hide? %>
              <div class="input-group-btn-vertical">
                <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <hr>

      <!-- <div class="form-group text-right">

        <button type="reset" id='widget-form-reset' class="btn btn-default">
          Cancel
        </button>

      </div> -->
      <div class="form-group">
        <div class="row">
          <div class="col-sm-12 text-right">
            <span class='widget-form-confirm' style='display:none;color:#5cb85c'>
                  <i class='fa fa-check'></i>
                </span>&nbsp;&nbsp;
            <input type='submit' id='widget-form-submit'
                class='btn btn-success' value='Save'>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <!-- deploy to your site -->
  <div class="col-sm-6">

    <p class='lead'>Deploy to your website</p>

    <div class="form-group">

      <div class="row">
        <div class="col-sm-2">
          <label>Filter</label>
        </div>
        <div class='btn-group col-sm-10 text-right' data-toggle="buttons">
          <%= label_tag 'widget[filter]', class: 'radio-inline' do %>
            <%= radio_button_tag 'widget[filter]', 'none', true, checked: true %>
            none
          <% end %>
          <%= label_tag 'widget[filter]', class: 'radio-inline' do %>
            <%= radio_button_tag 'widget[filter]', 'category', false, disabled: company.story_categories.empty? %>
            category
          <% end %>
          <%= label_tag 'widget[filter]', class: 'radio-inline' do %>
            <%= radio_button_tag 'widget[filter]', 'product', false, disabled: company.products.empty? %>
            product
          <% end %>
        </div>
      </div>

      <div id='widget-filter-category-container'>
        <div class="row" style="display:flex;align-items:center">
          <div class="col-sm-3">
            <label>Category</label>
          </div>
          <div class="col-sm-9">
            <%= select_tag 'category',
                  options_for_select(company.story_categories.select_options.unshift([""])),
                  class: 'widget-filter-category form-control' %>
          </div>
        </div>
      </div>

      <div id='widget-filter-product-container'>
        <div class="row" style="display:flex;align-items:center">
          <div class="col-sm-3">
            <label>Product</label>
          </div>
          <div class="col-sm-9">
            <%= select_tag 'product',
                  options_for_select(company.products.select_options.unshift([""])),
                  class: 'widget-filter-product form-control' %>
          </div>
        </div>
      </div>
    </div>

    <hr>

    <div class="row">
      <div class="col-sm-12 text-right">
        <button type='button' id='widget-html-btn' class='btn btn-success'>
          Generate HTML
        </button>
      </div>
    </div>

    <!-- leave spacing as is for textarea input -->
    <div class="row">
      <div class="col-sm-12">
        <i id='html-to-clipboard' class="fa fa-clipboard bip-clickable"></i>
        <textarea class='form-control' id="widget-html"
            style='width:100%;visibility:hidden' rows="5" readonly><script type='text/javascript' src='//<%= company.subdomain %>.<%= ENV["HOST_NAME"] %>/widgets/tab/cs.js' data-position='tab' data-category='' data-product=''></script>
<div id='cs-tab-container'></div></textarea>
      </div>
    </div>

</div>