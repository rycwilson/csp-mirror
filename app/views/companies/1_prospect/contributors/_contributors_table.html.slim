= render( \
    'companies/shared/table_controls',
    { company: company, 
      curator_id: current_user.id,
      model_name: 'Contributor',
      modal_turbo_frame_attrs: { \
        id: 'new-contribution', 
        src: '/successes/0/contributions/new' },
      search_target: 'contributorsFilter',
      search_options: { \
        'Customer' => company.customers.map { |customer| [customer.name, "customer-#{customer.id}"] },
        'Customer Win' => company.successes.map { |success| [success.name, "success-#{success.id}"] },
        'Contributor' => company.contributors.map { |user| [user.full_name, "contributor-#{user.id}"] } } })

/ it's actually a contributions table, but presented to the user as Contributors
table#contributors-table.datatable.table.table-bordered.has-row-groups {
  data-controller="datatable"
  data-resource-target="datatable"
  data-datatable-dashboard-outlet=".dashboard"
  data-datatable-resource-outlet="#contributors"
  data-datatable-enable-row-groups-value="true"
  data-action="datatable:init->resource#tableInitComplete"
  cellspacing="0" 
  width="100%" }

  thead
    tr
      th.toggle-contributor-child
        / padding ensures a min width; specified in dt init but may fall short
        i.fa.fa-user style="color:#666; padding: 0 6px"
      th Contributor

      / hidden
      th Customer Win

      th Invitation Template

      / hidden
      th Curator
      th Customer
      
      th Status
      th.actions Actions

      / hidden boolean
      th Story Published