
<%= form_for @company,
  html: { class: 'directUpload',
           data: {
             'form-data' => (@s3_direct_post.fields),
                   'url' => @s3_direct_post.url,
                  'host' => URI.parse(@s3_direct_post.url).host
                  } } do |f| %>
<div class="col-md-5">

  <div class="form-group required-input">
    <%= f.label :name, class: 'control-label' %>
    <%= f.text_field :name, class: 'form-control'%>
  </div>

  <div class="form-group required-input">
    <%= f.label :subdomain, class: 'control-label' %>
    <%= f.text_field :subdomain, class: 'form-control'%>
  </div>

  <div class="form-group required-input">
    <%= f.label :website, class: 'control-label' %>
    <%= f.text_field :website, class: 'form-control'%>
  </div>

  <label>Logo</label>  <!-- have to pull this out for proper styling -->
  <div class="form-group">

    <div class="fileinput <%= @company.logo_url.blank? ? 'fileinput-new' : 'fileinput-exists' %>" data-provides="fileinput" style='margin:0'>

      <div class="fileinput-new thumbnail"
          style="width: 100px; height: 100px;">
        <%= image_tag "company-logo-missing.png", alt: 'logo missing' %>
      </div>

      <div class="fileinput-preview fileinput-exists thumbnail"
          data-trigger="fileinput"
          style="width: 100px; height: 100px;">
        <img src="<%= @company.logo_url %>" alt="company logo">
      </div>

      <div>
        <span class="btn btn-default btn-file">
          <span class="fileinput-new">
            Select image
          </span>
          <span class="fileinput-exists">
            Change
          </span>
          <%= f.file_field :logo_url %>
        </span> <br>

        <a href="#" class="btn btn-default fileinput-exists" data-dismiss="fileinput">
          Remove
        </a>
      </div>

    </div> <!-- /.fileupload -->
  </div>  <!-- form-group -->
</div>  <!-- col -->

<div class="col-md-7">

  <div class="form-group">

    <%= label_tag 'company_tags[category][]', 'Categories', class: 'control-label' %>
    <%= select_tag 'company_tags[category][]',
          # none presently exist, so pass empty array...
          options_for_select([]),
          { multiple: 'true', class: 'company-tags form-control',
            # placeholder: doesn't work from here, set in js
            style: 'width:100%' } %>
  </div>

<!--   <div class="form-group">
    <%#= label_tag 'Product categories', nil, class: 'control-label' %>
    <%#= select_tag 'company_tags[product_category][]',
          # none presently exist, so pass empty array...
          options_for_select([]),
          { multiple: 'true', class: 'company-tags form-control',
            style: 'width:100%' } %>
  </div> -->

  <div class="form-group">
    <%= label_tag 'Products', nil, class: 'control-label' %>
    <%= select_tag 'company_tags[product][]',
          # none presently exist, so pass empty array...
          options_for_select([]),
          { multiple: 'true', class: 'company-tags form-control',
            style: 'width:100%' } %>
  </div>

</div>  <!-- col -->

<div class="col-md-12">
  <hr style='margin-top:0'>
</div>

<div class="col-md-4 col-md-offset-8 text-right">
  <div class="form-group">
    <input type='submit' class='btn btn-primary'
      value="<%= @company.new_record? ? 'Register' : 'Save changes' %>">
    &nbsp;
    <button type="reset" class="btn btn-default">
      Cancel
    </button>
  </div>
</div>
<% end %>  <!-- form_for -->