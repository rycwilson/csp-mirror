
(function () {

  var cta = <%= raw @cta.to_json({ methods: [:type] }) %>,
      isPrimary = <%= @is_primary %>,
      template = _.template( $('#cta-template').html() );

  if (isPrimary) {
    $('#primary-cta')
      .empty().append( template({ cta: cta, isPrimary: true }) );
    $('input[type="checkbox"][id="is_primary"]').prop('disabled', true);

  } else {
    $('#secondary-ctas').prepend( template({ cta: cta, isPrimary: false }) );
  }
  $('#new-cta-form')[0].reset();

}());