
<div class='well' id='edit-video-well'
     style='position:relative; margin-bottom:10px'>
  <!-- http://stackoverflow.com/questions/13725683 -->

  <div class="video-container"
       data-placeholder="<%= asset_path('video_placeholder.jpg') %>">

    <% if @story.video_info[:provider] == 'wistia' %>

      <script src="//fast.wistia.com/embed/medias/<%= @story.video_info[:id] %>.jsonp" async></script>
      <script src="//fast.wistia.com/assets/external/E-v1.js" async></script>
      <div class="wistia_responsive_padding"
           style="padding:56.25% 0 0 0; position:relative;">
        <div class="wistia_responsive_wrapper"
             style="height:100%;left:0;position:absolute;top:0;width:100%;">
          <div class="wistia_embed wistia_async_<%= @story.video_info[:id] %>
                popover=true popoverAnimateThumbnail=true videoFoam=true"
               style="display:inline-block; width:100%; height:100%">&nbsp;
          </div>
        </div>
      </div>

    <% elsif @story.video_url.present? %>

      <div id="video-thumb-container"
           data-toggle='modal' data-target='#story-video-modal'
           data-provider="<%= @story.video_info[:provider] %>"
           data-video-id="<%= @story.video_info[:id] %>"
           data-video-url="<%= @story.embed_url %>">
      </div>

    <% else %>

      <img id='video-placeholder' src="<%= asset_path('video_placeholder.jpg') %>"
           class="<%= @story.embed_url.present? ? 'hidden' : '' %>" alt="video placeholder">

    <% end %>
  </div>

  <div style='position:relative'>
    <div style='line-height:32px'>
      <label for='story-embed-url'>Video URL:</label>
    </div>
    <i id='edit-story-embed-url'
       class='glyphicon glyphicon-pencil bip-clickable'
       style='position:absolute;top:22px;right:0'></i>
    <div id='story-embed-url' style='overflow:hidden;text-overflow:ellipsis;width:87%'>
      <%= best_in_place @story, :embed_url, url: story_path(@story.id),
          activator: '#edit-story-embed-url',
          place_holder: '<i>YouTube, Vimeo, or Wistia</i>',
          html_attrs: { style: 'width:100%' } %>
    </div>
  </div>

</div>  <!-- well -->
