
export default (customer, s3) => `

<form id="customer-form" class="directUpload form-horizontal" 
      method="post" action="/customers/${ customer.id }" data-remote="true"
      enctype="multipart/form-data" accept-charset="UTF-8"
      data-form-data="${ JSON.stringify(s3.fields) }" data-url="${ s3.url }" data-host="${ s3.host }">

  <input name="utf8" type="hidden" value="âœ“">
  <input type="hidden" name="_method" value="put">
  <input type="hidden" name="authenticity_token" value="${ $('meta[name=csrf-token]').attr('content') }">
  <input type="hidden" name="customer[id]" value="${ customer.id }">

  <div class="form-group">
    <label for="customer_name" class="col-sm-2 control-label">Name</label>
    <div class="col-sm-10">
      <input type="text" id="customer_name" class="form-control"
            name="customer[name]" value="${ customer.name }">
    </div>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label">Description</label>
    <div class="col-sm-10">
      <textarea name="customer[description]" class="form-control" style="width:100%" rows="4">
        ${ customer.description }
      </textarea>
    </div>
  </div>

  <div class="form-group">

    <label for="customer_logo_url" class="col-sm-2 control-label">Logo</label>

    <div class="col-sm-10">
      <div class="fileinput customer-logo ${ customer.logo_url ? 'fileinput-exists' : 'fileinput-new' }" 
          data-provides="fileinput">

        <div class="customer-logo__header">
          <div class="customer-logo__flash">
            <span>Spaces in file name not allowed</span>
          </div>
          <div class="customer-logo__upload text-center">
            <span>
              <i class="fa fa-fw fa-upload"></i>
              <span>Upload an image</span>
            </span>
          </div>
        </div>

        <div class="text-center">

          <div class="fileinput-new thumbnail" data-trigger='fileinput'>
            <img src="<%= LOGO_PLACEHOLDER_URL %>" alt="Customer Logo">
            <!-- setting the line height inline prevents the jasny bootstrap js from assigning a bogus line height to .customer-name -->
            <div class="customer-name" style="line-height: 18px !important; ${ customer.show_name_with_logo ? '' : 'display: none' }">
              <span>${ customer.name }</span>
            </div>
          </div>

          <div class="fileinput-preview fileinput-exists thumbnail" data-trigger="fileinput">

            ${ customer.logo_url ? `<img src="${ customer.logo_url }" alt="customer logo url">` : '' }
              
            <!-- setting the line height inline prevents the jasny bootstrap js from assigning a bogus line height to .customer-name -->
            <div class="customer-name" style="line-height: 18px !important; ${ customer.show_name_with_logo ? '' : 'display: none' }">
              <span>${ customer.name }</span>
            </div>
          </div>

        </div>

        <div class="btn-file">
          <input type="file" name="customer[logo_url]">
        </div>

        <div class="customer-logo__show-name text-center">
          <label class="checkbox-inline">
            <input name="customer[show_name_with_logo]" type="hidden" value="false">
            <input type="checkbox" value="true" name="customer[show_name_with_logo]"
                  ${ customer.show_name_with_logo ? 'checked' : '' }>
            Show name with logo
          </label>
        </div>

      </div>
    </div>

  </div>

</form>

`